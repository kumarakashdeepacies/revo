/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/datatables-treegrid@1.0.4/dataTables.treeGrid.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n){"use strict";var r=e.fn.dataTable,o=function(t,n){var r=this;if(this instanceof o){void 0!==n&&!0!==n||(n={});var i=new e.fn.dataTable.Api(t).settings()[0];if(this.s={dt:i},i._oTreeGrid)throw"TreeGrid already initialised on this table";i._oTreeGrid=this,i._bInitComplete?this.fnConstruct(n):i.oApi._fnCallbackReg(i,"aoInitComplete",function(){r.fnConstruct(n)},"TreeGrid")}else alert('TreeGrid warning: TreeGrid must be initialised with the "new" keyword.')};function i(t){return e(t).parents("tr")[0]}function a(t){return"TD"===t.tagName?t:e(t).parents("td")[0]}return e.extend(o.prototype,{fnConstruct:function(t){this.s=e.extend(!0,this.s,o.defaults,t);var n=this.s.dt,r=n._select,d=e(n.nTable).dataTable().api(),s=this.s.left,c={},l=e(this.s.expandIcon),f=e(this.s.collapseIcon),u=function(t){var n=c[t];n&&n.length&&(n.forEach(function(t){var n=e(t).attr("tg-id");c[n]&&u(n),d.row(e(t)).remove(),e(t).remove()}),delete c[t],e("#"+t).find(".treegrid-control-open").each(function(t,n){e(n).removeClass("treegrid-control-open").addClass("treegrid-control"),e(n).html("").append(l.clone())}))},p=function(t){var n=["odd","even"];e(t.table().body()).find("tr").each(function(t,r){e(r).removeClass("odd even").addClass(n[t%2])})};d.on("click","td.treegrid-control",function(t){if(e(this).html()){var n=[];r&&(n=d.rows({selected:!0}).indexes().toArray());var o=i(t.target),l="tr-"+Date.now();e(o).attr("tg-id",l);var u=d.row(o),h=u.index(),v=u.data(),g=e(d.cell(a(t.target)).node()),m=parseInt(g.css("padding-left"),10),w=parseInt(g.find("span").css("margin-left")||0,10)/s,x=f.clone();if(x.css("marginLeft",w*s+"px"),g.removeClass("treegrid-control").addClass("treegrid-control-open"),g.html("").append(x),v.children&&v.children.length){var T=c[l]=[],b=u.node();v.children.forEach(function(t){var n=d.row.add(t).node(),r=e(n).find(".treegrid-control"),o=(w+1)*s;e(n).attr("parent-index",h),r.find("span").css("marginLeft",o+"px"),r.next().css("paddingLeft",m+o+"px"),e(n).insertAfter(b),b=n,T.push(n)}),p(d),r&&setTimeout(function(){d.rows(n).select()},0)}}}),d.on("click","td.treegrid-control-open",function(t){var n=[];r&&(n=d.rows({selected:!0}).indexes().toArray());var o=i(t.target),c=e(o).attr("tg-id"),f=e(d.cell(a(t.target)).node()),h=parseInt(f.find("span").css("margin-left")||0,10)/s,v=l.clone();v.css("marginLeft",h*s+"px"),f.removeClass("treegrid-control-open").addClass("treegrid-control"),f.html("").append(v),u(c),p(d),r&&setTimeout(function(){d.rows(n).select()},0)}),d.on("page",function(){u()}),d.on("order",function(){u()});var h=!1;r&&"multi"===r.style&&d.on("select",function(t,n,r,o){h||(h=!0,o.forEach(function(t){!function t(n,r){var o=n.row(r);var i=e(o.node()).attr("parent-index");if(null!==i){var a='[parent-index="'+(i=+i)+'"]',d=n.rows(a).nodes(),s=n.rows(a,{selected:!0}).nodes();if(d.length===s.length){var c=n.row(i,{selected:!1});c.select(),c.node()&&t(n,i)}}}(d,t),function e(t,n){var r=t.rows('[parent-index="'+n+'"]',{selected:!1});var o=r.indexes().toArray();o.length&&(r.select(),o.forEach(function(n){e(t,n)}))}(d,t)}),h=!1)}),r&&"multi"===r.style&&d.on("deselect",function(t,n,r,o){h||(h=!0,o.forEach(function(t){!function t(n,r){var o=n.row(r);var i=e(o.node()).attr("parent-index");if(null!==i){i=+i;var a=n.row(i,{selected:!0});a.deselect(),a.node()&&t(n,i)}}(d,t),function e(t,n){var r=t.rows('[parent-index="'+n+'"]',{selected:!0});var o=r.indexes().toArray();o.length&&(r.deselect(),o.forEach(function(n){e(t,n)}))}(d,t)}),h=!1)})}}),o.defaults={left:12,expandIcon:"<span>+</span>",collapseIcon:"<span>-</span>"},o.version="1.0.4",r.Api.register("treeGrid()",function(){return this}),e(n).on("init.dt.treeGrid",function(t,n){if("dt"===t.namespace){var i=n.oInit.treeGrid,a=r.defaults.treeGrid;if(i||a){var d=e.extend({},i,a);!1!==i&&new o(n,d)}}}),e.fn.dataTable.TreeGrid=o,e.fn.DataTable.TreeGrid=o,o});
//# sourceMappingURL=/sm/0d3c75553c499eba8a5fdf3d97faf4fa0284459564cb4d7845f4f83ef57ddfce.map