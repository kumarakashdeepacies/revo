function datatables(e){$("#"+e).DataTable({autoWidth:!0,scrollY:"25vh",scrollX:"110%",scrollCollapse:!0,responsive:!0,deferRender:!0,paging:!1,searching:!1,info:!0,order:[],stripeClasses:!1,pageLength:100,dom:"lfBrtip",buttons:[],columnDefs:[{targets:"_all",className:"dt-center allColumnClass all"},{targets:0,width:"20%",className:"noVis"}]}).columns.adjust()}function addColDiv(){function e(e,t){const n=[...e.querySelectorAll(".draggable:not(.dragging)")];return n.reduce((e,n)=>{const i=n.getBoundingClientRect(),a=t-i.top-i.height/2;return a<0&&a>e.offset?{offset:a,element:n}:e},{offset:Number.POSITIVE_INFINITY}).element}$("#exampledata1").remove(),$("#exampledata1_wrapper").remove();const t=document.createElement("div");let n="";n=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name");let i,a="comp",r="",o=0,l={},c="";void 0===n&&(n=$("#FileName").attr("data-experimentName"),void 0===n&&(a="datamgm",$("#tname").val()&&"add"!==String(idenFlag)?n=$("#tname").val():"add"===String(idenFlag)||"edit"===String(idenFlag)?n=$(".dataElements").find("p").text():1==listViewComp&&(n=listViewModelName))),t.className="ebDataElementsDiv dragAreaPossible";const d=document.createElement("button");d.className="btn btn-primary btn-xs mx-2 rounded px-2",d.innerHTML="Data",d.addEventListener("click",function(){const e=[],t=[];let d="",s=[],u=[];const p=[],g=[];let m,f;const _=new Set,v=new Set,S=$(this).parent(".ebDataElementsDiv").find(".ColumnItem");for(let e=0;e<S.length;e++)_.add(S[e].getAttribute("data-table")),v.add(S[e].getAttribute("data-element_id"));s=Array.from(_),u=Array.from(v),"datamgm"===String(a)?"add"!==String(idenFlag)&&"edit"!==String(idenFlag)&&0==listViewComp?m=$("#tname").val():"add"===String(idenFlag)||"edit"===String(idenFlag)?m=$(".dataElements").find("p").text():1==listViewComp&&(m=listViewModelName):m="";const h=$(this).parent(".ebDataElementsDiv").find(".ColumnItem");if(s.length>1)for(let t=0;t<s.length-1;t++){i=s[t];for(let e=0;e<h.length;e++)String(h[e].getAttribute("data-table"))===String(i)?p.push(h[e].querySelector("p").innerText):g.push(h[e].querySelector("p").innerText);e.push(p),e.push(g)}else{f=$(this).parent(".ebDataElementsDiv").find(".ColumnItem").find("p");for(let e=0;e<f.length;e++)t.push(f[e].innerText);e.push(t)}if(s.includes(n)||"datamgm"!==String(a)||"1"!==String($(this).parent().index())||(o=1),o)Swal.fire({icon:"warning",text:"Kindly select the Join operation first with the existing and newly created table."});else for(let t=0;t<s.length;t++)c=String(s[t])===String(m)?"Yes":"No",l={function:"Import Data",data_mapper:{current_element_name:s[t]},inputs:{Data_source:"Database",Table:s[t],Columns:e[t],global_var:"",parent_table_column:"",current_table_column:"",show_foreignKey_value:!1,current_table:c},condition:{}},l.outputs={name:"",save:""},d=c,"comp"===String(a)&&($("#where_condition").attr("data-data",JSON.stringify({data1:n,data2:u[t],data3:l,elementName:u[t]})),void 0!==filter_list[u[t]]?l.condition=filter_list[u[t]]:filter_list[u[t]]=[]),"comp"===String(a)?r=u[t]:"datamgm"===String(a)&&0==listViewComp?r=n+selectedCol+Math.floor(1e10*Math.random()+1):"datamgm"===String(a)&&1==listViewComp&&(r=n+listViewCompCol+Math.floor(1e10*Math.random()+1)),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:n,data2:u[t],data3:l,elementName:r,data_id:a}),operation:"save_import_data",data_source:"Database"},type:"POST",dataType:"json",success:function(e){"datamgm"===String(a)?Swal.fire({icon:"success",text:"Import Configuration saved successfully!"}):"comp"===String(a)&&(is_create_val=compValProcess?"yes":"no",$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"data_reload",element_id:u[t],model_name:n,model_element_id:MelementID,is_create_val:is_create_val},type:"POST",dataType:"json",success:function(e){Swal.fire({icon:"success",text:"Import Configuration saved successfully! \n Executing the block. Please wait.."});const t=e.job_id,n="",i="";fetchJobOutput1(t,n,i)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}))},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}),t.append(d),dataElementParent.append(t);const s=document.querySelectorAll(".dragAreaPossible");s.forEach(t=>{t.addEventListener("dragover",n=>{n.preventDefault();const i=e(t,n.clientY),a=document.querySelector(".dragging");null===i?(t.appendChild(a),t.querySelector(".EbOverlay")&&(t.querySelector(".EbOverlay").className="EBshow"),t.querySelector(".heartIcon")&&(t.querySelector(".heartIcon").className="EBhide")):(t.insertBefore(a,i),t.querySelector(".EbOverlay")&&(t.querySelector(".EbOverlay").className="EBshow"),t.querySelector(".heartIcon")&&(t.querySelector(".heartIcon").className="EBhide"))})})}function countSteps(e){const t=[];for(let n=1;n<=e;n++)t.push(n);const n=t.map(e=>`\n        <h2 class="stepNumberEB">${e}</h2>\n        `).join("");stepNumsEb.innerHTML=n}function displayPreviews(){const e=document.querySelector(".ebFunctions"),t=e.querySelectorAll(".function"),n=[];let i="";t.forEach(e=>{n.push(e.querySelector("h2").innerText)});const a=$(".ebDataElementsDiv").length;indexCount=n.length,countSteps(n.length),i=void 0===$("#tname").val()&&0==listViewComp?"comp":"datamgm",n.length>counter&&a<indexCount&&(addColDiv(),"0"===String(counter)?$(".ebFunctions").find("div").eq(counter).find("span").css("display","block"):($(".ebFunctions").find("div").eq(counter).find("span").css("display","block"),$(".ebFunctions").find("div").eq(counter-1).find("span").css("display","none")),counter++,$("#functionPreviews").append('\n            <div class="function" onclick="">\n\n                <h2></h2>\n                <p style="display:none;"></p>\n\n            </div>\n        '))}function displayFav(e){const t=1e12,n=9999999999999;let i;const a="applyMathOps"+(Math.floor(Math.random()*(n-t+1))+t).toString(),r="mergeAndJoin"+(Math.floor(Math.random()*(n-t+1))+t).toString(),o="renameColumn"+(Math.floor(Math.random()*(n-t+1))+t).toString(),l="pivotAndTranspose"+(Math.floor(Math.random()*(n-t+1))+t).toString(),c="concatColumn"+(Math.floor(Math.random()*(n-t+1))+t).toString();i=void 0===$("#tname").val()&&0==listViewComp?"comp":"datamgm";const d=e.map(e=>"Left Join"===String(e)||"Right Join"===String(e)||"Inner Join"===String(e)||"Outer Join"===String(e)||"Filter"===String(e)||"Add Column"===String(e)||"Append and Concatenate"===String(e)||"Sort"===String(e)||"Groupby"===String(e)?`\n        <div class="function draggable" draggable="true">\n            <h2>${e}</h2>\n            <h3 class="RemoveIcon heartIcon" onClick="removeFav('${e}')">&#10006;</h3>\n            <a title="configure" href="#" name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${r}" data-element_comp="${i}"  onClick="popupOpen();takeFuncInput('${e}','${r}','${indexCount}',this)">&#11167;</a>\n        </div>\n    `:"Rename and Drop"===String(e)?`\n        <div class="function draggable" draggable="true">\n            <h2>${e}</h2>\n            <h3 class="RemoveIcon heartIcon" onClick="removeFav('${e}')">&#10006;</h3>\n            <a title="configure" href="#" name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${o}" data-element_comp="${i}" onClick="popupOpen();takeFuncInput('${e}','${o}','${indexCount}',this)">&#11167;</a>\n        </div>\n    `:"Pivot"===String(e)||"Unpivot"===String(e)?`\n        <div class="function draggable" draggable="true">\n            <h2>${e}</h2>\n            <h3 class="RemoveIcon heartIcon" onClick="removeFav('${e}')">&#10006;</h3>\n            <a title="configure" href="#" name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${l}" data-element_comp="${i}" onClick="popupOpen();takeFuncInput('${e}','${l}','${indexCount}',this)">&#11167;</a>\n        </div>\n    `:"Concat Columns"===String(e)?`\n        <div class="function draggable" draggable="true">\n            <h2>${e}</h2>\n            <h3 class="RemoveIcon heartIcon" onClick="removeFav('${e}')">&#10006;</h3>\n            <a title="configure" href="#" name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${c}" data-element_comp="${i}" onClick="popupOpen();takeFuncInput('${e}','${c}','${indexCount}',this)">&#11167;</a>\n        </div>\n    `:`\n        <div class="function draggable" draggable="true">\n            <h2>${e}</h2>\n            <h3 class="RemoveIcon heartIcon" onClick="removeFav('${e}')">&#10006;</h3>\n            <a title="configure" href="#" name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${a}" data-element_comp="${i}" onClick="popupOpen();takeFuncInput('${e}','${a}','${indexCount}',this)">&#11167;</a>\n        </div>\n    `).join("");favouriteList.innerHTML=d,draggables=document.querySelectorAll(".draggable"),draggables.forEach(t=>{t.addEventListener("dragstart",e=>{t.classList.add("dragging")}),t.addEventListener("dragend",n=>{t.classList.remove("dragging"),displayPreviews(),displayFav(e),displayCharacters(funcDic)})})}function addToFav(e){favFunctionList.push(e),favFunctionList.length>0&&void 0===$("#favouriteList").attr("data-element_id")&&$("#favouriteList").attr("data-element_id","saveFav"+(Math.floor(9e12*Math.random())+1e12).toString()),displayFav(favFunctionList)}function removeFav(e){const t=favFunctionList.indexOf(e);favFunctionList.splice(t,1),"0"===String(favFunctionList.length)&&void 0!==$("#favouriteList").attr("data-element_id")&&$("#favouriteList").removeAttr("data-element_id"),displayFav(favFunctionList)}function changeTab(e){currentTab=e;const t=e.split("-");e=t[0],displaySelectedTables();let n=[];String($("#tname").val())===String(e)&&"add"!==String(idenFlag)?($("#table .hide").slice(0,tb_index+1).each(function(){n.push($(this).find("td").find("#fld_name").text())}),displayColumns(n,e)):"edit"===String(idenFlag)?(n=edit_col_list,displayColumns(n,e)):$.ajax({url:`/users/${urlPath}/computationModule/`,data:{table_name:e,operation:"fetch_table_columns"},type:"POST",dataType:"json",success:function(t){$("#selectColumn").empty();for(const e in t.columnList)n.push(t.columnList[e]);"add"===String(idenFlag)&&(n.includes($("#fieldmdl").val())||n.push($("#fieldmdl").val())),displayColumns(n,e)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}function findreplacechangeeb(){let e=$(".Find_and_Replace1 option:selected").attr("data-datatype");null==e&&(e=""),$(".Find_and_Replace3").empty(),e.startsWith("datetime")||e.startsWith("float")||e.startsWith("int")?$(".Find_and_Replace3").append('\n      <option value="Equal to" selected>Equal to</option>\n      <option value="Not Equal to">Not Equal to</option>\n      <option value="Entire Column">Replace entire Column with static value</option>\n      <option value="Greater than">Greater than</option>\n      <option value="Greater than equal to">Greater than equal to</option>\n      <option value="Smaller than">Smaller than</option>\n      <option value="Smaller than equal to">Smaller than equal to</option>'):$(".Find_and_Replace3").append('\n      <option value="Equal to" selected>Equal to</option>\n      <option value="Not Equal to">Not Equal to</option>\n      <option value="Entire Column">Replace entire Column with static value</option>\n      <option value="Greater than">Greater than</option>\n      <option value="Greater than equal to">Greater than equal to</option>\n      <option value="Smaller than">Smaller than</option>\n      <option value="Smaller than equal to">Smaller than equal to</option>\n      <option value="Starts with">Starts with</option>\n      <option value="Ends with">Ends with</option>\n      <option value="Not Starts with">Not Starts with</option>\n      <option value="Not Ends with">Not Ends with</option>\n      <option value="Contains">Contains</option>\n      <option value="Not Contains">Not Contains</option>'),null==e&&(e=""),e.startsWith("float")||e.startsWith("int")?$(".Find_and_Replace4").attr("type","number"):e.startsWith("datetime")?($(".Find_and_Replace4").attr("type","datetime-local"),$(".Find_and_Replace4").attr("step","1")):$(".Find_and_Replace4").attr("type","text")}function replacechangeeb(){let e=$(".Find_and_Replace2 option:selected").attr("data-datatype");null==e&&(e=""),e.startsWith("float")||e.startsWith("int")?$(".Find_and_Replace5").attr("type","number"):e.startsWith("datetime")?($(".Find_and_Replace5").attr("type","datetime-local"),$(".Find_and_Replace5").attr("step","1")):$(".Find_and_Replace5").attr("type","text")}function selectcasechangeeb(){"Entire Column"==$(".Find_and_Replace3").val()?$(".Find_and_Replace4").parent().css("display","none"):$(".Find_and_Replace4").parent().css("display","block")}function getDragAfterElement(e,t){const n=[...e.querySelectorAll(".draggable:not(.dragging)")];return n.reduce((e,n)=>{const i=n.getBoundingClientRect(),a=t-i.top-i.height/2;return a>0&&a<e.offset?{offset:a,element:n}:e},{offset:Number.NEGATIVE_INFINITY}).element}function popupOpen(){document.getElementById("popup").style.display="block",document.getElementById("overlay").style.display="block"}function popupClose(){document.getElementById("popup").style.display="none",document.getElementById("overlay").style.display="none"}function rebuild(){$("#functionsList").empty();const e=document.querySelector(".ebFunctions"),t=e.querySelectorAll(".function"),n=[];t.forEach(e=>{n.push(e.querySelector("h2").innerText)});const i=n.length;let a;const r=1e12,o=9999999999999,l="applyMathOps"+(Math.floor(Math.random()*(o-r+1))+r).toString(),c="mergeAndJoin"+(Math.floor(Math.random()*(o-r+1))+r).toString(),d="renameColumn"+(Math.floor(Math.random()*(o-r+1))+r).toString(),s="pivotAndTranspose"+(Math.floor(Math.random()*(o-r+1))+r).toString(),u="concatColumn"+(Math.floor(Math.random()*(o-r+1))+r).toString();a=void 0===$("#tname").val()?"comp":"datamgm";const p=funcDic.map(e=>"Left Join"===String(e.name)||"Right Join"===String(e.name)||"Inner Join"===String(e.name)||"Outer Join"===String(e.name)||"Append and Concatenate"===String(e.name)||"Filter"===String(e.name)||"Add Column"===String(e.name)||"Sort"===String(e.name)||"Groupby"===String(e.name)?`\n                <div class="function draggable" draggable="true">\n                    <h2>${e.name}</h2>\n                    <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="fas fa-thumbs-up"></i></h3>\n                    <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${c}" data-element_comp="${a}"  onClick="popupOpen();takeFuncInput('${e.name}','${c}','${i}',this)">&#11167;</a>\n                    <span title="delete" style="display:none;" class="deleteitem" data-element_id="${c}" data-element_comp="${a}"  onClick="deleteElement(this)">&#10006;</span>\n                    </div>\n            `:"Rename and Drop"===String(e.name)?`\n                    <div class="function draggable" draggable="true">\n                        <h2>${e.name}</h2>\n                        <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="fas fa-thumbs-up"></i></h3>\n                        <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${d}" data-element_comp="${a}"  onClick="popupOpen();takeFuncInput('${e.name}','${d}','${i}',this)">&#11167;</a>\n                        <span title="delete" style="display:none;" class="deleteitem" data-element_id="${d}" data-element_comp="${a}"  onClick="deleteElement(this)">&#10006;</span>\n                        </div>\n                `:"Pivot"===String(e.name)||"Unpivot"===String(e.name)?`\n                    <div class="function draggable" draggable="true">\n                        <h2>${e.name}</h2>\n                        <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="fas fa-thumbs-up"></i></h3>\n                        <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${s}" data-element_comp="${a}"  onClick="popupOpen();takeFuncInput('${e.name}','${s}','${i}',this)">&#11167;</a>\n                        <span title="delete" style="display:none;" class="deleteitem" data-element_id="${s}" data-element_comp="${a}"  onClick="deleteElement(this)">&#10006;</span>\n                        </div>\n                `:"Concat Columns"===String(e.name)?`\n                    <div class="function draggable" draggable="true">\n                        <h2>${e.name}</h2>\n                        <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="fas fa-thumbs-up"></i></h3>\n                        <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${u}" data-element_comp="${a}"  onClick="popupOpen();takeFuncInput('${e.name}','${u}','${i}',this)">&#11167;</a>\n                        <span title="delete" style="display:none;" class="deleteitem" data-element_id="${u}" data-element_comp="${a}"  onClick="deleteElement(this)">&#10006;</span>\n                        </div>\n                `:`\n                <div class="function draggable" draggable="true">\n                    <h2>${e.name}</h2>\n                    <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="fas fa-thumbs-up"></i></h3>\n                    <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${l}" data-element_comp="${a}"  onClick="popupOpen();takeFuncInput('${e.name}','${l}','${i}',this)">&#11167;</a>\n                    <span title="delete" style="display:none;" class="deleteitem" data-element_id="${l}" data-element_comp="${a}"  onClick="deleteElement(this)">&#10006;</span>\n                    </div>\n            `).join("");$("#functionsList").append(p),draggables=document.querySelectorAll(".draggable"),draggables.forEach(e=>{e.addEventListener("dragstart",t=>{e.classList.add("dragging")}),e.addEventListener("dragend",t=>{e.classList.remove("dragging"),rebuild(),displayPreviews()})})}function eqBuilder(e,t,n){let i;$(".closeEqBuilder").on("click",function(){"modelelementid2"==n&&($("#where_condition").css("display","block"),$("#export_data_equ").css("display","block")),$("#functionsList").empty(),$("#selectedTablesDiv").empty(),$("#table-columns").empty(),selectedTables={},$("#filter-table").empty(),compValProcess=!1,compValProcessName="",compValVarName=[];const e=1e12,t=9999999999999,a="applyMathOps"+(Math.floor(Math.random()*(t-e+1))+e).toString(),r="mergeAndJoin"+(Math.floor(Math.random()*(t-e+1))+e).toString(),o="renameColumn"+(Math.floor(Math.random()*(t-e+1))+e).toString(),l="pivotAndTranspose"+(Math.floor(Math.random()*(t-e+1))+e).toString(),c="concatColumn"+(Math.floor(Math.random()*(t-e+1))+e).toString();i=void 0===$("#tname").val()||compValProcess?"comp":"datamgm";const d=funcDic.map(e=>"Left Join"===String(e.name)||"Right Join"===String(e.name)||"Inner Join"===String(e.name)||"Outer Join"===String(e.name)||"Append and Concatenate"===String(e.name)||"Filter"===String(e.name)||"Add Column"===String(e.name)||"Sort"===String(e.name)||"Groupby"===String(e.name)||"Networkdays"===String(e.name)||"Networkdays.Intl"===String(e.name)||"Workdays"===String(e.name)||"Workdays.Intl"===String(e.name)?`\n                <div class="function draggable" draggable="true">\n                    <h2>${e.name}</h2>\n                    <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="fas fa-thumbs-up"></i></h3>\n                    <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${r}" data-element_comp="${i}"  onClick="popupOpen();takeFuncInput('${e.name}','${r}','0',this)">&#11167;</a>\n                    <span title="delete" style="display:none;" class="deleteitem" data-element_id="${r}" data-element_comp="${i}"  onClick="deleteElement(this)">&#10006;</span>\n                    </div>\n            `:"Rename and Drop"===String(e.name)?`\n                    <div class="function draggable" draggable="true">\n                        <h2>${e.name}</h2>\n                        <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="fas fa-thumbs-up"></i></h3>\n                        <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${o}" data-element_comp="${i}"  onClick="popupOpen();takeFuncInput('${e.name}','${o}','0',this)">&#11167;</a>\n                        <span title="delete" style="display:none;" class="deleteitem" data-element_id="${o}" data-element_comp="${i}"  onClick="deleteElement(this)">&#10006;</span>\n                        </div>\n                `:"Pivot"===String(e.name)||"Unpivot"===String(e.name)?`\n                    <div class="function draggable" draggable="true">\n                        <h2>${e.name}</h2>\n                        <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="fas fa-thumbs-up"></i></h3>\n                        <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${l}" data-element_comp="${i}"  onClick="popupOpen();takeFuncInput('${e.name}','${l}','0',this)">&#11167;</a>\n                        <span title="delete" style="display:none;" class="deleteitem" data-element_id="${l}" data-element_comp="${i}"  onClick="deleteElement(this)">&#10006;</span>\n                        </div>\n                `:"Concat Columns"===String(e.name)?`\n                    <div class="function draggable" draggable="true">\n                        <h2>${e.name}</h2>\n                        <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="fas fa-thumbs-up"></i></h3>\n                        <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${c}" data-element_comp="${i}"  onClick="popupOpen();takeFuncInput('${e.name}','${c}','0',this)">&#11167;</a>\n                        <span title="delete" style="display:none;" class="deleteitem" data-element_id="${c}" data-element_comp="${i}"  onClick="deleteElement(this)">&#10006;</span>\n                        </div>\n                `:`\n                <div class="function draggable" draggable="true">\n                    <h2>${e.name}</h2>\n                    <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="fas fa-thumbs-up"></i></h3>\n                    <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${a}" data-element_comp="${i}"  onClick="popupOpen();takeFuncInput('${e.name}','${a}','0',this)">&#11167;</a>\n                    <span title="delete" style="display:none;" class="deleteitem" data-element_id="${a}" data-element_comp="${i}"  onClick="deleteElement(this)">&#10006;</span>\n                    </div>\n            `).join("");functionsList.innerHTML=d,draggables=document.querySelectorAll(".draggable"),draggables.forEach(e=>{e.addEventListener("dragstart",t=>{e.classList.add("dragging")}),e.addEventListener("dragend",t=>{e.classList.remove("dragging"),rebuild(),displayPreviews()})})}),$("#EBDisplayButtonID").attr("data-name",e+t),MelementID=$(`#modelName_${n}`).attr("data-model_name"),$("#EBDisplayButtonID").attr("data-p_table_name",MelementID),"modelelementid2"==n&&($("#where_condition").css("display","none"),$("#export_data_equ").css("display","none")),$("#EBDisplayButtonID,.eqbuilder_mul_Cl,.val_based_msg_global_var_eq").off("click").on("click",function(){$("#EBDisplayModel").modal("show"),counter=0,$(".ebDataElementsDiv").remove(),$(".ebFunctions").find(".function").remove(),$(".ebSteps").find("#stepNumsEb").empty(),$("#functionPreviews").empty(),i=void 0===$("#tname").val()||compValProcess?"comp":"datamgm",$.ajax({url:`/users/${urlPath}/computationModule/`,data:{model_name:e+t,operation:"eq_reload_config"},type:"POST",dataType:"json",success:function(a){$("#exampledata1").remove(),$("#exampledata1_wrapper").remove(),idenFlag2=0==Object.keys(a.import_data).length?"scen_new":"scen_old";for(let[i,r]of Object.entries(a.import_data))for(let[i,a]of Object.entries(r)){let r="";"ele_id"==i&&(r=a,filter_list[r]=[],$.ajax({url:`/users/${urlPath}/computationModule/`,data:{model_name:e+t,element_id:r,operation:"import_config",model_element_id:MelementID},type:"POST",dataType:"json",success:function(i){if($("#elementNameImportD").val("").trigger("change"),$("#dropdown1").val("").trigger("change"),$("#dropdown1").val("").trigger("select2:select"),$("#selectTable").val("").trigger("change"),$("#selectTable").val("").trigger("select2:select"),$("selectColumn").empty(),$("#filter-table").empty(),$("#Table").css("display","none"),$("#Column").css("display","none"),$("#csvForm").css("display","none"),$("#where_condition").css("display","none"),$("#data_btn").css("display","none"),$("#import_data_global_var_div").css("display","none"),$("#model_output_selection").css("display","none"),$("#selectModelName").val("").trigger("change"),$("#selectOutputName").val("").trigger("change"),$("#apiForm").css("display","none"),$("#clear-editor").trigger("click"),Object.keys(i).length>0)for(let e=0;e<i.element_config.condition.length;e++)i.element_config.condition[e].hasOwnProperty("table")||(i.element_config.condition[e].table=i.table_name);const a=i.element_config;compValProcess?$("#where_condition").attr("data-data",JSON.stringify({elementName:i.element_id,data3:i.element_config})):$("#where_condition").attr("data-data",JSON.stringify({elementName:e+t,data3:i.element_config}));const r=i.element_id,o=a.inputs.Data_source,l=a.inputs.Table,c=a.condition;if(filter_list[r]=c,"Database"===String(o))if($("#Table").css("display","block"),$("#Column").css("display","block"),$("#csvForm").css("display","none"),$("#where_condition").css("display","inline-block"),"modelelementid2"==n&&($("#where_condition").css("display","none"),$("#export_data_equ").css("display","none")),$("#dropdown1").val(o).trigger("change"),$("#dropdown1").val(o).trigger("select2:select"),$("#selectTable").val(l).trigger("change"),$("#selectTable").val(l).trigger("select2:select"),c.length>0){const e=i.form_fields;$("#filter-table").empty();for(let t=0;t<c.length;t++){const n=c[t].column_name,a=c[t].condition,r=c[t].input_value,o=c[t].globalVariable,l=e[n];$("#filter-table").append(l),c[t].hasOwnProperty("table")&&$("#filter-table").find("tr").eq(-1).attr("data-table",c[t].table),$("#filter-table").find("tr").eq(-1).find("td").eq(3).remove();const s=$("#filter-table").find("tr").eq(-1).find("input").attr("type");$("#filter-table").find("tr").eq(-1).append(`\n                            <td class="dt-center">\n                            <div class="" style="max-width:25em;">\n                              <select class="form-control select2bs4" name=${n} data-dropdown_purpose="select_global_variable" data-type="${s}">\n                                <option value="" selected disabled>Select Global Variable</option>\n                              </select>\n                            </div>\n                            </td>\n                            `),compValProcess&&$("#filter-table").find("tr").eq(-1).append(`<td class="dt-center">\n                            <div class="" style="max-width:25em;">\n                              <input type="text" placeholder="Default value" name=${n} data-type="${s}" maxlength="100" class="textinput textInput form-control" required="">\n                            </div>\n                          </td >`);let u=[];"text"===String(s)?u=i.global_text_list:"number"===String(s)?u=i.global_number_list:"date"===String(s)?u=i.global_date_list:"datetime-local"===String(s)&&(u=i.global_datetime_list);for(let e=0;e<u.length;e++){const t=u[e];$("#filter-table").find("tr").eq(-1).find("select").eq(1).append(`<option value='${t}'> ${t}</option>`)}if(compValProcess)for(let e=0;e<compValVarName.length;e++){let t=compValVarName[e];$("#filter-table").find("tr").eq(-1).find("select").eq(1).append(`<option value='${t}'> ${t}</option>`)}$("#filter-table").find(`tr:nth-child(${t+1})`).find("td:nth-child(2) > div > select").val(a).trigger("change"),$("#filter-table").find(`tr:nth-child(${t+1})`).find("td:nth-child(3) > div > input").val(r).trigger("change"),$("#filter-table").find(`tr:nth-child(${t+1})`).find("td:nth-child(4) > div > select").val(o).trigger("change"),compValProcess&&($("#filter-table").find(`tr:nth-child(${t+1})`).find("td:nth-child(5) > div > input").val(r).trigger("change"),$("#filter-table").find(`tr:nth-child(${t+1})`).find("td:nth-child(3) > div > input").val("").trigger("change")),$("#filter-table").find("tr").eq(-1).find("select").each(function(){$(this).select2()}),$(".remove_filter").on("click",d)}function d(){$(this).closest("tr").remove()}}else $("#filter-table").empty();else $("#dropdown1").css("display","block")},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}))}let r=0;for(const[e,t]of Object.entries(a.func_data))for(const[e,n]of Object.entries(t))if("Export data"===String(t.text)){r=1;break}counter=r?Object.keys(a.func_data).length-1:Object.keys(a.func_data).length;const o=[];let l="",c=0;for(const[e,t]of Object.entries(a.func_data))if("Export data"!==String(t.text)){"Ceiling"===String(t.text)||"Floor"===String(t.text)||"Floor"===String(t.text)||"Odd"===String(t.text)||"Even"===String(t.text)||"Round"===String(t.text)||"Round_Up"===String(t.text)||"Round_Down"===String(t.text)||"Truncate"===String(t.text)?(t.text="Round",o.push(t.text)):"Log_base"===String(t.text)||"Exponential"===String(t.text)||"Natural_Log"===String(t.text)?(t.text="Log",o.push(t.text)):"Power"===String(t.text)?(t.text="Square root",o.push(t.text)):"left"===String(t.text)?(t.text="Left Join",o.push(t.text)):"right"===String(t.text)?(t.text="Right Join",o.push(t.text)):"inner"===String(t.text)?(t.text="Inner Join",o.push(t.text)):"outer"===String(t.text)?(t.text="Outer Join",o.push(t.text)):"append"==String(t.text)?(t.text="Append and Concatenate",func_list.push(t.text)):"filter"===String(t.text)?(t.text="Filter",o.push(t.text)):"AddColumn"===String(t.text)?(t.text="Add Column",o.push(t.text)):"unpivot"===String(t.text)?(t.text="Unpivot",o.push(t.text)):"sort"===String(t.text)?t.text="Sort":"groupby"===String(t.text)?(t.text="Groupby",o.push(t.text)):"pivot"===String(t.text)?(t.text="Pivot",o.push(t.text)):o.push(t.text),$(".ebFunctions").append(`<div class="function draggable" draggable="true">\n                            <h2>${t.text}</h2>\n                            <h3 class="EBhide" onclick="addToFav('${t.text}')" value="${t.text}"><i class="fas fa-thumbs-up"></i></h3>\n                            <a title="configure" href="#" name="Open" class="EBshow" id="open-overlay" data-element_id="${t.ele_id}" data-element_comp="${i}" onclick="popupOpen();takeFuncInput('${t.text}','${t.ele_id}','${t.order}')">⮟</a>\n                            <span title="delete" style="display:none;" class="deleteitem" data-element_id="${t.ele_id}"  onClick="deleteElement(this)">&#10006;</span>\n                            </div>`),$("#stepNumsEb").append(`<h2 class="stepNumberEB"> ${t.order+1}</h2>`);const e=1e12,n=9999999999999,a="applyMathOps"+(Math.floor(Math.random()*(n-e+1))+e).toString(),r="mergeAndJoin"+(Math.floor(Math.random()*(n-e+1))+e).toString(),l="renameColumn"+(Math.floor(Math.random()*(n-e+1))+e).toString(),d="pivotAndTranspose"+(Math.floor(Math.random()*(n-e+1))+e).toString(),s="concatColumn"+(Math.floor(Math.random()*(n-e+1))+e).toString();c++
;const u=funcDic.map(e=>"Left Join"===String(e.name)||"Right Join"===String(e.name)||"Inner Join"===String(e.name)||"Outer Join"===String(e.name)||"Append and Concatenate"===String(e.name)||"Filter"===String(e.name)||"Add Column"===String(e.name)||"Sort"===String(e.name)||"Groupby"===String(e.name)||"Networkdays"===String(e.name)||"Networkdays.Intl"===String(e.name)||"Workdays"===String(e.name)||"Workdays.Intl"===String(e.name)?`<div class="function draggable" draggable="true">\n                                <h2>${e.name}</h2>\n                                <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="fas fa-thumbs-up"></i></h3>\n                                <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${r}" data-element_comp="${i}"  onClick="popupOpen();takeFuncInput('${e.name}','${r}','${c}',this)">&#11167;</a>\n                                <span title="delete" style="display:none;" class="deleteitem" data-element_id="${r}" data-element_comp="${i}"  onClick="deleteElement(this)">&#10006;</span>\n                                </div>\n    `:"Rename and Drop"===String(e.name)?`<div class="function draggable" draggable="true">\n                                    <h2>${e.name}</h2>\n                                    <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="fas fa-thumbs-up"></i></h3>\n                                    <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${l}" data-element_comp="${i}"  onClick="popupOpen();takeFuncInput('${e.name}','${l}','${c}',this)">&#11167;</a>\n                                    <span title="delete" style="display:none;" class="deleteitem" data-element_id="${l}" data-element_comp="${i}"  onClick="deleteElement(this)">&#10006;</span>\n                                    </div>\n    `:"Pivot"===String(e.name)||"Unpivot"===String(e.name)?`\n                    <div class="function draggable" draggable = "true" >\n                                    <h2>${e.name}</h2>\n                                    <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="fas fa-thumbs-up"></i></h3>\n                                    <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${d}" data-element_comp="${i}"  onClick="popupOpen();takeFuncInput('${e.name}','${d}','${c}',this)">&#11167;</a>\n                                    <span title="delete" style="display:none;" class="deleteitem" data-element_id="${d}" data-element_comp="${i}"  onClick="deleteElement(this)">&#10006;</span>\n                                    </div >\n                          `:"Concat Columns"===String(e.name)?`\n                                <div class="function draggable" draggable="true">\n                                    <h2>${e.name}</h2>\n                                    <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="fas fa-thumbs-up"></i></h3>\n                                    <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${s}" data-element_comp="${i}"  onClick="popupOpen();takeFuncInput('${e.name}','${s}','${c}',this)">&#11167;</a>\n                                    <span title="delete" style="display:none;" class="deleteitem" data-element_id="${s}" data-element_comp="${i}"  onClick="deleteElement(this)">&#10006;</span>\n                                    </div>\n              `:`<div class="function draggable" draggable = "true" >\n                                <h2>${e.name}</h2>\n                                <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="fas fa-thumbs-up"></i></h3>\n                                <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${a}" data-element_comp="${i}"  onClick="popupOpen();takeFuncInput('${e.name}','${a}','${c}',this)">&#11167;</a>\n                                <span title="delete" style="display:none;" class="deleteitem" data-element_id="${a}" data-element_comp="${i}"  onClick="deleteElement(this)">&#10006;</span>\n                                </div > `).join("");functionsList.innerHTML=u,draggables=document.querySelectorAll(".draggable"),draggables.forEach(e=>{e.addEventListener("dragstart",t=>{e.classList.add("dragging")}),e.addEventListener("dragend",t=>{e.classList.remove("dragging"),rebuild(),displayPreviews()})})}else"Export data"===String(t.text)&&(l=t.ele_id,l&&$("#exportEqData").attr("data-element_id",l));"1"===String(counter)?$(".ebFunctions").find("div").eq(counter-1).find("span").css("display","block"):($(".ebFunctions").find("div").eq(counter-1).find("span").css("display","block"),$(".ebFunctions").find("div").eq(counter-2).find("span").css("display","none"));for(const[e,t]of Object.entries(a.import_data)){let e,n;for(const[i,a]of Object.entries(t))"table_name"===String(i)&&(e=a),"ele_id"===String(i)&&(n=a);tempdd[e]=n}for(let n=0;n<o.length;n++){const r=document.createElement("div"),l=document.createElement("button");r.className="ebDataElementsDiv dragAreaPossible",l.className="btn btn-primary btn-xs mx-2 rounded px-2",l.innerHTML="Data",l.addEventListener("click",function(){const n=[],a=[];let r=[],o=[];const l=[],c=[],d=new Set,s=new Set,u=$(this).parent(".ebDataElementsDiv").find(".ColumnItem");for(let e=0;e<u.length;e++)d.add(u[e].getAttribute("data-table")),s.add(u[e].getAttribute("data-element_id"));r=Array.from(d),o=Array.from(s);const p=$(this).parent(".ebDataElementsDiv").find(".ColumnItem");if(r.length>1)for(let e=0;e<r.length-1;e++){const t=r[e];for(let e=0;e<p.length;e++)String(p[e].getAttribute("data-table"))===t?l.push(p[e].querySelector("p").innerText):c.push(p[e].querySelector("p").innerText);n.push(l),n.push(c)}else{const e=$(this).parent(".ebDataElementsDiv").find(".ColumnItem").find("p");for(let t=0;t<e.length;t++)a.push(e[t].innerText);n.push(a)}let g;g="function"!=typeof computationCondition||compValProcess?"No":"Yes";for(let a=0;a<r.length;a++){const l={function:"Import Data",data_mapper:{current_element_name:r[a]},inputs:{Data_source:"Database",Table:r[a],Columns:n[a],global_var:"",parent_table_column:"",current_table_column:"",show_foreignKey_value:!1,current_table_flow:g},condition:{},outputs:{name:"",save:""}};void 0!==filter_list[o[a]]&&(l.condition=filter_list[o[a]]),$("#where_condition").attr("data-data",JSON.stringify({data1:e+t,data2:o[a],data3:l,elementName:o[a]})),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:e+t,data2:o[a],data3:l,element_name:e+t+Math.floor(1e10*Math.random()+1)}),operation:"save_import_data",data_source:"Database"},type:"POST",dataType:"json",success:function(n){"datamgm"===String(i)?Swal.fire({icon:"success",text:"Import Configuration saved successfully!"}):"comp"===String(i)&&(is_create_val=compValProcess?"yes":"no",$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"data_reload",element_id:o[a],model_name:e+t,model_element_id:MelementID,is_create_val:is_create_val},type:"POST",dataType:"json",success:function(e){Swal.fire({icon:"success",text:"Import Configuration saved successfully! Executing the block. Please wait.."});const t=e.job_id,n="",i="";fetchJobOutput1(t,n,i)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}))},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}}),r.append(l),dataElementParent.append(r);const c=document.querySelectorAll(".dragAreaPossible");function d(e,t){const n=[...e.querySelectorAll(".draggable:not(.dragging)")];return n.reduce((e,n)=>{const i=n.getBoundingClientRect(),a=t-i.top-i.height/2;return a<0&&a>e.offset?{offset:a,element:n}:e},{offset:Number.POSITIVE_INFINITY}).element}c.forEach(e=>{e.addEventListener("dragover",t=>{t.preventDefault();const n=d(e,t.clientY),i=document.querySelector(".dragging");null==n?(e.appendChild(i),e.querySelector(".EbOverlay")&&(e.querySelector(".EbOverlay").className="EBshow"),e.querySelector(".heartIcon")&&(e.querySelector(".heartIcon").className="EBhide")):(e.insertBefore(i,n),e.querySelector(".EbOverlay")&&(e.querySelector(".EbOverlay").className="EBshow"),e.querySelector(".heartIcon")&&(e.querySelector(".heartIcon").className="EBhide"))})});let s=0,u=0;if("0"===String(n))if("Left Join"===String(o[n])||"Right Join"===String(o[n])||"Inner Join"===String(o[n])||"Outer Join"===String(o[n])||"Append and Concatenate"===String(o[n])||"Networkdays"===String(o[n])||"Networkdays.Intl"===String(o[n])||"Workdays"===String(o[n])||"Workdays.Intl"===String(o[n]))for(const[e,t]of Object.entries(a.import_data)){if("2"===String(s))break;for(const[e,a]of Object.entries(t.columns))$(".ebDataElementsDiv").eq(n).append(`<div class="ColumnItem draggable" draggable = "true" data-table="${t.table_name}" data-element_id="${t.ele_id}" data-element_comp="${i}"><p>${a}</p></div>\n              `),draggables=document.querySelectorAll(".draggable"),draggables.forEach(e=>{e.addEventListener("dragstart",t=>{e.classList.add("dragging")}),e.addEventListener("dragend",t=>{e.classList.remove("dragging"),displayPreviews($("#modelName_parallelogram001652034276123593").text())})});delete a.import_data[s],s+=1}else for(const[e,t]of Object.entries(a.import_data)){if("1"===String(u))break;for(const[e,a]of Object.entries(t.columns))$(".ebDataElementsDiv").eq(n).append(`<div class="ColumnItem draggable" draggable = "true" data-table="${t.table_name}" data-element_id="${t.ele_id}" data-element_comp="${i}" >\n                <p>${a}</p>\n                    </div>\n              `),draggables=document.querySelectorAll(".draggable"),draggables.forEach(e=>{e.addEventListener("dragstart",t=>{e.classList.add("dragging")}),e.addEventListener("dragend",t=>{e.classList.remove("dragging"),displayPreviews()})});delete a.import_data[u],u+=1}else if("Left Join"===String(o[n])||"Right Join"===String(o[n])||"Inner Join"===String(o[n])||"Outer Join"===String(o[n])||"Append and Concatenate"===String(o[n])||"Networkdays"===String(o[n])||"Networkdays.Intl"===String(o[n])||"Workdays"===String(o[n])||"Workdays.Intl"===String(o[n]))for(const[e,t]of Object.entries(a.import_data)){if("1"===String(u))break;for(const[e,a]of Object.entries(t.columns))$(".ebDataElementsDiv").eq(n).append(`<div class="ColumnItem draggable" draggable = "true" data-table="${t.table_name}" data-element_id="${t.ele_id}" data-element_comp="${i}" >\n                <p>${a}</p>\n                  </div >\n              `),draggables=document.querySelectorAll(".draggable"),draggables.forEach(e=>{e.addEventListener("dragstart",t=>{e.classList.add("dragging")}),e.addEventListener("dragend",t=>{e.classList.remove("dragging"),displayPreviews()})});delete a.import_data[u],u+=1}}const s=document.querySelector(".ebFunctions"),u=s.querySelectorAll(".function"),p=[];u.forEach(e=>{p.push(e.querySelector("h2").innerText)});for(const[e,t]of Object.entries(a.func_data))if("Export data"!==String(t.text)){let e="";$("#functionPreviews").append('<div class="function" onclick = "" >\n              <h2></h2>\n              <p style="display:none;"></p>\n              </div >\n              '),t.prevString.length>30?(e=t.prevString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(t.order).find("p").text(t.prevString),$("#functionPreviews").find(".function").eq(t.order).attr("onclick",`popupOpen(); takeFuncInput('${t.text}', '${t.ele_id}', '${t.order}', this)`)):(e=t.prevString,$("#functionPreviews").find(".function").eq(t.order).find("p").text(t.prevString),$("#functionPreviews").find(".function").eq(t.order).attr("onclick","")),$("#functionPreviews").find(".function").eq(t.order).find("h2").text(e)}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}),$("#save_workflow_equ").click(function(e){e.stopImmediatePropagation();const t=$(".ebFunctions").find("div").find("a"),i=[];let a,r,o="",l="",c="",d="",s="",u="",p="",g=[],m="";m=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name");for(let e=0;e<t.length;e++){try{p=$(".ebDataElementsDiv").eq(e).find(".ColumnItem"),p[0].getAttribute("data-element_id"),d=$(".ebFunctions").find("div").find("a").eq(e).attr("data-element_id");try{r=$(".ebFunctions").find("div").find("a").eq(e+1).attr("data-element_id"),c=[r]}catch(e){c="#"}o=$(".ebFunctions").find("div").find("h2").eq(e).text();const t=new Set;for(let e=0;e<p.length;e++)t.add(p[e].getAttribute("data-element_id"));a=Array.from(t),g=a.slice(),"Left Join"!==String(o)&&"Right Join"!==String(o)&&"Inner Join"!==String(o)&&"Outer Join"!==String(o)&&"Append and Concatenate"!==String(o)&&"Networkdays"!==String(o)&&"Networkdays.Intl"!==String(o)&&"Workdays"!==String(a[e])&&"Workdays.Intl"!==String(o)||"1"!==String(a.length)||(u=$(".ebFunctions").find("div").find("a").eq(e-1).attr("data-element_id"),("Networkdays"==o||"Networkdays.Intl"==o||"Workdays"==o||"Workdays.Intl"==o)&&0==e?u.includes("import")&&a.push(u):a.push(u)),p=a,l=d}catch(t){p=$(".ebFunctions").find("div").find("a").eq(e-1).attr("data-element_id"),l=$(".ebFunctions").find("div").find("a").eq(e).attr("data-element_id"),o=$(".ebFunctions").find("div").find("h2").eq(e).text();try{r=$(".ebFunctions").find("div").find("a").eq(e+1).attr("data-element_id"),c=[r],a=[p],p=[p]}catch(e){c="#",p=[p]}}if(o="Column sum"===String(o)||"Row sum"===String(o)||"Cell sum"===String(o)||"Column subtraction"===String(o)||"Row subtraction"===String(o)||"Cell subtraction"===String(o)||"Column multiplication"===String(o)||"Row multiplication"===String(o)||"Cell multiplication"===String(o)||"Column division"===String(o)||"Row division"===String(o)||"Cell division"===String(o)?"Basic Operations":"Round"===String(o)?"Rounding Operations":"Square root"===String(o)?"Power and Root Functions":"Log"===String(o)?"Log and Exponential Functions":"Rename and Drop"===String(o)?"Rename Column":"Concat Columns"===String(o)?"Concat Columns":"Filter"===String(o)?"Data Transformation Filter":"Add Column"===String(o)?"Data Transformation Add Column":"Pivot"===String(o)?"Data Transformation Pivot":"Unpivot"===String(o)?"Data Transformation Unpivot":"Add Time Periods"===String(o)?"Add Time Periods":"Data Utilities"===String(o)?"Data Utilities":"Groupby"===String(o)?"Data Transformation Groupby":"Sort"===String(o)?"Data Transformation Sort":"Add Fix Column"===String(o)?"Add Fix Column":"Drop Duplicate"===String(o)?"Drop Duplicate":"Weighted Average"===String(o)?"Elementary Statistics":"Sum Product"===String(o)?"Elementary Statistics":"Fill Missing Values"===String(o)?"Missing Value":"Delimit Column"===String(o)?"Delimit Column":"Days"===String(o)?"Days":"Date"===String(o)?"Date":"Find and Replace"===String(o)?"Find and Replace":"Workdays.Intl"===String(o)?"Workdays.Intl":"Workdays"===String(o)?"Workdays":"Networkdays.Intl"===String(o)?"Networkdays.Intl":"Networkdays"===String(o)?"Networkdays":"Yearfrac"===String(o)?"Yearfrac":"Year"===String(o)?"Year":"Weeknum"===String(o)?"Weeknum":"Weekday"===String(o)?"Weekday":"Today"===String(o)?"Today":"Time"===String(o)?"Time":"Second"===String(o)?"Second":"Now"===String(o)?"Now":"Month"===String(o)?"Month":"Minute"===String(o)?"Minute":"Isoweeknum"===String(o)?"Isoweeknum":"Hour"===String(o)?"Hour":"Eomonth"===String(o)?"Eomonth":"Days360"===String(o)?"Days360":"Edate"===String(o)?"Edate":"Day"===String(o)?"Day":"Data Transformation","0"===String(e)){for(let e=0;e<a.length;e++)s={element_id:a[e],text:"Import Data",parent:"#",child:[d]},i.push(s);String(e)===String(t.length-1)?(s={element_id:d,text:o,parent:a,child:"#"},$("#exportEqData").attr("data-element_id")&&(s.child=[$("#exportEqData").attr("data-element_id")]),i.push(s)):(s={element_id:d,text:o,parent:a,child:c},i.push(s))}else"1"===String(g.length)&&"Data Transformation"===String(o)&&(s={element_id:g[0],text:"Import Data",parent:"#",child:[l]},i.push(s)),String(e)===String(t.length-1)?("Data Transformation Filter"!=o&&"Data Transformation Add Column"!=o&&"Data Transformation Sort"!=o&&"Data Transformation Groupby"!=o&&"Data Transformation Pivot"!=o&&"Data Transformation Unpivot"!=o||(o="Data Transformation"),s={element_id:l,text:o,parent:p,child:"#"},$("#exportEqData").attr("data-element_id")&&(s.child=[$("#exportEqData").attr("data-element_id")]),i.push(s)):("Data Transformation Filter"!=o&&"Data Transformation Add Column"!=o&&"Data Transformation Sort"!=o&&"Data Transformation Groupby"!=o&&"Data Transformation Pivot"!=o&&"Data Transformation Unpivot"!=o||(o="Data Transformation"),s={element_id:l,text:o,parent:p,child:c},i.push(s))}$("#exportEqData").attr("data-element_id")&&(s={element_id:$("#exportEqData").attr("data-element_id"),text:"Export Data",parent:[$(".ebFunctions .function").last().find("a").attr("data-element_id")],child:"#"},i.push(s));let f=[];$("#exampledata1").find("thead").find("th").each(function(){f.push($(this).text())}),$("#EBDisplayButtonID").attr("data-tablelist",JSON.stringify(f)),$("#EBDisplayButtonID").attr("data-modelnamepc",m),$("#EBDisplayButtonID").attr("data-config",JSON.stringify(i)),"function"==typeof computationCondition&&computationCondition(),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{xml:"innn",model_name:m,operation:"save_flowchart",configList:JSON.stringify({data3:i})},type:"POST",dataType:"json",success:function(e){"modelelementid2"==n&&(multable_config_comp[multable_viewname]=m),Swal.fire({icon:"success",text:"Model saved successfully!"})},error:function(){Swal.fire({icon:"error",text:"Error! Failure in saving the Model. Please try again."})}})}),$("#export_data_equ").click(function(){$("#exportEqData").find("select").select2();let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));const t=$(".ebFunctions .function").last().find("a").attr("data-element_id");$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"get_column_id",element_id:t},type:"POST",dataType:"json",success:function(t){$("#exportselectColumn1").empty(),$("#selectUpdateIdentifierCol1").empty(),$("#selectUpdateCol1").empty();for(let e=0;e<t.columns.length;e++)$("#exportselectColumn1").append(`<option value = '${t.columns[e]}' > ${t.columns[e]}</option>`),$("#selectUpdateIdentifierCol1").append(`<option value = '${t.columns[e]}' > ${t.columns[e]}</option>`),$("#selectUpdateCol1").append(`<option value = '${t.columns[e]}' > ${t.columns[e]}</option>`);$("#exportEqData").attr("data-element_id")&&$.ajax({url:`/users/${urlPath}/computationModule/`,data:{model_name:e,element_id:$("#exportEqData").attr("data-element_id"),operation:"export_config"},type:"POST",dataType:"json",success:function(e){if(Object.keys(e).length>0){const t=e.element_config,n=t.inputs.tableName,i=t.inputs.exportType;if($("#exportTable1").css("display","block"),$("#selectExportTable1").val(n).trigger("change"),$("#selectUpdateIdentifierCol1").attr("data-reload","yes"),$("#selectUpdateIdentifierCol1").attr("data-reloaddata",JSON.stringify(t)),$("#selectUpdateIdentifierCol1").attr("data-exporttype",i),$("#selectExportDataType1").val(i).trigger("select2:select"),$("#selectExportDataType1").val(i).trigger("change"),"yes"==$("#selectUpdateIdentifierCol1").attr("data-reload")){let e=JSON.parse($("#selectUpdateIdentifierCol1").attr("data-reloaddata")),t=JSON.parse($("#selectUpdateIdentifierCol1").attr("data-exporttype"));if("update"===t)$("#selectUpdateIdentifierCol1").val(e.inputs.selectUpdateIdentifierCol).trigger("change"),$("#selectUpdateCol1").val(e.inputs.selectUpdateCol).trigger("change");else{const t=e.inputs.columnList;$("#exportselectColumn1").val(t).trigger("select2:select"),$("#exportselectColumn1").val(t).trigger("change")}}$("#exportEquModal").modal("show")}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}),$("#selectExportDataType1").off("select2:select").on("select2:select change",function(){"update"===$(this).val()?($("#updateIdentifierContainer1").css("display","block"),$("#updateColumnContainer1").css("display","block"),$("#exportColumn1").css("display","none")):($("#updateIdentifierContainer1").css("display","none"),$("#updateColumnContainer1").css("display","none"),$("#exportColumn1").css("display","block"))});var a="";$("#save_buttonExportData1").click(function(){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));const t="exportData"+(Math.floor(9e12*Math.random())+1e12).toString();$("#exportEqData").attr("data-element_id",t);const n={function:"Export Data",inputs:{data:$(".ebFunctions .function").last().find("a").attr("data-element_id"),exportTo:"Database",tableName:$("#selectExportTable1").val(),exportType:$("#selectExportDataType1").val(),output_type:"individual_export"}};"update"===$("#selectExportDataType1").val()?(n.inputs.selectUpdateIdentifierCol=$("#selectUpdateIdentifierCol1").val(),n.inputs.selectUpdateCol=$("#selectUpdateCol1").val()):n.inputs.columnList=$("#exportselectColumn1").val(),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{config:JSON.stringify({model:e,elementID:t,config_dict:n}),operation:"save_export_data"},type:"POST",dataType:"json",success:function(e){Swal.fire({icon:"success",text:"Configuration saved successfully!"})},error:function(){Swal.fire({icon:"error",text:"Error! Failure in saving the configuration. Please check and try again."})}})}),$("#run_stepExportData1").click(function(){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepExportData",element_id:a,model_name:e},type:"POST",dataType:"json",success:function(e){Swal.fire({icon:"error",text:e.msg})},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}),$("#btn_search").click(function(){const e=$(this).attr("data-el_id");filter_list[e]=[];const t=$("#filter-table");t.find("tr").each(function(t,n){const i={};i.column_name=$(this).find("select").attr("name"),i.condition=$(this).find("select").eq(0).val(),i.input_value=$(this).find("input").eq(0).val(),i.globalVariable=$(this).find("select").eq(1).val(),i.table=$(this).attr("data-table"),"null"===String(i.globalVariable)&&(i.globalVariable=""),compValProcess&&(i.input_value=$(this).find("input").eq(1).val()),i.and_or="AND",filter_list[e].push(i)}),filter_list[e][filter_list[e].length-1].and_or=""}),$("#where_condition").off("click").on("click",function(){const i=JSON.parse($(this).attr("data-data"));$("#btn_search").attr("data-el_id",i.elementName);const a=i.elementName;let r=$(`#modelName_${n} `).attr("data-model_name");"modelelementid2"==n&&(r=$("#selectTablePC").val()),"modelelementid"==n&&compValProcess&&(r=$("#selectFormTable").val()[0]),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{model_name:i.data3.inputs.Table,model:r,columns_list:JSON.stringify(i.data3.inputs.Columns),operation:"condition_check",connection_name:"default"},type:"POST",dataType:"json",success:function(n){function i(){$(this).closest("tr").remove()}$("#condition_dropdown").empty(),compValProcess?($("#where_condition_Modal").modal("show"),$("#EBDisplayModel").modal("hide")):$("#where_condition_Modal").modal("show");const r=n.label_column;for(const[e,t]of Object.entries(r))$("#condition_dropdown").append('<li class="dropdown-item"><a href="javascript:void(0)" name='+e+' class="filter_btn">'+t+"</a></li>"),$("#condition_dropdown").attr("data-table",n.table_name);$(".filter_btn").click(function(){const e=$(this).attr("name"),t=n.form_fields[e];$("#filter-table").append(t),$("#filter-table").find("tr").eq(-1).find("td").eq(3).remove();const a=$("#filter-table").find("tr").eq(-1).find("input").attr("type");$("#filter-table").find("tr").eq(-1).append(`<td class="dt-center">\n              <div class="" style="max-width:25em;">\n                <select class="form-control select2bs4" name=${e} data-dropdown_purpose="select_global_variable" data-type="${a}">\n                  <option value="" selected disabled>Select Global Variable</option>\n                </select>\n              </div>\n            </td >\n              `),compValProcess&&$("#filter-table").find("tr").eq(-1).append(`<td class="dt-center">\n                <div class="" style="max-width:25em;">\n                  <input type="text" placeholder="Default value" name=${e} data-type="${a}" maxlength="100" class="textinput textInput form-control" required="">\n                </div>\n              </td >`),$("#filter-table").find("tr").eq(-1).attr("data-table",$("#condition_dropdown").attr("data-table"));let r=[];"text"===String(a)?r=n.global_text_list:"number"===String(a)?r=n.global_number_list:"date"===String(a)?r=n.global_datetime_list.concat(n.global_date_list):"datetime-local"===String(a)&&(r=n.global_datetime_list.concat(n.global_date_list));for(let e=0;e<r.length;e++){const t=r[e];$("#filter-table").find("tr").eq(-1).find('select[data-dropdown_purpose="select_global_variable"]').append(`<option value = '${t}' > ${t}</option>`)}if(compValProcess)for(let e=0;e<compValVarName.length;e++){let t=compValVarName[e];$("#filter-table").find("tr").eq(-1).find('select[data-dropdown_purpose="select_global_variable"]').append(`<option value = '${t}' > ${t}</option>`)}$("#filter-table:last-child").find("select").each(function(){$(this).select2()}),$(".remove_filter").on("click",i)}),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{model_name:e+t,element_id:a,operation:"import_config",model_element_id:MelementID},type:"POST",dataType:"json",success:function(e){if($("#dropdown1").val("").trigger("change"),$("#dropdown1").val("").trigger("select2:select"),$("#filter-table").empty(),$("#data_btn").css("display","none"),Object.keys(e).length>0){for(let t=0;t<e.element_config.condition.length;t++)e.element_config.condition[t].hasOwnProperty("table")||(e.element_config.condition[t].table=e.table_name);const n=e.element_config,i=e.element_id,a=n.inputs.Data_source,r=(n.inputs.Table,n.condition);if(filter_list[i]=r,"Database"===String(a))if($("#where_condition").css("display","inline-block"),$("#dropdown1").val(a).trigger("change"),$("#dropdown1").val(a).trigger("select2:select"),r.length>0){const n=e.form_fields;$("#filter-table").empty();for(let i=0;i<r.length;i++)if(r[i].table==e.table_name){const a=r[i].column_name,o=r[i].condition,l=r[i].input_value,c=r[i].globalVariable,d=n[a];$("#filter-table").append(d),r[i].hasOwnProperty("table")&&$("#filter-table").find("tr").eq(-1).attr("data-table",r[i].table),$("#filter-table").find("tr").eq(-1).find("td").eq(3).remove();const s=$("#filter-table").find("tr").eq(-1).find("input").attr("type");$("#filter-table").find("tr").eq(-1).append(`\n                        <td class="dt-center">\n                          <div class="" style="max-width:25em;">\n                            <select class="form-control select2bs4" name=${a} data-dropdown_purpose="select_global_variable" data-type="${s}">\n                              <option value="" selected disabled>Select Global Variable</option>\n                            </select>\n                          </div>\n                        `),compValProcess&&$("#filter-table").find("tr").eq(-1).append(`\n                        </td>\n                          <td class="dt-center">\n                            <div class="" style="max-width:25em;">\n                              <input type="text" placeholder="Default value" name=${a} data-type="${s}" maxlength="100" class="textinput textInput form-control" required="">\n                            </div>\n                          </td >\n                        `);let u=[];"text"===String(s)?u=e.global_text_list:"number"===String(s)?u=e.global_number_list:"date"===String(s)?u=e.global_date_list:"datetime-local"===String(s)&&(u=e.global_datetime_list);for(let e=0;e<u.length;e++){const t=u[e];$("#filter-table").find("tr").eq(-1).find("select").eq(1).append(`<option value = '${t}' > ${t}</option>`)}if(compValProcess)for(let e=0;e<compValVarName.length;e++){let t=compValVarName[e];$("#filter-table").find("tr").eq(-1).find("select").eq(1).append(`<option value = '${t}' > ${t}</option>`)}0==$("#filter-table").find(`tr:nth-child(${i+1})`).length?($("#filter-table").find(`tr:nth-child(${i+1-1})`).find("td:nth-child(2) > div > select").val(o).trigger("change"),$("#filter-table").find(`tr:nth-child(${i+1-1})`).find("td:nth-child(3) > div > input").val(l).trigger("change"),$("#filter-table").find(`tr:nth-child(${i+1-1})`).find("td:nth-child(4) > div > select").val(c).trigger("change"),compValProcess&&($("#filter-table").find(`tr:nth-child(${i+1-1})`).find("td:nth-child(5) > div > input").val(l).trigger("change"),$("#filter-table").find(`tr:nth-child(${i+1-1})`).find("td:nth-child(3) > div > input").val("").trigger("change"))):($("#filter-table").find(`tr:nth-child(${i+1})`).find("td:nth-child(2) > div > select").val(o).trigger("change"),$("#filter-table").find(`tr:nth-child(${i+1})`).find("td:nth-child(3) > div > input").val(l).trigger("change"),$("#filter-table").find(`tr:nth-child(${i+1})`).find("td:nth-child(4) > div > select").val(c).trigger("change"),compValProcess&&($("#filter-table").find(`tr:nth-child(${i+1})`).find("td:nth-child(5) > div > input").val(l).trigger("change"),$("#filter-table").find(`tr:nth-child(${i+1})`).find("td:nth-child(3) > div > input").val("").trigger("change"))),$("#filter-table").find("tr").eq(-1).find("select").each(function(){$(this).select2()}),$(".remove_filter").on("click",t)}function t(){$(this).closest("tr").remove()}}else $("#filter-table").empty()}else $("#dropdown1").css("display","block")},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})})}function changeTableandColumns(e){const t=e.split("-");e=t[0];let n=[];String($("#tname").val())===e&&"add"!==String(idenFlag)?($("#table .hide").slice(0,tb_index+1).each(function(){n.push($(this).find("td").find("#fld_name").text())}),displayColumns(n,e)):"edit"===String(idenFlag)&&e in tempdd?(n=edit_col_list,displayColumns(n,e)):$.ajax({url:`/users/${urlPath}/computationModule/`,data:{table_name:e,operation:"fetch_table_columns"},type:"POST",dataType:"json",success:function(t){$("#selectColumn").empty();for(const e in t.columnList)n.push(t.columnList[e]);"add"===String(idenFlag)&&(n.includes($("#fieldmdl").val())||n.push($("#fieldmdl").val())),1!=listViewComp||listViewCompCol.startsWith("document")||n.includes(listViewCompCol)||n.push(listViewCompCol),displayColumns(n,e)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}function fetchJobOutput1(e,t="",n="",i="dataframe"){let a="ws://";"https:"===windowLocationAttr.protocol&&(a="wss://");const r=new WebSocket(a+windowLocationAttr.host+`/ws/queued_job_output/${e}/`);r.onmessage=function(e){const t=JSON.parse(e.data);outputSaveResultPrompt1(t),displayTabularOutput1(t.content),Swal.fire({icon:"success",text:"Computation block executed successfully."})},r.onerror=function(){r.close(1e3),Swal.fire({icon:"error",text:"Error! Failure in executing the computation. Please try again."})}}function outputSaveResultPrompt1(e){if(Object.keys(e).includes("result_save"))for(const t of e.result_save)t&&Swal.fire({icon:"info",text:t})}function displayTabularOutput1(e){$("#exampledata1").remove(),$("#exampledata1_wrapper").remove(),
$("#viewData1").append('\n        <table id="exampledata1" class="display compact" style="width:100%;" data-parent_group_no="g3">\n            <thead>\n                <tr>\n                    <th id="thid1"></th>\n                </tr>\n            </thead>\n            <tbody>\n            </tbody>\n        </table>\n        '),$("#exampledata1 tbody").empty();for(let t=0;t<e.length;t++){let n="<tr>";for(const[i,a]of Object.entries(e[t]))n+=`<td style="text-align:center;">${a}</td>`;n+="</tr>",$("#exampledata1").find("tbody").append(n)}$("#exampledata1 thead tr").empty(),$("#thid1").css("display","none");for(const[t,n]of Object.entries(e[0]))$("#exampledata1").find("thead tr").eq(0).append(`<th style="text-align:center;">${t}</th>`);datatables("exampledata1")}function reloadCompConfig(e){$(".ebDataElementsDiv").remove(),$(".ebFunctions").find(".function").remove(),$(".ebSteps").find("#stepNumsEb").empty(),$("#functionPreviews").empty(),$("#selectedTablesDiv").empty(),$("#table-columns").empty(),$("#functionsList").empty(),$("#favouriteList").empty(),selectedTables={},indexCount=0,counter=0,favFunctionList=[];let t="",n="",i="";null!=$("#favouriteList").attr("data-element_id")&&$("#favouriteList").removeAttr("data-element_id");var r=1e12,o=9999999999999,l="";uniqueid_maths="applyMathOps"+(Math.floor(Math.random()*(o-r+1))+r).toString(),uniqueid_join="mergeAndJoin"+(Math.floor(Math.random()*(o-r+1))+r).toString(),uniqueid_rename="renameColumn"+(Math.floor(Math.random()*(o-r+1))+r).toString(),uniqueid_pivot="pivotAndTranspose"+(Math.floor(Math.random()*(o-r+1))+r).toString(),uniqueid_concat="concatColumn"+(Math.floor(Math.random()*(o-r+1))+r).toString();const c=funcDic.map(e=>(l="Column division"==e.name||"Row division"==e.name?"fas fa-divide":"Column multiplication"==e.name||"Row multiplication"==e.name?"fas fa-times":"Column subtraction"==e.name||"Row subtraction"==e.name?"fas fa-minus":"Column sum"==e.name||"Row sum"==e.name?"fas fa-plus":"Square root"==e.name?"fas fa-square-root-alt":"Inner Join"==e.name||"Left Join"==e.name||"Right Join"==e.name||"Outer Join"==e.name||"Append and Concatenate"==e.name?"fas fa-coins":"Round"==e.name?"far fa-circle":"fas fa-thumbs-up","Left Join"==e.name||"Right Join"==e.name||"Inner Join"==e.name||"Outer Join"==e.name||"Append and Concatenate"==e.name||"Filter"==e.name||"Add Column"==e.name||"Groupby"==e.name||"Networkdays"==e.name||"Networkdays.Intl"==e.name||"Workdays"==e.name||"Workdays.Intl"==e.name?`\n          <div class="function draggable" draggable="true">\n              <h2>${e.name}</h2>\n              <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="${l}"></i></h3>\n              <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${uniqueid_join}" data-element_comp="datamgm" onClick="popupOpen();takeFuncInput('${e.name}','${uniqueid_join}','${counter}',this)">&#11167;</a>\n              <span title="delete" style="display:none;" class="deleteitem" data-element_id="${uniqueid_join}" onClick="deleteElement(this)">&#10006;</span>\n          </div>`:"Round"==e.name?`\n          <div class="function draggable" draggable="true">\n              <h2>${e.name}</h2>\n              <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}>oO</h3>\n              <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${uniqueid_maths}" data-element_comp="datamgm" onClick="popupOpen();takeFuncInput('${e.name}','${uniqueid_maths}','${counter}',this)">&#11167;</a>\n              <span title="delete" style="display:none;" class="deleteitem" data-element_id="${uniqueid_maths}" onClick="deleteElement(this)">&#10006;</span>\n          </div>`:"Pivot"==e.name||"Unpivot"==e.name?`\n          <div class="function draggable" draggable="true">\n              <h2>${e.name}</h2>\n              <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}>&#13266;</h3>\n              <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${uniqueid_pivot}" data-element_comp="datamgm" onClick="popupOpen();takeFuncInput('${e.name}','${uniqueid_pivot}','${counter}',this)">&#11167;</a>\n              <span title="delete" style="display:none;" class="deleteitem" data-element_id="${uniqueid_pivot}"   onClick="deleteElement(this)">&#10006;</span>\n          </div>\n      `:"Log"==e.name?`\n          <div class="function draggable" draggable="true">\n              <h2>${e.name}</h2>\n              <h3 class="heartIcon" onClick="addToFav('${e.name}')" value=${e.name}>&#13266;</h3>\n              <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${uniqueid_maths}" data-element_comp="datamgm" onClick="popupOpen();takeFuncInput('${e.name}','${uniqueid_maths}','${counter}',this)">&#11167;</a>\n              <span title="delete" style="display:none;" class="deleteitem" data-element_id="${uniqueid_maths}" onClick="deleteElement(this)">&#10006;</span>\n          </div>\n    `:"Rename and Drop"==e.name?`\n          <div class="function draggable" draggable="true">\n              <h2>${e.name}</h2>\n              <h3 class="heartIcon" onClick="addToFav('${e.name}')" value=${e.name}>&#13266;</h3>\n              <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${uniqueid_rename}" data-element_comp="datamgm" onClick="popupOpen();takeFuncInput('${e.name}','${uniqueid_rename}','${counter}',this)">&#11167;</a>\n              <span title="delete" style="display:none;" class="deleteitem" data-element_id="${uniqueid_rename}" onClick="deleteElement(this)">&#10006;</span>\n          </div>\n    `:"Concat Columns"==e.name?`\n            <div class="function draggable" draggable="true">\n                <h2>${e.name}</h2>\n                <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}>&#13266;</h3>\n                <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${uniqueid_concat}" data-element_comp="datamgm" onClick="popupOpen();takeFuncInput('${e.name}','${uniqueid_concat}','${counter}',this)">&#11167;</a>\n                <span title="delete" style="display:none;" class="deleteitem" data-element_id="${uniqueid_concat}"   onClick="deleteElement(this)">&#10006;</span>\n            </div>\n        `:`\n          <div class="function draggable" draggable="true">\n              <h2>${e.name}</h2>\n              <h3 class="heartIcon" onClick="addToFav('${e.name}')" value=${e.name}><i class="${l}"></i></h3>\n              <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${uniqueid_maths}" data-element_comp="datamgm" onClick="popupOpen();takeFuncInput('${e.name}','${uniqueid_maths}','${counter}',this)">&#11167;</a>\n              <span title="delete" style="display:none;" class="deleteitem" data-element_id="${uniqueid_maths}" onClick="deleteElement(this)">&#10006;</span>\n          </div>\n    `)).join("");functionsList.innerHTML=c,draggables=document.querySelectorAll(".draggable"),draggables.forEach(e=>{e.addEventListener("dragstart",t=>{e.classList.add("dragging")}),e.addEventListener("dragend",t=>{e.classList.remove("dragging"),displayPreviews(),displayCharacters(funcDic)})}),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{model_name:e,operation:"eq_reload_config",data_id:"datamgm"},type:"POST",dataType:"json",success:function(e){counter=Object.keys(e.func_data).length,indexCount=counter,func_list=[];var r="";for(let[t,n]of Object.entries(e.func_data))if("Export data"!=n.text){"Ceiling"==n.text||"Floor"==n.text||"Floor"==n.text||"Odd"==n.text||"Even"==n.text||"Round"==n.text||"Round_Up"==n.text||"Round_Down"==n.text||"Truncate"==n.text?(n.text="Round",func_list.push(n.text)):"Log_base"==n.text||"Exponential"==n.text||"Natural_Log"==n.text?(n.text="Log",func_list.push(n.text)):"Power"==n.text?(n.text="Square root",func_list.push(n.text)):"left"==n.text?(n.text="Left Join",func_list.push(n.text)):"right"==n.text?(n.text="Right Join",func_list.push(n.text)):"inner"==n.text?(n.text="Inner Join",func_list.push(n.text)):"outer"==n.text?(n.text="Outer Join",func_list.push(n.text)):"append"==n.text?(n.text="Append and Concatenate",func_list.push(n.text)):"filter"==n.text?(n.text="Filter",func_list.push(n.text)):"AddColumn"==n.text?(n.text="Add Column",func_list.push(n.text)):"sort"==n.text?(n.text="Sort",func_list.push(n.text)):"groupby"==n.text?(n.text="Groupby",func_list.push(n.text)):"pivot"==n.text?n.text="Pivot":"unpivot"==n.text?(n.text="Unpivot",func_list.push(n.text)):func_list.push(n.text),$(".ebFunctions").append(`<div class="function draggable" draggable="true">\n                              <h2>${n.text}</h2>\n                              <h3 class="EBhide" onclick="addToFav('${n.text}')" value="${n.text}"><i class="fas fa-thumbs-up"></i></h3>\n                              <a title="configure" href="#" name="Open" class="EBshow" id="open-overlay" data-element_id="${n.ele_id}" data-element_comp="datamgm" onclick="popupOpen();takeFuncInput('${n.text}','${n.ele_id}','${n.order}')">⮟</a>\n                              <span title="delete" style="display:none;" class="deleteitem" data-element_id="${n.ele_id}" data-element_comp="datamgm"  onClick="deleteElement(this)">&#10006;</span>\n                              </div>`),$("#stepNumsEb").append(`<h2 class="stepNumberEB"> ${n.order+1}</h2>`);var o=1e12,c=9999999999999;uniqueid_maths="applyMathOps"+(Math.floor(Math.random()*(c-o+1))+o).toString(),uniqueid_join="mergeAndJoin"+(Math.floor(Math.random()*(c-o+1))+o).toString(),uniqueid_rename="renameColumn"+(Math.floor(Math.random()*(c-o+1))+o).toString(),uniqueid_pivot="pivotAndTranspose"+(Math.floor(Math.random()*(c-o+1))+o).toString(),uniqueid_concat="concatColumn"+(Math.floor(Math.random()*(c-o+1))+o).toString();const e=funcDic.map(e=>(l="Column division"==e.name||"Row division"==e.name?"fas fa-divide":"Column multiplication"==e.name||"Row multiplication"==e.name?"fas fa-times":"Column subtraction"==e.name||"Row subtraction"==e.name?"fas fa-minus":"Column sum"==e.name||"Row sum"==e.name?"fas fa-plus":"Square root"==e.name?"fas fa-square-root-alt":"Inner Join"==e.name||"Left Join"==e.name||"Right Join"==e.name||"Outer Join"==e.name||"Append and Concatenate"==e.name?"fas fa-coins":"Round"==e.name?"far fa-circle":"fas fa-thumbs-up","Left Join"==e.name||"Right Join"==e.name||"Inner Join"==e.name||"Outer Join"==e.name||"Append and Concatenate"==e.name||"Filter"==e.name||"Add Column"==e.name||"Groupby"==e.name||"Networkdays"==e.name||"Networkdays.Intl"==e.name||"Workdays"==e.name||"Workdays.Intl"==e.name?`\n                  <div class="function draggable" draggable="true">\n                      <h2>${e.name}</h2>\n                      <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="${l}"></i></h3>\n                      <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${uniqueid_join}" data-element_comp="datamgm" onClick="popupOpen();takeFuncInput('${e.name}','${uniqueid_join}','${counter}',this)">&#11167;</a>\n                      <span title="delete" style="display:none;" class="deleteitem" data-element_id="${uniqueid_join}" onClick="deleteElement(this)">&#10006;</span>\n                  </div>`:"Round"==e.name?`\n                  <div class="function draggable" draggable="true">\n                      <h2>${e.name}</h2>\n                      <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}>oO</h3>\n                      <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${uniqueid_maths}" data-element_comp="datamgm" onClick="popupOpen();takeFuncInput('${e.name}','${uniqueid_maths}','${counter}',this)">&#11167;</a>\n                      <span title="delete" style="display:none;" class="deleteitem" data-element_id="${uniqueid_maths}" onClick="deleteElement(this)">&#10006;</span>\n                  </div>`:"Log"==e.name?`\n                  <div class="function draggable" draggable="true">\n                      <h2>${e.name}</h2>\n                      <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}>&#13266;</h3>\n                      <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${uniqueid_maths}" data-element_comp="datamgm" onClick="popupOpen();takeFuncInput('${e.name}','${uniqueid_maths}','${counter}',this)">&#11167;</a>\n                      <span title="delete" style="display:none;" class="deleteitem" data-element_id="${uniqueid_maths}" onClick="deleteElement(this)">&#10006;</span>\n                  </div>`:"Rename and Drop"==e.name?`\n                  <div class="function draggable" draggable="true">\n                      <h2>${e.name}</h2>\n                      <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}>&#13266;</h3>\n                      <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${uniqueid_rename}" data-element_comp="datamgm" onClick="popupOpen();takeFuncInput('${e.name}','${uniqueid_rename}','${counter}',this)">&#11167;</a>\n                      <span title="delete" style="display:none;" class="deleteitem" data-element_id="${uniqueid_maths}" onClick="deleteElement(this)">&#10006;</span>\n                  </div>`:"Unpivot"==e.name?`\n                              <div class="function draggable" draggable="true">\n                                  <h2>${e.name}</h2>\n                                  <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}>&#13266;</h3>\n                                  <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${uniqueid_pivot}" data-element_comp="datamgm" onClick="popupOpen();takeFuncInput('${e.name}','${uniqueid_pivot}','${counter}',this)">&#11167;</a>\n                                  <span title="delete" style="display:none;" class="deleteitem" data-element_id="${uniqueid_pivot}"   onClick="deleteElement(this)">&#10006;</span>\n                              </div>\n                          `:"Concat Columns"==e.name?`\n                                <div class="function draggable" draggable="true">\n                                    <h2>${e.name}</h2>\n                                    <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}>&#13266;</h3>\n                                    <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${uniqueid_concat}" data-element_comp="datamgm" onClick="popupOpen();takeFuncInput('${e.name}','${uniqueid_concat}','${counter}',this)">&#11167;</a>\n                                    <span title="delete" style="display:none;" class="deleteitem" data-element_id="${uniqueid_concat}"   onClick="deleteElement(this)">&#10006;</span>\n                                </div>\n                            `:`\n                  <div class="function draggable" draggable="true">\n                      <h2>${e.name}</h2>\n                      <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="${l}"></i></h3>\n                      <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${uniqueid_maths}" data-element_comp="datamgm" onClick="popupOpen();takeFuncInput('${e.name}','${uniqueid_maths}','${counter}',this)">&#11167;</a>\n                      <span title="delete" style="display:none;" class="deleteitem" data-element_id="${uniqueid_maths}" onClick="deleteElement(this)">&#10006;</span>\n                  </div>`)).join("");functionsList.innerHTML=e,draggables=document.querySelectorAll(".draggable"),draggables.forEach(e=>{e.addEventListener("dragstart",t=>{e.classList.add("dragging")}),e.addEventListener("dragend",t=>{e.classList.remove("dragging"),displayPreviews(),displayCharacters(funcDic)})})}else"Export data"==n.text&&(r=n.ele_id,r&&$("#exportEqData").attr("data-element_id",r));"attr"!=idenFlag&&(1==counter?$(".ebFunctions").find("div").eq(counter-1).find("span").css("display","block"):($(".ebFunctions").find("div").eq(counter-1).find("span").css("display","block"),$(".ebFunctions").find("div").eq(counter-2).find("span").css("display","none")));for(let[t,n]of Object.entries(e.fav_data))favFunctionList=e.fav_data[0].text.slice(),$("#favouriteList").attr("data-element_id",e.fav_data[0].ele_id),displayFav(e.fav_data[0].text);for(let r=0;r<func_list.length;r++){let o=document.createElement("div"),l=document.createElement("button");o.className="ebDataElementsDiv dragAreaPossible",l.className="btn btn-primary btn-xs mx-2 rounded px-2",l.innerHTML="Data";l.addEventListener("click",function(){columnss_list=[],columns_list=[],s_table_name=[],t_ele_id=[],table1=[],table2=[];var e=new Set,r=new Set;b=$(this).parent(".ebDataElementsDiv").find(".ColumnItem");for(let t=0;t<b.length;t++)e.add(b[t].getAttribute("data-table")),r.add(b[t].getAttribute("data-element_id"));if(s_table_name=Array.from(e),t_ele_id=Array.from(r),1==listViewComp&&(t=listViewModelName,n=listViewModelName,i=listViewCompCol),bb=$(this).parent(".ebDataElementsDiv").find(".ColumnItem"),s_table_name.length>1)for(let e=0;e<s_table_name.length-1;e++){curr_table=s_table_name[e];for(let e=0;e<bb.length;e++)bb[e].getAttribute("data-table")==curr_table?table1.push(bb[e].querySelector("p").innerText):table2.push(bb[e].querySelector("p").innerText);columnss_list.push(table1),columnss_list.push(table2)}else{a=$(this).parent(".ebDataElementsDiv").find(".ColumnItem").find("p");for(let e=0;e<a.length;e++)columns_list.push(a[e].innerText);columnss_list.push(columns_list)}for(let e=0;e<s_table_name.length;e++){s_table_name[e]==t?current_table="Yes":current_table="No";var o={function:"Import Data",data_mapper:{current_element_name:s_table_name[e]},inputs:{Data_source:"Database",Table:s_table_name[e],Columns:columnss_list[e],global_var:"",parent_table_column:"",current_table_column:"",show_foreignKey_value:!1,current_table:current_table},condition:{},outputs:{name:"",save:""}};$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:n,data2:t_ele_id[e],data3:o,elementName:n+i+Math.floor(1e10*Math.random()+1),data_id:"datamgm"}),operation:"save_import_data",data_source:"Database"},type:"POST",dataType:"json",success:function(e){Swal.fire({icon:"success",text:"Data import configuration saved successfully!"})},error:function(){Swal.fire({icon:"error",text:"Error! Failure in saving the Data import configuration. Please try again."})}})}}),o.append(l),dataElementParent.append(o);const c=document.querySelectorAll(".dragAreaPossible");function d(e,t){const n=[...e.querySelectorAll(".draggable:not(.dragging)")];return n.reduce((e,n)=>{const i=n.getBoundingClientRect(),a=t-i.top-i.height/2;return a<0&&a>e.offset?{offset:a,element:n}:e},{offset:Number.POSITIVE_INFINITY}).element}c.forEach(e=>{e.addEventListener("dragover",t=>{t.preventDefault();const n=d(e,t.clientY),i=document.querySelector(".dragging");null==n?(e.appendChild(i),e.querySelector(".EbOverlay")&&(e.querySelector(".EbOverlay").className="EBshow"),e.querySelector(".heartIcon")&&(e.querySelector(".heartIcon").className="EBhide")):(e.insertBefore(i,n),e.querySelector(".EbOverlay")&&(e.querySelector(".EbOverlay").className="EBshow"),e.querySelector(".heartIcon")&&(e.querySelector(".heartIcon").className="EBhide"))})});var s=0,u=0;if(0==r)if("Left Join"==func_list[r]||"Right Join"==func_list[r]||"Inner Join"==func_list[r]||"Outer Join"==func_list[r]||"Networkdays"==func_list[r]||"Workdays"==func_list[r]||"Workdays.Intl"==func_list[r])for(let[t,n]of Object.entries(e.import_data)){if(2==s)break;for(let[e,t]of Object.entries(n.columns))$(".ebDataElementsDiv").eq(r).append(`\n                  <div class= "ColumnItem draggable" draggable="true" data-table="${n.table_name}" data-element_id="${n.ele_id}" data-element_comp="datamgm">\n                  <p>${t}</p>\n                  </div>\n                `),draggables=document.querySelectorAll(".draggable"),draggables.forEach(e=>{e.addEventListener("dragstart",t=>{e.classList.add("dragging")}),e.addEventListener("dragend",t=>{e.classList.remove("dragging"),displayPreviews(),displayCharacters(funcDic)})});delete e.import_data[s],s+=1}else for(let[t,n]of Object.entries(e.import_data)){if(1==u)break;for(let[e,t]of Object.entries(n.columns))$(".ebDataElementsDiv").eq(r).append(`\n                  <div class="ColumnItem draggable" draggable="true" data-table="${n.table_name}" data-element_id="${n.ele_id}" data-element_comp="datamgm">\n                  <p>${t}</p>\n                  </div>\n                `),draggables=document.querySelectorAll(".draggable"),draggables.forEach(e=>{e.addEventListener("dragstart",t=>{e.classList.add("dragging")}),e.addEventListener("dragend",t=>{e.classList.remove("dragging"),displayPreviews(),displayCharacters(funcDic)})});delete e.import_data[u],u+=1}else if("Left Join"==func_list[r]||"Right Join"==func_list[r]||"Inner Join"==func_list[r]||"Outer Join"==func_list[r]||"Append and Concatenate"==func_list[r]||"Networkdays"==func_list[r]||"Networkdays.Intl"==func_list[r]||"Workdays"==func_list[r]||"Workdays.Intl"==func_list[r])for(let[t,n]of Object.entries(e.import_data)){if(1==u)break;for(let[e,t]of Object.entries(n.columns))$(".ebDataElementsDiv").eq(r).append(`\n                  <div class="ColumnItem draggable" draggable="true" data-table="${n.table_name}" data-element_id="${n.ele_id}" data-element_comp="datamgm">\n                    <p>${t}</p>\n                  </div>\n                `),draggables=document.querySelectorAll(".draggable"),draggables.forEach(e=>{e.addEventListener("dragstart",t=>{e.classList.add("dragging")}),e.addEventListener("dragend",t=>{e.classList.remove("dragging"),displayPreviews(),displayCharacters(funcDic)})});delete e.import_data[u],u+=1}}var p=document.querySelector(".ebFunctions"),g=p.querySelectorAll(".function"),m=[];g.forEach(e=>{m.push(e.querySelector("h2").innerText)});for(let[t,n]of Object.entries(e.func_data))if("Export data"!=n.text){var f="";$("#functionPreviews").append('<div class="function" onclick="">\n              <h2></h2>\n              <p style="display:none;"></p>\n            </div>\n          '),n.prevString.length>30?(f=n.prevString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(n.order).find("p").text(n.prevString),$("#functionPreviews").find(".function").eq(n.order).attr("onclick",`popupOpen(); takeFuncInput('${n.text}', '${n.ele_id}', '${n.order}', this)`)):(f=n.prevString,$("#functionPreviews").find(".function").eq(n.order).find("p").text(n.prevString),$("#functionPreviews").find(".function").eq(n.order).attr("onclick","")),$("#functionPreviews").find(".function").eq(n.order).find("h2").text(f)}var _=new Set,v=new Set;bce12=$("#dataElementParent").find(".ebDataElementsDiv").eq(0).find(".ColumnItem");for(let e=0;e<bce12.length;e++)_.add(bce12[e].getAttribute("data-table")),v.add(bce12[e].getAttribute("data-element_id"));s_table_name12=Array.from(_),t_ele_id12=Array.from(v);let S={};for(let e=0;e<s_table_name12.length;e++)S[s_table_name12[e]]=t_ele_id12[e];tempdd=S},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}function SaveCompFlow(e){const t=$(".ebFunctions").find("div").find("a"),n=[];let i,a,r="",o="",l="",c="",d="",s="",u="",p=[];for(let e=0;e<t.length;e++){try{u=$(".ebDataElementsDiv").eq(e).find(".ColumnItem"),u[0].getAttribute("data-element_id"),c=$(".ebFunctions").find("div").find("a").eq(e).attr("data-element_id");try{a=$(".ebFunctions").find("div").find("a").eq(e+1).attr("data-element_id"),l=[a]}catch(e){l="#"}r=$(".ebFunctions").find("div").find("h2").eq(e).text();const t=new Set;for(let e=0;e<u.length;e++)t.add(u[e].getAttribute("data-element_id"));i=Array.from(t),p=i.slice(),"Left Join"!==String(r)&&"Right Join"!==String(r)&&"Inner Join"!==String(r)&&"Outer Join"!==String(r)&&"Append and Concatenate"!==String(r)&&"Networkdays"!==String(r)&&"Networkdays.Intl"!==String(r)&&"Workdays"!==String(r)&&"Workdays.Intl"!==String(r)||"1"!==String(i.length)||(s=$(".ebFunctions").find("div").find("a").eq(e-1).attr("data-element_id"),("Networkdays"==r||"Networkdays.Intl"==r||"Workdays"==r||"Workdays.Intl"===String(r))&&0==e?s.includes("import")&&i.push(s):i.push(s)),u=i,o=c}catch(t){u=$(".ebFunctions").find("div").find("a").eq(e-1).attr("data-element_id"),o=$(".ebFunctions").find("div").find("a").eq(e).attr("data-element_id"),r=$(".ebFunctions").find("div").find("h2").eq(e).text();try{a=$(".ebFunctions").find("div").find("a").eq(e+1).attr("data-element_id"),l=[a],i=u,u=[u]}catch(e){l="#",u=[u]}}if(r="Column sum"===String(r)||"Row sum"===String(r)||"Cell sum"===String(r)||"Column subtraction"===String(r)||"Row subtraction"===String(r)||"Cell subtraction"===String(r)||"Column multiplication"===String(r)||"Row multiplication"===String(r)||"Cell multiplication"===String(r)||"Column division"===String(r)||"Row division"===String(r)||"Cell division"===String(r)?"Basic Operations":"Round"===String(r)?"Rounding Operations":"Square root"===String(r)?"Power and Root Functions":"Log"===String(r)?"Log and Exponential Functions":"Rename and Drop"===String(r)?"Rename Column":"Filter"===String(r)?"Data Transformation Filter":"Add Time Periods"===String(r)?"Add Time Periods":"Add Column"===String(r)?"Data Transformation Add Column":"Sort"===String(r)?"Data Transformation Sort":"Data Utilities"===String(r)?"Data Utilities":"Groupby"===String(r)?"Data Transformation Groupby":"Pivot"===String(r)?"Data Transformation Pivot":"Unpivot"===String(r)?"Data Transformation Unpivot":"Add Fix Column"===String(r)?"Add Fix Column":"Concat Columns"===String(r)?"Concat Columns":"Drop Duplicate"===String(r)?"Drop Duplicate":"Weighted Average"===String(r)?"Elementary Statistics":"Sum Product"===String(r)?"Elementary Statistics":"Fill Missing Values"===String(r)?"Missing Value":"Delimit Column"===String(r)?"Delimit Column":"Days"===String(r)?"Days":"Date"===String(r)?"Date":"Find and Replace"===String(r)?"Find and Replace":"Workdays.Intl"===String(r)?"Workdays.Intl":"Workdays"===String(r)?"Workdays":"Networkdays.Intl"===String(r)?"Networkdays.Intl":"Networkdays"===String(r)?"Networkdays":"Yearfrac"===String(r)?"Yearfrac":"Year"===String(r)?"Year":"Weeknum"===String(r)?"Weeknum":"Weekday"===String(r)?"Weekday":"Today"===String(r)?"Today":"Time"===String(r)?"Time":"Second"===String(r)?"Second":"Now"===String(r)?"Now":"Month"===String(r)?"Month":"Minute"===String(r)?"Minute":"Isoweeknum"===String(r)?"Isoweeknum":"Hour"===String(r)?"Hour":"Eomonth"===String(r)?"Eomonth":"Days360"===String(r)?"Days360":"Edate"===String(r)?"Edate":"Day"===String(r)?"Day":"Data Transformation","0"===String(e)){for(let e=0;e<i.length;e++)d={element_id:i[e],text:"Import Data",parent:"#",child:[c]},n.push(d);String(e)===String(t.length-1)?(d={element_id:c,text:r,parent:i,child:"#"},$("#exportEqData").attr("data-element_id")&&(d.child=[$("#exportEqData").attr("data-element_id")]),n.push(d)):(d={element_id:c,text:r,parent:i,child:l},n.push(d))}else"1"===String(p.length)&&"Data Transformation"===String(r)&&(d={element_id:p[0],text:"Import Data",parent:"#",child:[o]},n.push(d)),String(e)===String(t.length-1)?("Data Transformation Filter"!=r&&"Data Transformation Sort"!=r&&"Data Transformation Add Column"!=r&&"Data Transformation Groupby"!=r&&"Data Transformation Pivot"!=r&&"Data Transformation Unpivot"!=r||(r="Data Transformation"),d={element_id:o,text:r,parent:u,child:"#"},$("#exportEqData").attr("data-element_id")&&(d.child=[$("#exportEqData").attr("data-element_id")]),n.push(d)):("Data Transformation Filter"!=r&&"Data Transformation Sort"!=r&&"Data Transformation Add Column"!=r&&"Data Transformation Groupby"!=r&&"Data Transformation Pivot"!=r&&"Data Transformation Unpivot"!=r||(r="Data Transformation"),d={element_id:o,text:r,parent:u,child:l},n.push(d))}$("#exportEqData").attr("data-element_id")&&(d={element_id:$("#exportEqData").attr("data-element_id"),text:"Export Data",parent:[$(".ebFunctions .function").last().find("a").attr("data-element_id")],child:"#"},n.push(d)),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{xml:"innn",model_name:e,operation:"save_flowchart",configList:JSON.stringify({data3:n}),data_id:"datamgm"},type:"POST",dataType:"json",success:function(e){Swal.fire({icon:"success",text:"Model saved successfully!."})},error:function(){Swal.fire({icon:"error",text:"Error! Failure in saving the Model. Please try again."})}})}var previewString,cIndex,iid,hpCharacters=[],favFunctionList=[],currentTab="",draggables=[],counter=0,cDict={},indexCount=0,previewOperator="",myTruncatedString="",selectedCol="",funcDic=[],charactersList=document.getElementById("charactersList"),searchBar=document.getElementById("searchBar"),allTables=[],selectedTables={},uniqueid="",validFlag=!0,listViewComp=!1,listViewModelName="",listViewCompCol="",compValProcess="",compValProcessName="",compValVarName=[],stepCount=1,EBtables=[],idenFlag="",idenFlag2="",tempdd={},MelementID="";const columnList=["Column 1","column 2","column 3","column 4","column 5","column 6","column 7","column 8","Column 1","column 2","column 3","column 4","column 5","column 6","column 7","column 8","Column 1","column 2","column 3","column 4","column 5","column 6","column 7","column 8"],loadEBData=()=>{setTimeout(function(){try{$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"fetch_all_ops"},type:"POST",dataType:"json",success:function(e){for(const t in e.ops){const n=e.ops[t];$("#tname").val(),funcDic.push({name:n})}hpCharacters=funcDic,displayCharacters(funcDic),document.querySelectorAll(".tableItemP").forEach(e=>EBtables.push(e.innerText))},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}),displayTables(EBTables)}catch(e){}},700)};loadEBData(),searchBar.addEventListener("keyup",e=>{const t=e.target.value,n=hpCharacters.filter(e=>e.name.toLowerCase().includes(t.toLowerCase()));displayCharacters(n)}),searchTable.addEventListener("keyup",e=>{const t=e.target.value,n=[];EBtables.map(e=>(e.toLowerCase().includes(t.toLowerCase())&&n.push(e),n)),displayTables(n)});const displaySelectedTables=()=>{const e=Object.keys(selectedTables).map(function(e,t){return String(e)!==String(currentTab)?`\n            <div class="selectedTableItem" data-element_id="${selectedTables[e]}" onClick="changeTab('${e}')">\n                <p>${e}</p>\n                <pre class="RemoveIcon"  onClick="removeSelectedTable('${e}')">&#10006;</pre>\n            </div>\n        `:`\n            <div class="selectedTableItem active_table" data-element_id="${selectedTables[e]}" style="background:rgb(206, 206, 206)" onClick="changeTab('${e}')">\n                <p>${e}</p>\n                <pre class="RemoveIcon"  onClick="removeSelectedTable('${e}')">&#10006;</pre>\n            </div>\n        `}).join("");selectedTablesDiv.innerHTML=e},displayColumns=(e,t)=>{let n="";n="undefined"===String(typeof $("#tname").val())&&0==listViewComp?"comp":"datamgm"
;const i=$(".active_table").find("p")[0].innerText.split("-"),a=i[0],r=$(".active_table").attr("data-element_id"),o=e.map(e=>"datamgm"===String(n)?"attr"===String(idenFlag)?`\n                            <div class="ColumnItem" data-table="${a}" data-element_id="${r}" data-element_comp="${n}" data-func_id='${indexCount}'>\n                                <p>${e}</p>\n                            </div>\n                        `:`\n                        <div class="ColumnItem draggable" draggable="true" data-table="${a}" data-element_id="${r}" data-element_comp="${n}" data-func_id='${indexCount}'>\n                            <p>${e}</p>\n                        </div>\n                    `:`\n                    <div class="ColumnItem draggable" draggable="true" data-table="${a}" data-element_id="${r}" data-element_comp="${n}" data-func_id='${indexCount}'>\n                        <p>${e}</p>\n                    </div>\n                `).join("");document.querySelector("#table-columns").innerHTML=o,draggables=document.querySelectorAll(".draggable"),draggables.forEach(e=>{e.addEventListener("dragstart",t=>{e.classList.add("dragging")}),e.addEventListener("dragend",t=>{e.classList.remove("dragging")})})},removeSelectedTable=e=>{delete selectedTables[e],displaySelectedTables()},selectTable=e=>{currentTab=e;const t=1e12,n=9999999999999;currentTab in selectedTables&&(e=e+"-"+stepCount.toString(),stepCount++),"edit"===String(idenFlag)&&e in tempdd||"scen_old"===String(idenFlag2)&&e in tempdd?selectedTables[e]=tempdd[e]:selectedTables[e]="importData"+(Math.floor(Math.random()*(n-t+1))+t).toString(),displaySelectedTables(),changeTableandColumns(e)},setDesc=e=>{const t=document.querySelector("#funcDesc");t.innerText=e},saveData=(e,t,n,a)=>{previewString="";let r,o,l,c=[],d="",s="",u="";const p=$(".ebDataElementsDiv").eq(parseInt(0)).find(".ColumnItem");var g={};const m=new Set;for(let e=0;e<p.length;e++)m.add(p[e].getAttribute("data-table"));if(c=Array.from(m),"add"!==String(idenFlag)?r=$("#tname").val():"add"===String(idenFlag)||"edit"===String(idenFlag)?r=$(".dataElements").find("p").text():1==listViewComp&&(r=listViewModelName),void 0===r&&(r=""),d=c.includes(r)?"Yes":"No",o=$(".ebDataElementsDiv").find("div"),"0"===String(parseInt(a)))try{s=o[parseInt(a)].getAttribute("data-element_id")}catch(e){l=$(".ebFunctions").find("div").find("a"),s=l[parseInt(a-1)].getAttribute("data-element_id")}else o=$(".ebFunctions").find("div").find("a"),s=o[parseInt(a-1)].getAttribute("data-element_id");if("Column sum"===String(cDict.Operation)||"Row sum"===String(cDict.Operation)||"Cell sum"===String(cDict.Operation)||"Column subtraction"===String(cDict.Operation)||"Row subtraction"===String(cDict.Operation)||"Cell subtraction"===String(cDict.Operation)||"Column multiplication"===String(cDict.Operation)||"Row multiplication"===String(cDict.Operation)||"Cell multiplication"===String(cDict.Operation)||"Column division"===String(cDict.Operation)||"Row division"===String(cDict.Operation)||"Cell division"===String(cDict.Operation)){let e=0,t="",n="",i="",a="",r="",o="",l="",u="",p="",m="",f="",_=[];if("Column sum"===String(cDict.Operation)||"Row sum"===String(cDict.Operation)||"Cell sum"===String(cDict.Operation)?(t=cDict.Operation,previewOperator=" + "):"Column subtraction"===String(cDict.Operation)||"Row subtraction"===String(cDict.Operation)||"Cell subtraction"===String(cDict.Operation)?(t=cDict.Operation,previewOperator=" - "):"Column multiplication"===String(cDict.Operation)||"Row multiplication"===String(cDict.Operation)||"Cell multiplication"===String(cDict.Operation)?(t=cDict.Operation,previewOperator=" * "):"Column division"!==String(cDict.Operation)&&"Row division"!==String(cDict.Operation)&&"Cell division"!==String(cDict.Operation)||(t=cDict.Operation,previewOperator=" / "),"Column sum"===String(cDict.Operation)||"Column subtraction"===String(cDict.Operation)||"Column multiplication"===String(cDict.Operation)||"Column division"===String(cDict.Operation))if(cDict.Column_sum1.length>=1&&""===String(cDict.Column_sum2)){e="",n=cDict.Column_sum1,a="Column_Sum",r="Dataframe_input",_=cDict.Column_sum1;for(let e=0;e<cDict.Column_sum1.length;e++)"0"===String(e)?previewString+=cDict.Column_sum1[e]:previewString=previewString+previewOperator+cDict.Column_sum1[e]}else cDict.Column_sum1.length>=1&&""!==String(cDict.Column_sum2)&&(e=parseFloat(cDict.Column_sum2),n=cDict.Column_sum1,a="Column_Sum",r="Custom_input",_=cDict.Column_sum1,previewString=cDict.Column_sum1+previewOperator+cDict.Column_sum2);else if("Row sum"===String(cDict.Operation)||"Row subtraction"===String(cDict.Operation)||"Row multiplication"===String(cDict.Operation)||"Row division"===String(cDict.Operation))if(cDict.Row_sum1.length>=1&&""===String(cDict.Row_sum2)){e="",n=cDict.Row_sum1.map(e=>Number(e)),a="Row_Sum",r="Dataframe_input";for(let e=0;e<cDict.Row_sum1.length;e++)"0"===String(e)?previewString+=cDict.Row_sum1[e]:previewString=previewString+previewOperator+cDict.Row_sum1[e]}else cDict.Row_sum1.length>=1&&""!==String(cDict.Row_sum2)&&(e=parseFloat(cDict.Row_sum2),n=cDict.Row_sum1.map(e=>Number(e)),a="Row_Sum",r="Custom_input",previewString=cDict.Row_sum1+previewOperator+cDict.Row_sum2);else"1"===String(cDict.Cell_11.length)&&"1"===String(cDict.Cell_12.length)&&"1"===String(cDict.Cell_21.length)&&"1"===String(cDict.Cell_22.length)&&""===String(cDict.Cell_sum3)?(e="",n="",i="",a="Cell_Sum",r="Dataframe_input",o=cDict.Cell_11.map(e=>Number(e)),l=cDict.Cell_12,u=cDict.Cell_21.map(e=>Number(e)),p=cDict.Cell_22,m=cDict.Target_Cell_11.map(e=>Number(e)),f=cDict.Target_Cell_22,previewString=cDict.Cell_11+cDict.Cell_12+previewOperator+cDict.Cell_21+cDict.Cell_22):"1"===String(cDict.Cell_11.length)&&"1"===String(cDict.Cell_12.length)&&"0"===String(cDict.Cell_21.length)&&"0"===String(cDict.Cell_22.length)&&""!==String(cDict.Cell_sum3)&&(e=parseFloat(cDict.Cell_sum3),n="",i="",a="Cell_Sum",r="Custom_input",o=cDict.Cell_11.map(e=>Number(e)),l=cDict.Cell_12,m=cDict.Target_Cell_11.map(e=>Number(e)),f=cDict.Target_Cell_22,previewString=cDict.Cell_11+cDict.Cell_12+previewOperator+cDict.Cell_sum3);g={function:"Apply Math Operation",inputs:{data:{Data1:s},Data_choice:r,Column_1:n,Column_2:i,Number:e,Operation:"Basic Operations",Sub_Op:t,Column_name:cDict.Target_Column1,Additional_Colns:"",Other_Inputs:{Type_choice:a,Cell_11:o,Cell_12:l,Cell_21:u,Cell_22:p,Target_1:m,Target_2:f,previewString:previewString},D_cols:_,table_name:c,current_table:d}}}else if("Round"===String(cDict.Operation)){let e="",t="",n="",i="",a="",r=[];""!==String(cDict.Ceiling1)&&""!==String(cDict.Ceiling_Significance_Multiple2)?(e="Ceiling",t=cDict.Ceiling1,n=cDict.Ceiling1,i=cDict.Ceiling_Significance_Multiple2,a="",r=[cDict.Ceiling1],previewString="Ceiling of "+cDict.Ceiling1+" to the power of "+cDict.Ceiling_Significance_Multiple2):""!==String(cDict.Floor1)&&""!==String(cDict.Floor_Significance_Multiple2)?(e="Floor",t=cDict.Floor1,n=cDict.Floor1,i=cDict.Floor_Significance_Multiple2,a="",r=[cDict.Floor1],previewString="Floor of "+cDict.Floor1+" to the power of "+cDict.Floor_Significance_Multiple2):""!==String(cDict.Odd1)?(e="Odd",t=cDict.Odd1,n=cDict.Odd1,i="",a="",r=[cDict.Odd1],previewString="Odd of "+cDict.Odd1):""!==String(cDict.Even1)?(e="Even",t=cDict.Even1,n=cDict.Even1,i="",a="",r=[cDict.Even1],previewString="Even of "+cDict.Even1):""!==String(cDict.Round1)&&""!==String(cDict.No_of_Decimals2)?(e="Round",t=cDict.Round1,n=cDict.Round1,i="",a=cDict.No_of_Decimals2,r=[cDict.Round1],previewString="Round of "+cDict.Round1+" by "+cDict.No_of_Decimals2+" places"):""!==String(cDict.Round_Up1)?(e="Round_Up",t=cDict.Round_Up1,n=cDict.Round_Up1,i="",a="",r=[cDict.Round_Up1],previewString="Round Up of "+cDict.Round_Up1):""!==String(cDict.Round_Down1)?(e="Round_Down",t=cDict.Round_Down1,n=cDict.Round_Down1,i="",a="",r=[cDict.Round_Down1],previewString="Round Down of "+cDict.Round_Down1):""!==String(cDict.Truncate1)&&(e="Truncate",t=cDict.Truncate1,n=cDict.Truncate1,i="",a="",r=[cDict.Truncate1],previewString="Truncate of "+cDict.Truncate1),g={function:"Apply Math Operation",inputs:{data:{Data1:s},Column_1:t,Column_2:n,Operation:"Rounding Operations",Sub_Op:e,Column_name:cDict.Target_Column1,Additional_Colns:[],Other_Inputs:{Output_choice:"No_replace",Signif_Multiple:i,Decimal:a,previewString:previewString},D_cols:r,table_name:c,current_table:d}}}else if("Log"===String(cDict.Operation)){let e="",t="",n="",i="",a=[];""!==String(cDict.Base_Log1)&&""!==String(cDict.Log_Base_value2)?(e="Log_base",t=cDict.Base_Log1,n=cDict.Base_Log1,i=cDict.Log_Base_value2,a=[cDict.Base_Log1],previewString="Log of "+cDict.Base_Log1+" to the base "+cDict.Log_Base_value2):""!==String(cDict.Exponential1)?(e="Exponential",t=cDict.Exponential1,n=cDict.Exponential1,i="2",a=[cDict.Exponential1],previewString="Exponential of "+cDict.Exponential1):""!==String(cDict.Natural_Log1)&&(e="Natural_Log",t=cDict.Natural_Log1,n=cDict.Natural_Log1,a=[cDict.Natural_Log1],previewString="Natural Log of "+cDict.Natural_Log1),g={function:"Apply Math Operation",inputs:{data:{Data1:s},Column_1:t,Column_2:n,Operation:"Log and Exponential Functions",Sub_Op:e,Column_name:cDict.Target_Column1,Additional_Colns:[],Other_Inputs:{Log_Base:i,previewString:previewString},D_cols:a,table_name:c,current_table:d}}}else if("Square root"===String(cDict.Operation)){let e="",t="",n="",i=[];""!==String(cDict.Root_Operation1)&&""!==String(cDict.Root_Operation2)&&(e=cDict.Root_Operation1,t=cDict.Root_Operation1,n=cDict.Root_Operation2,i=[cDict.Root_Operation1],previewString=cDict.Root_Operation1+" ^ "+cDict.Root_Operation2),g={function:"Apply Math Operation",inputs:{data:{Data1:s},Column_1:e,Column_2:t,Operation:"Power and Root Functions",Sub_Op:"Power",Column_name:cDict.Target_Column1,Additional_Colns:[],Other_Inputs:{Power:n,previewString:previewString},D_cols:i,table_name:c,current_table:d}}}else if("Left Join"===String(cDict.Operation)||"Right Join"===String(cDict.Operation)||"Inner Join"===String(cDict.Operation)||"Outer Join"===String(cDict.Operation)){let e="",t="",n="",i="",a="",o="";"Left Join"===String(cDict.Operation)?0!==String(cDict.Left_join_Data13.length)&&0!==String(cDict.Left_join_Data24.length)&&""!==String(cDict.Left_join_on_Data11)&&""!==String(cDict.Left_join_on_Data22)&&(t="left",e=[cDict.Left_join_Data13,cDict.Left_join_Data24],n=cDict.Left_join_on_Data11,i=cDict.Left_join_on_Data22,a=cDict.Left_join_Data13,o=cDict.Left_join_Data24,previewString="Left Join Data1 on "+cDict.Left_join_on_Data11+" Data2 on "+cDict.Left_join_on_Data22):"Right Join"===String(cDict.Operation)?0!==String(cDict.Right_join_Data13.length)&&0!==String(cDict.Right_join_Data24.length)&&""!==String(cDict.Right_join_on_Data22)&&""!==String(cDict.Right_join_on_Data11)&&(t="right",e=[cDict.Right_join_Data13,cDict.Right_join_Data24],n=cDict.Right_join_on_Data11,i=cDict.Right_join_on_Data22,a=cDict.Right_join_Data13,o=cDict.Right_join_Data24,previewString="Right Join Data1 on "+cDict.Right_join_on_Data11+" Data2 on "+cDict.Right_join_on_Data22):"Inner Join"===String(cDict.Operation)?0!==String(cDict.Inner_join_Data13.length)&&0!==String(cDict.Inner_join_Data24.length)&&""!==String(cDict.Inner_join_on_Data11)&&""!==String(cDict.Inner_join_on_Data22)&&(t="inner",e=[cDict.Inner_join_Data13,cDict.Inner_join_Data24],n=cDict.Inner_join_on_Data11,i=cDict.Inner_join_on_Data22,a=cDict.Inner_join_Data13,o=cDict.Inner_join_Data24,previewString="Inner Join Data1 on "+cDict.Inner_join_on_Data22+" Data2 on "+cDict.Inner_join_on_Data11):0!==String(cDict.Outer_join_Data13.length)&&0!==String(cDict.Outer_join_Data24.length)&&""!==String(cDict.Outer_join_on_Data11)&&""!==String(cDict.Outer_join_on_Data22)&&(t="outer",e=[cDict.Outer_join_Data13,cDict.Outer_join_Data24],n=cDict.Outer_join_on_Data11,i=cDict.Outer_join_on_Data22,a=cDict.Outer_join_Data13,o=cDict.Outer_join_Data24,previewString="Outer Join Data1 on "+cDict.Outer_join_on_Data22+" Data2 on "+cDict.Outer_join_on_Data11),g={function:"Merge and Join",element_name:"merge",inputs:{data:{Data1:cDict.table_data[0],Data2:cDict.table_data[1]},final_config:{merge_and_join:{function:"Merge and Join",inputs:{data:{Data1:cDict.table_data[0],Data2:cDict.table_data[1]},option:"join",Col_show:"",col_display_list:e,table_name:c,current_table:d,join_config:{join_type:t,previewString:previewString,on:{Data1:n,Data2:i},on_display:{Data1:a,Data2:o}}},newly_created:r},groupby:"",conditional_merge:"",sortby:""}},outputs:{name:"",save:{source:"",table:""}}}}else if("Append and Concatenate"===String(cDict.Operation))"append"==$(".Target_Column1").val()?previewString="Table Appended":"concatenate"==$(".Target_Column1").val()&&(previewString="Table Concatenated"),g={function:"Merge and Join",element_name:"append",inputs:{data:{Data1:cDict.table_data[0],Data2:cDict.table_data[1]},final_config:{merge_and_join:{function:"Merge and Join",inputs:{data:{Data1:cDict.table_data[0],Data2:cDict.table_data[1]},option:$(".Target_Column1").val(),previewString:previewString,table_name:c,current_table:d},newly_created:r},groupby:"",conditional_merge:"",sortby:""}},outputs:{name:"",save:{source:"",table:""}}};else if("Rename and Drop"===String(cDict.Operation)){if("0"!==String(cDict.Drop_Columns1.length))for(let e=0;e<cDict.Drop_Columns1.length;e++)previewString="0"===String(e)?"Drop Columns "+cDict.Drop_Columns1[e]:previewString+", "+cDict.Drop_Columns1[e];const e={};if($("#renameColumnContainer1").find(".renameColumnGroup1").each(function(){const t=$(this).find(".col-10").find("label").text(),n=$(this).find(".col-10").find("input").val();e[t]=n}),Object.keys(e).length>0){""!==String(previewString)&&(previewString+=" and ");for(const[t,n]of Object.entries(e))previewString=previewString+"Rename column "+t+" to "+n}g={function:"Rename Column",inputs:{Data:[s],rename_config:e,drop_column:cDict.Drop_Columns1,previewString:previewString},outputs:{save:{source:"",table:""}}}}else if("Filter"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}let n={Data1:t},i="",r=$("#filter-table_where_merge1"),o=[];r.find("tr").each(function(e,t){$(this).find("select").length>2?(i={column_name:$(this).find("select").attr("name"),condition:($(this).find("select").eq(0).val()+" "+$(this).find("select").eq(2).val()).trim(),globalVariable:$(this).find("select").eq(1).val()},"number"==$(this).find("input").attr("type")?i.input_value=Number($(this).find("input").val()):i.input_value=$(this).find("input").val()):(i={column_name:$(this).find("select").eq(0).attr("name"),condition:$(this).find("select").eq(0).val(),globalVariable:$(this).find("select").eq(1).val()},"number"==$(this).find("input").attr("type")?i.input_value=Number($(this).find("input").val()):i.input_value=$(this).find("input").val()),o.push(i)}),previewString="Filter Data ......",u={function:"Merge and Join",inputs:{data:n,req_data:t,option:"where",previewString:previewString,option_config:{condition:o}}},g={function:"Merge and Join",element_name:"filter",inputs:{data:{Data1:t},final_config:{merge_and_join:"",groupby:u,conditional_merge:"",sortby:""}},outputs:{name:"",save:{source:"",table:""}}}}else if("Add Time Periods"===String(cDict.Operation))""!==String(cDict.Time_Periods1)&&""!==String(cDict.Days2)&&(previewString=cDict.Time_Periods1+" + "+cDict.Days2+" Days"),""!==String(cDict.Time_Periods1)&&""!==String(cDict.Months3)&&(previewString=cDict.Time_Periods1+" + "+cDict.Months3+" Months"),""!==String(cDict.Time_Periods1)&&""!==String(cDict.Years4)&&(previewString=cDict.Time_Periods1+" + "+cDict.Years4+" Years"),g={function:"Add Time Periods",inputs:{data:s,Column_1:cDict.Time_Periods1,Column_name:cDict.Target_Column1,Days:cDict.Days2,Months:cDict.Months3,Years:cDict.Years4,previewString:previewString,table_name:c,current_table:d}};else if("Groupby"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Group by column :";let n={Data1:t},r=[],o={};for(i in r=$(".Target_Column1").val(),r)previewString+=" "+r[i]+",";let l=$("#selectedGroupAggList");l.find("div.row").each(function(e,t){let n=$(this).find("button").val(),i=$(this).find("select").val();o[n]=i}),previewString=previewString.substr(0,previewString.length-1),u={function:"Merge and Join",inputs:{data:n,req_data:t,option:"group",previewString:previewString,option_config:{group_by:r,aggregate_func:o}}},g={function:"Merge and Join",element_name:"groupby",inputs:{data:{Data1:t},final_config:{merge_and_join:"",groupby:u,conditional_merge:"",sortby:""}},outputs:{name:"",save:{source:"",table:""}}}}else if("Sort"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Sort by column :";let n={Data1:t},i={},r=$("#selectedSortColList");r.find("div.row").each(function(e,t){let n=$(this).find("button").val(),a=$(this).find("select").val();i[n]=a,previewString+=" "+n+","}),previewString=previewString.substring(0,previewString.length-1),u={function:"Merge and Join",inputs:{data:n,option:"",option_config:"",previewString:previewString},sort:i},g={function:"Merge and Join",element_name:"sort",inputs:{data:{Data1:t},final_config:{merge_and_join:"",groupby:"",conditional_merge:"",sortby:u}},outputs:{name:"",save:{source:"",table:""}}}}else if("Concat Columns"===String(cDict.Operation)){if("0"!==String(cDict.Target_Column2.length))for(let e=0;e<cDict.Target_Column2.length;e++)previewString="0"===String(e)?cDict.Target_Column2[e]:previewString+"+"+cDict.Target_Column2[e];g={function:"Concat Columns",inputs:{data:s,Column_1:cDict.Target_Column2,Column_name:cDict.Target_Column1,Separator:cDict.Target_Column3,previewString:previewString,table_name:c,current_table:d}}}else if("Data Utilities"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(previewString="Reset Index",0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}"true"==cDict.Reset_Index1?reset_checked=!0:reset_checked=!1,"true"==cDict.Drop_Index2?drop_checked=!0:drop_checked=!1,g={function:"Data Utilities",inputs:{Data:[t],element_name:"",reset_checked:reset_checked,drop_checked:drop_checked,previewString:previewString}}}else if("Add Column"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}let n={Data1:t};AddColConditionList={};var f=$("#filter-table_addCol_body"),_=$(".Target_Column1").val(),v=$(".Target_Column3").val(),S=$(".Target_Column2").val(),h=new Array;f.find("tr").each(function(e,t){var n={column_name:$(this).find("select").attr("name"),condition:$(this).find("select").eq(0).val().trim(),globalVariable:$(this).find("select").eq(1).val(),repr_value:{repr_value:"",global_var:""}};null==n.globalVariable&&(n.globalVariable=""),"number"==$(this).find("input").eq(0).attr("type")?n.condition_value=Number($(this).find("input").eq(0).val()):n.condition_value=$(this).find("input").eq(0).val(),"static_add"==v?(n.repr_value.repr_value=$(this).find("input").eq(1).val(),n.repr_value.global_var=$(this).find('select[data-dropdown_purpose="select_global_variable_input"]').eq(0).val()):n.repr_value.repr_value=$(this).find("select").eq(2).val(),h.push(n)}),AddColConditionList.new_column_name=_,AddColConditionList.condition=h,AddColConditionList.add_type=v,S&&(AddColConditionList.field_type=S),previewString="Added Column : "+cDict.Target_Column1,u={function:"Merge and Join",inputs:{data:n,req_data:t,previewString:previewString,option:"addCondColumn",option_config:{condition:AddColConditionList}}},g={function:"Merge and Join",element_name:"AddColumn",inputs:{data:{Data1:t},final_config:{merge_and_join:"",groupby:u,conditional_merge:"",sortby:""}},outputs:{name:"",save:{source:"",table:""}}}}else if("Pivot"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}let n={Data1:t},r=$(".Target_Column2").val();for(i in previewString="Pivot on :",r)previewString+=" "+r[i]+",";previewString=previewString.substr(0,previewString.length-1),g={function:"Pivot and Transpose",element_name:"pivot",inputs:{data:n,option:"pivot",previewString:previewString,option_config:{index:$(".Target_Column1").val(),columns:$(".Target_Column2").val(),values:$(".Target_Column3").val()}}}}else if("Unpivot"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}let n={Data1:t},r=$(".Target_Column2").val();for(i in previewString="Unpivot on :",r)previewString+=" "+r[i]+",";previewString=previewString.substr(0,previewString.length-1),g={function:"Pivot and Transpose",element_name:"unpivot",inputs:{data:n,option:"melt",previewString:previewString,option_config:{index:$(".Target_Column1").val(),columns:$(".Target_Column2").val(),variable_column_name:$(".Target_Column3").val(),value_column_name:$(".Target_Column4").val()}}}}else if("Fill Missing Values"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(previewString="Fill Missing Values",0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}var y="";if("custom"==$(".Select_Operation1").val())y=$(".Custom_value3").val();g={function:"Missing Values",inputs:{element_name:"",data:{Data1:t},Sub_Op:$(".Select_Operation1").val(),Other_Inputs:{Data:$(".Data_Table2").val(),subOpConfig:y},previewString:previewString}}}else if("Sum Product"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(previewString="Sum Product",0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}g={function:"Elementary Statistics",inputs:{element_name:"",data:{Data1:t},previewString:previewString,Type:"Basic Aggregates",Groupby_column:$(".Column_Group1").val(),agg_config:[{Value_column:$(".Column_Value2").val(),Sum_product_column:$(".Column_Value2").val(),Aggregate:"Sum Product",new_column_name:$(".Column_Name3").val(),Weights:"",Conditional:{}}]}}}else if("Weighted Average"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(previewString="Weighted Average",0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}g={function:"Elementary Statistics",inputs:{element_name:"",data:{Data1:t},previewString:previewString,Type:"Basic Aggregates",Groupby_column:$(".Column_Group1").val(),agg_config:[{Value_column:$(".Average_Value2").val(),Weights:$(".Average_Weight3").val(),Sum_product_column:[],Aggregate:"Weighted Average",new_column_name:$(".Column_Name4").val(),Conditional:{}}]}}}else if("Drop Duplicate"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(previewString="Drop Duplicate",0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}g={function:"Drop Duplicate",inputs:{element_name:"",data:{Data1:t},Sub_Op:$(".Select_operation1").val(),Other_Inputs:{Data:$(".Data_table2").val()},previewString:previewString}}}else if("Add Fix Column"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Added Column "+cDict.Input_Column2,g={function:"Add Fix Column",inputs:{Data:[t],input_name:cDict.Input_Column2,input_value:cDict.Add_Column2,element_name:"",previewString:previewString}}}else if("Delimit Column"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Delimit Column Values",g={function:"Delimit Column",inputs:{data:{Data1:t},columnName:cDict.Delimit_Column1,delimiter:cDict.Delimit_Column2,previewString:previewString}}}else if("Find and Replace"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Find and replace values";var w={find:cDict.Find_and_Replace4,replace:cDict.Find_and_Replace5,find_case:cDict.Find_and_Replace3,columnName:cDict.Find_and_Replace1,replacecolumnName:cDict.Find_and_Replace2};g={function:"Find and Replace",inputs:{data:{Data1:t},fdict:w,previewString:previewString}}}else if("Date"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Added new Date",g={function:"Date",inputs:{data:{Data1:t},year:cDict.Date1,month:cDict.Date2,day:cDict.Date3,colname:cDict.Date4,previewString:previewString}}}else if("Day"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Extracted day from date",g={function:"Day",inputs:{data:{Data1:t},date:cDict.Day1,colname:cDict.Day2,previewString:previewString}}}else if("Days"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="No of days between two dates",g={function:"Days",inputs:{data:{Data1:t},start_date:cDict.Days1,end_date:cDict.Days2,colname:cDict.Days3,previewString:previewString}}}else if("Edate"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")
}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Edate",g={function:"Edate",inputs:{data:{Data1:t},start_date:cDict.Edate1,months:cDict.Edate2,colname:cDict.Edate3,previewString:previewString}}}else if("Days360"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Days360",g={function:"Days360",inputs:{data:{Data1:t},start_date:cDict.Days3601,end_date:cDict.Days3602,method:cDict.Days3603,colname:cDict.Days3604,previewString:previewString}}}else if("Eomonth"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Eomonth",g={function:"Eomonth",inputs:{data:{Data1:t},start_date:cDict.Eomonth1,months:cDict.Eomonth2,colname:cDict.Eomonth3,previewString:previewString}}}else if("Hour"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Hour",g={function:"Hour",inputs:{data:{Data1:t},date:cDict.Hour1,colname:cDict.Hour2,previewString:previewString}}}else if("Isoweeknum"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Isoweeknum",g={function:"Isoweeknum",inputs:{data:{Data1:t},date:cDict.Isoweeknum1,colname:cDict.Isoweeknum2,previewString:previewString}}}else if("Minute"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Minute",g={function:"Minute",inputs:{data:{Data1:t},date:cDict.Minute1,colname:cDict.Minute2,previewString:previewString}}}else if("Month"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Month",g={function:"Month",inputs:{data:{Data1:t},date:cDict.Month1,colname:cDict.Month2,previewString:previewString}}}else if("Now"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Now",g={function:"Now",inputs:{data:{Data1:t},colname:cDict.Now1,previewString:previewString}}}else if("Second"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Second",g={function:"Second",inputs:{data:{Data1:t},date:cDict.Second1,colname:cDict.Second2,previewString:previewString}}}else if("Time"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Time",g={function:"Time",inputs:{data:{Data1:t},hour:cDict.Time1,minute:cDict.Time2,second:cDict.Time3,colname:cDict.Time4,previewString:previewString}}}else if("Today"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Today",g={function:"Today",inputs:{data:{Data1:t},colname:cDict.Today1,previewString:previewString}}}else if("Weekday"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Weekday",g={function:"Weekday",inputs:{data:{Data1:t},date:cDict.Weekday1,method:cDict.Weekday2,colname:cDict.Weekday3,previewString:previewString}}}else if("Weeknum"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Weeknum",g={function:"Weeknum",inputs:{data:{Data1:t},date:cDict.Weeknum1,method:cDict.Weeknum2,colname:cDict.Weeknum3,previewString:previewString}}}else if("Year"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Year",g={function:"Year",inputs:{data:{Data1:t},date:cDict.Year1,colname:cDict.Year2,previewString:previewString}}}else if("Yearfrac"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}previewString="Yearfrac",g={function:"Yearfrac",inputs:{data:{Data1:t},start_date:cDict.Yearfrac1,end_date:cDict.Yearfrac2,basis:cDict.Yearfrac3,colname:cDict.Yearfrac4,previewString:previewString}}}else if("Networkdays"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}pos_data=cDict.temp_nd[cDict.Networkdays1],hol_data="";for(let e=0;e<cDict.table_data.length;e++)cDict.table_data[e]!=pos_data&&(hol_data=cDict.table_data[e]);"-"!=cDict.Networkdays3&&""!=cDict.Networkdays3||(hol_data=""),previewString="Networkdays",g={function:"Networkdays",inputs:{data:{Data1:t},pos_data:pos_data,hol_data:hol_data,start_date:cDict.Networkdays1,end_date:cDict.Networkdays2,holiday:cDict.Networkdays3,colname:cDict.Networkdays4,previewString:previewString}}}else if("Networkdays.Intl"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}pos_data=cDict.temp_nd[cDict.NetworkdaysIntl1],hol_data="";for(let e=0;e<cDict.table_data.length;e++)cDict.table_data[e]!=pos_data&&(hol_data=cDict.table_data[e]);"-"!=cDict.NetworkdaysIntl3&&""!=cDict.NetworkdaysIntl3||(hol_data=""),previewString="Networkdays.Intl",g={function:"Networkdays.Intl",inputs:{data:{Data1:t},pos_data:pos_data,hol_data:hol_data,start_date:cDict.NetworkdaysIntl1,end_date:cDict.NetworkdaysIntl2,holiday:cDict.NetworkdaysIntl3,weekend:cDict.NetworkdaysIntl4,colname:cDict.NetworkdaysIntl5,previewString:previewString}}}else if("Workdays"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}pos_data=cDict.temp_nd[cDict.Workdays1],hol_data="";for(let e=0;e<cDict.table_data.length;e++)cDict.table_data[e]!=pos_data&&(hol_data=cDict.table_data[e]);"-"!=cDict.Workdays2&&""!=cDict.Workdays2||(hol_data=""),previewString="Workdays",g={function:"Workdays",inputs:{data:{Data1:t},pos_data:pos_data,hol_data:hol_data,start_date:cDict.Workdays1,days:cDict.Workdays3,holiday:cDict.Workdays2,colname:cDict.Workdays4,previewString:previewString}}}else if("Workdays.Intl"===String(cDict.Operation)){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===e&&(e=$("#FileName").attr("data-experimentName"));let t="";if(0===parseInt(a)){let e=$("#dataElementParent").find("div").find("div");try{t=e[parseInt(a)].getAttribute("data-element_id")}catch(e){let n=$(".ebFunctions").find("div").find("a");t=n[parseInt(a-1)].getAttribute("data-element_id")}}else{let e=$(".ebFunctions").find("div").find("a");t=e[parseInt(a-1)].getAttribute("data-element_id")}pos_data=cDict.temp_nd[cDict.WorkdaysIntl1],hol_data="";for(let e=0;e<cDict.table_data.length;e++)cDict.table_data[e]!=pos_data&&(hol_data=cDict.table_data[e]);"-"!=cDict.WorkdaysIntl2&&""!=cDict.WorkdaysIntl2||(hol_data=""),previewString="Workdays.Intl",g={function:"Workdays.Intl",inputs:{data:{Data1:t},pos_data:pos_data,hol_data:hol_data,start_date:cDict.WorkdaysIntl1,days:cDict.WorkdaysIntl4,holiday:cDict.WorkdaysIntl2,weekend:cDict.WorkdaysIntl3,colname:cDict.WorkdaysIntl5,previewString:previewString}}}if("Left Join"!==String(cDict.Operation)&&"Right Join"!==String(cDict.Operation)&&"Inner Join"!==String(cDict.Operation)&&"Outer Join"!==String(cDict.Operation)&&"Append and Concatenate"!==String(cDict.Operation)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name");let i="comp",r="";void 0===t&&(t=$("#FileName").attr("data-experimentName"),void 0===t&&(i="datamgm",$("#tname").val()&&"add"!==String(idenFlag)?t=$("#tname").val():"add"===String(idenFlag)||"edit"===String(idenFlag)?t=$(".dataElements").find("p").text():1==listViewComp&&(t=listViewModelName)));let o=$("#EBDisplayButtonID").attr("data-p_table_name");void 0===o&&(o=""),r="datamgm"===String(i)&&0==listViewComp?t+selectedCol+Math.floor(1e10*Math.random()+1):"datamgm"===String(i)&&1==listViewComp?t+listViewCompCol+Math.floor(1e10*Math.random()+1):cDict.element_id,"Rename and Drop"!==String(cDict.Operation)&&"Filter"!==String(cDict.Operation)&&"Add Time Periods"!==String(cDict.Operation)&&"Add Column"!==String(cDict.Operation)&&"Sort"!==String(cDict.Operation)&&"Groupby"!==String(cDict.Operation)&&"Pivot"!==String(cDict.Operation)&&"Unpivot"!==String(cDict.Operation)&&"Data Utilities"!==String(cDict.Operation)&&"Concat Columns"!==String(cDict.Operation)&&"Fill Missing Values"!==String(cDict.Operation)&&"Sum Product"!==String(cDict.Operation)&&"Weighted Average"!==String(cDict.Operation)&&"Drop Duplicate"!==String(cDict.Operation)&&"Add Fix Column"!==String(cDict.Operation)&&"Delimit Column"!==String(cDict.Operation)&&"Find and Replace"!==String(cDict.Operation)&&"Date"!==String(cDict.Operation)&&"Day"!==String(cDict.Operation)&&"Days"!==String(cDict.Operation)&&"Edate"!==String(cDict.Operation)&&"Days360"!==String(cDict.Operation)&&"Eomonth"!==String(cDict.Operation)&&"Hour"!==String(cDict.Operation)&&"Isoweeknum"!==String(cDict.Operation)&&"Minute"!==String(cDict.Operation)&&"Month"!==String(cDict.Operation)&&"Now"!==String(cDict.Operation)&&"Second"!==String(cDict.Operation)&&"Time"!==String(cDict.Operation)&&"Today"!==String(cDict.Operation)&&"Weekday"!==String(cDict.Operation)&&"Weeknum"!==String(cDict.Operation)&&"Year"!==String(cDict.Operation)&&"Yearfrac"!==String(cDict.Operation)&&"Networkdays"!==String(cDict.Operation)&&"Networkdays.Intl"!==String(cDict.Operation)&&"Workdays"!==String(cDict.Operation)&&"Workdays.Intl"!==String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r,data4:i}),operation:"save_MathOps_data"},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_step_MathOps",element_id:n,model_name:t},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Rename and Drop"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configDict:JSON.stringify(g),model_name:t,element_id:cDict.element_id,element_name:r,operation:"save_config_data",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_step_renameColumn",element_id:n,model_name:t},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Filter"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{config:JSON.stringify({model:t,elementID:n,config_dict:u}),operation:"save_group_run"},type:"POST",dataType:"json",success:function(l){$.ajax({url:`/users/${urlPath}/computationModule/`,data:{model_name:t,element_id:n,element_name:r,configDict:JSON.stringify(g),operation:"save_config_data",data_id:i},type:"POST",dataType:"json",success:function(r){Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)&&$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_step_merge_and_join",element_id:n,model_name:t,model_name_2:o},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Add Time Periods"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configDict:JSON.stringify(g),model_name:t,element_id:cDict.element_id,element_name:r,operation:"save_config_data",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_step_timeperiods",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Sort"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{model_name:t,element_id:n,element_name:r,configDict:JSON.stringify(g),operation:"save_config_data",data_id:i},type:"POST",dataType:"json",success:function(r){Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)&&$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_step_merge_and_join",element_id:n,model_name:t,async:!0},type:"POST",dataType:"json",success:function(t){var i=t.job_id;const r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Add Column"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{config:JSON.stringify({model:t,elementID:n,config_dict:u}),operation:"save_group_run"},type:"POST",dataType:"json",success:function(o){$.ajax({url:`/users/${urlPath}/computationModule/`,data:{model_name:t,element_id:n,element_name:r,configDict:JSON.stringify(g),operation:"save_config_data",data_id:i},type:"POST",dataType:"json",success:function(r){Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)&&$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_step_merge_and_join",element_id:n,model_name:t,async:!0},type:"POST",dataType:"json",success:function(t){var i=t.job_id;const r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Pivot"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{config:JSON.stringify({model:t,elementID:n,config_dict:g,elementName:r}),operation:"save_pivot_and_transpose"},type:"POST",dataType:"json",success:function(r){Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)&&$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_step_pivot_and_transpose",element_id:n,model_name:t},type:"POST",dataType:"json",success:function(t){var i=t.job_id;const r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}}):"Groupby"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{config:JSON.stringify({model:t,elementID:n,config_dict:u}),operation:"save_group_run"},type:"POST",dataType:"json",success:function(o){$.ajax({url:`/users/${urlPath}/computationModule/`,data:{model_name:t,element_id:n,element_name:r,configDict:JSON.stringify(g),operation:"save_config_data",data_id:i},type:"POST",dataType:"json",success:function(r){Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)&&$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_step_merge_and_join",element_id:n,model_name:t,async:!0},type:"POST",dataType:"json",success:function(t){var i=t.job_id;const r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)
},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Unpivot"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{config:JSON.stringify({model:t,elementID:n,config_dict:g,elementName:r}),operation:"save_pivot_and_transpose"},type:"POST",dataType:"json",success:function(r){Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)&&$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_step_pivot_and_transpose",element_id:n,model_name:t},type:"POST",dataType:"json",success:function(t){var i=t.job_id;const r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Concat Columns"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configDict:JSON.stringify(g),model_name:t,element_id:cDict.element_id,element_name:r,operation:"save_config_data"},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_step_concatColumns",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Concat Columns"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configDict:JSON.stringify(g),model_name:t,element_id:cDict.element_id,element_name:r,operation:"save_config_data"},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_step_concatColumns",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Data Utilities"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configDict:JSON.stringify(g),model_name:t,element_id:cDict.element_id,element_name:r,operation:"save_config_data",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepResetInd",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Fill Missing Values"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configDict:JSON.stringify(g),model_name:t,element_id:cDict.element_id,element_name:r,operation:"save_config_data",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_step_MissingValues",element_id:cDict.element_id,model_name:t},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Sum Product"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configDict:JSON.stringify(g),model_name:t,element_id:cDict.element_id,element_name:r,operation:"save_config_data",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_step_elementary_stats",element_id:cDict.element_id,model_name:t},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Weighted Average"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configDict:JSON.stringify(g),model_name:t,element_id:cDict.element_id,element_name:r,operation:"save_config_data",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_step_elementary_stats",element_id:cDict.element_id,model_name:t},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Drop Duplicate"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configDict:JSON.stringify(g),model_name:t,element_id:cDict.element_id,element_name:r,operation:"save_config_data",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_step_DropDuplicate",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Add Fix Column"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configDict:JSON.stringify(g),model_name:t,element_id:cDict.element_id,element_name:r,operation:"save_config_data",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepAdd_Fix_Column",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Delimit Column"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Find and Replace"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_step_find_replace",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Date"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Day"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Days"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Edate"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Days360"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Eomonth"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{
configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Hour"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Isoweeknum"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Minute"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Month"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Now"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Second"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Time"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Today"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Weekday"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Weeknum"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Year"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Yearfrac"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepDelimitColumn",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}):"Networkdays"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(window.alert("Configuration saved successfully"),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepnetworkdays",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){window.alert("Error")}})}},error:function(){window.alert("Error")}}):"Networkdays.Intl"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(window.alert("Configuration saved successfully"),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepnetworkdays",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){window.alert("Error")}})}},error:function(){window.alert("Error")}}):"Workdays"===String(cDict.Operation)?$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(window.alert("Configuration saved successfully"),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepnetworkdays",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){window.alert("Error")}})}},error:function(){window.alert("Error")}}):"Workdays.Intl"===String(cDict.Operation)&&$.ajax({url:`/users/${urlPath}/computationModule/`,data:{configList:JSON.stringify({data1:t,data2:cDict.element_id,data3:g,elementName:r}),operation:"save_buttonCompareColumn",data_id:i},type:"POST",dataType:"json",success:function(t){if(window.alert("Configuration saved successfully"),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),
$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===t&&(t=$("#FileName").attr("data-experimentName")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_stepnetworkdays",element_id:n,model_name:t,data_id:i},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){window.alert("Error")}})}},error:function(){window.alert("Error")}})}else{let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name");let i="comp",r="";void 0===t&&(t=$("#FileName").attr("data-experimentName"),void 0===t&&(i="datamgm",$("#tname").val()&&"add"!==String(idenFlag)?t=$("#tname").val():"add"===String(idenFlag)||"edit"===String(idenFlag)?t=$(".dataElements").find("p").text():1==listViewComp&&(t=listViewModelName))),r="datamgm"===String(i)&&0==listViewComp?t+selectedCol+Math.floor(1e10*Math.random()+1):"datamgm"===String(i)&&1==listViewComp?t+listViewCompCol+Math.floor(1e10*Math.random()+1):n,$.ajax({url:`/users/${urlPath}/computationModule/`,data:{model_name:t,element_id:n,element_name:r,configDict:JSON.stringify(g),operation:"save_config_data",data_id:i},type:"POST",dataType:"json",success:function(r){Swal.fire({icon:"success",text:"Configuration saved successfully!"}),"datamgm"===String(i)&&(previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)),"comp"===String(i)&&$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"run_step_merge_and_join",element_id:n,model_name:t},type:"POST",dataType:"json",success:function(t){const i=t.job_id,r="",o="";fetchJobOutput1(i,r,o),previewString.length>30?(myTruncatedString=previewString.substring(0,30)+"...",$("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",`popupOpen();takeFuncInput('${e}','${n}','${a}',this)`)):($("#functionPreviews").find(".function").eq(a).find("p").text(previewString),$("#functionPreviews").find(".function").eq(a).attr("onclick",""),myTruncatedString=previewString),$("#functionPreviews").find(".function").eq(a).find("h2").text(myTruncatedString)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}$("#EBDisplayButtonID").attr("data-tablepc",c)},validate=e=>{validFlag=!0,"Column sum"===String(e.Operation)||"Column subtraction"===String(e.Operation)||"Column multiplication"===String(e.Operation)||"Column division"===String(e.Operation)?"1"===String(e.Column_sum1.length)&&""===String(e.Column_sum2)||"0"===String(e.Column_sum1.length)&&""!==String(e.Column_sum2)?(Swal.fire({icon:"warning",text:"Kindly fill in all the values."}),validFlag=!1):e.Column_sum1.length>1&&""!==String(e.Column_sum2)?Swal.fire({icon:"warning",text:"Kindly remove the input value as two columns are selected."}):""===String(e.Target_Column1)?Swal.fire({icon:"warning",text:"Kindly fill in the target column name."}):Swal.fire({icon:"success",text:"Successfully validated!"}):"Cell sum"===String(e.Operation)||"Cell subtraction"===String(e.Operation)||"Cell multiplication"===String(e.Operation)||"Cell division"===String(e.Operation)?""===String(e.Cell_sum3)?"0"!==String(e.Cell_11.length)&&"0"!==String(e.Cell_12.length)&&"0"!==String(e.Cell_21.length)&&"0"!==String(e.Cell_22.length)&&0!==String(e.Target_Cell_11.length)&&"0"!==String(e.Target_Cell_22.length)||(Swal.fire({icon:"warning",text:"Kindly fill in all the values"}),validFlag=!1):""!==String(e.Cell_sum3)&&("0"===String(e.Cell_11.length)||"0"===String(e.Cell_12.length)||"0"===String(e.Target_Cell_11.length)||"0"===String(e.Target_Cell_22.length))?(Swal.fire({icon:"warning",text:"Kindly fill in all the values"}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Row sum"===String(e.Operation)||"Row subtraction"===String(e.Operation)||"Row multiplication"===String(e.Operation)||"Row division"===String(e.Operation)?"1"===String(e.Row_sum1.length)&&""===String(e.Row_sum2)||"0"===String(e.Row_sum1.length)&&""!==String(e.Row_sum2)?(Swal.fire({icon:"warning",text:"Kindly fill in all the values"}),validFlag=!1):""===String(e.Target_Column1)?Swal.fire({icon:"warning",text:"Kindly fill in the target column name"}):Swal.fire({icon:"success",text:"Successfully validated!"}):"Square root"===String(e.Operation)?""!==String(e.Root_Operation1)&&""===String(e.Root_Operation2)||""===String(e.Root_Operation1)&&""!==String(e.Root_Operation2)?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Root Operation."}),validFlag=!1):""===String(e.Target_Column1)?Swal.fire({icon:"warning",text:"Kindly fill in the target column name"}):Swal.fire({icon:"success",text:"Successfully validated!"}):"Log"===String(e.Operation)?""!==String(e.Exponential1)?""===String(e.Exponential1)?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Exponential Operation."}),validFlag=!1):""===String(e.Target_Column1)?Swal.fire({icon:"warning",text:"Kindly fill in the target column name"}):Swal.fire({icon:"success",text:"Successfully validated!"}):""!==String(e.Natural_Log1)?""===String(e.Natural_Log1)?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Natural Log Operation."}),validFlag=!1):""===String(e.Target_Column1)?Swal.fire({icon:"warning",text:"Kindly fill in the target column name."}):Swal.fire({icon:"success",text:"Successfully validated!"}):""!==String(e.Base_Log1)&&""!==String(e.Log_Base_value2)&&(""===String(e.Base_Log1)&&""!==String(e.Log_Base_value2)||""!==String(e.Base_Log1)&&""===String(e.Log_Base_value2)?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Base Log Operation."}),validFlag=!1):""===String(e.Target_Column1)?Swal.fire({icon:"warning",text:"Kindly fill in the target column name."}):Swal.fire({icon:"success",text:"Successfully validated!"})):"Round"===String(e.Operation)?""!==String(e.Ceiling1)||""!==String(e.Ceiling_Significance_Multiple2)?""===String(e.Ceiling1)&&""!==String(e.Ceiling_Significance_Multiple2)||""!==String(e.Ceiling1)&&""===String(e.Ceiling_Significance_Multiple2)?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Ceiling Operation."}),validFlag=!1):""===String(e.Target_Column1)?Swal.fire({icon:"warning",text:"Kindly fill in the target column name."}):Swal.fire({icon:"success",text:"Successfully validated!"}):""!==String(e.Floor1)||""!==String(e.Floor_Significance_Multiple2)?""===String(e.Floor1)&&""!==String(e.Floor_Significance_Multiple2)||""!==String(e.Floor1)&&""===String(e.Floor_Significance_Multiple2)?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Floor Operation."}),validFlag=!1):""===String(e.Target_Column1)?Swal.fire({icon:"warning",text:"Kindly fill in the target column name."}):Swal.fire({icon:"success",text:"Successfully validated!"}):""!==String(e.Odd1)?""===String(e.Odd1)?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Odd Operation."}),validFlag=!1):""===String(e.Target_Column1)?Swal.fire({icon:"warning",text:"Kindly fill in the target column name."}):Swal.fire({icon:"success",text:"Successfully validated!"}):""!==String(e.Even1)?""===String(e.Even1)?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Even Operation."}),validFlag=!1):""===String(e.Target_Column1)?Swal.fire({icon:"warning",text:"Kindly fill in the target column name."}):Swal.fire({icon:"success",text:"Successfully validated!"}):""!==String(e.Round1)||""!==String(e.No_of_Decimals2)?""===String(e.Round1)&&""!==String(e.No_of_Decimals2)||""!==String(e.Round1)&&""===String(e.No_of_Decimals2)?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Round Operation."}),validFlag=!1):""===String(e.Target_Column1)?Swal.fire({icon:"warning",text:"Kindly fill in the target column name."}):Swal.fire({icon:"success",text:"Successfully validated!"}):""!==String(e.Round_Up1)?""===String(e.Round_Up1)?(wal.fire({icon:"warning",text:"Kindly fill in values for the Round Up Operation."}),validFlag=!1):""===String(e.Target_Column1)?Swal.fire({icon:"warning",text:"Kindly fill in the target column name."}):Swal.fire({icon:"success",text:"Successfully validated!"}):""!==String(e.Round_Down1)?""===String(e.Round_Down1)?(wal.fire({icon:"warning",text:"Kindly fill in values for the Round down Operation."}),validFlag=!1):""===String(e.Target_Column1)?Swal.fire({icon:"warning",text:"Kindly fill in the target column name."}):Swal.fire({icon:"success",text:"Successfully validated!"}):""!==String(e.Truncate1)&&(""===String(e.Truncate1)?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Truncate Operation."}),validFlag=!1):""===String(e.Target_Column1)?Swal.fire({icon:"warning",text:"Kindly fill in the target column name."}):Swal.fire({icon:"success",text:"Successfully validated!"})):"Left Join"===String(e.Operation)?"0"===String(e.Left_join_Data13.length)||"0"===String(e.Left_join_Data24.length)||""===String(e.Left_join_on_Data11)||""===String(e.Left_join_on_Data22)?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Left Join Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Right Join"===String(e.Operation)?"0"===String(e.Right_join_Data13.length)||"0"===String(e.Right_join_Data24.length)||""===String(e.Right_join_on_Data22)||""===String(e.Right_join_on_Data11)?(Swal.fire({icon:"warning",text:"Kindly fill values for Right Join Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Inner Join"===String(e.Operation)?"0"===String(e.Inner_join_Data13.length)||"0"===String(e.Inner_join_Data24.length)||""===String(e.Inner_join_on_Data11)||""===String(e.Inner_join_on_Data22)?(Swal.fire({icon:"warning",text:"Kindly fill values for Inner Join Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Outer Join"===String(e.Operation)?"0"===String(e.Outer_join_Data13.length)||"0"===String(e.Outer_join_Data24.length)||""===String(e.Outer_join_on_Data11)||""===String(e.Outer_join_on_Data22)?(Swal.fire({icon:"warning",text:"Kindly fill values for Outer Join Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Append and Concatenate"===String(e.Operation)?"0"===String(e.Target_Column1.length)?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Append and Concatenate Operation. "}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Add Time Periods"===String(e.Operation)?"0"!==String(e.Days2.length)&&"0"!==String(e.Months3.length)?Swal.fire({icon:"warning",text:"Kindly fill in values for the one option only."}):"0"!==String(e.Days2.length)&&"0"!==String(e.Years4.length)?Swal.fire({icon:"warning",text:"Kindly fill in values for the one option only."}):"0"!==String(e.Months3.length)&&"0"!==String(e.Years4.length)?Swal.fire({icon:"warning",text:"Kindly fill in values for the one option only."}):Swal.fire({icon:"success",text:"Successfully validated!"}):"Groupby"===String(e.Operation)?"0"===String(e.Target_Column1.length)?(Swal.fire({icon:"warning",text:"Kindly fill in column value for the Group by."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Pivot"===String(e.Operation)?"0"===String(e.Target_Column1.length)||"0"===String(e.Target_Column2.length)||"0"===String(e.Target_Column3.length)?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Pivot Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Unpivot"===String(e.Operation)?"0"===String(e.Target_Column1.length)||"0"===String(e.Target_Column2.length)||"0"===String(e.Target_Column3.length)||"0"===String(e.Target_Column4.length)?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Unpivot Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Concat Columns"===String(e.Operation)?"0"===String(e.Target_Column1.length)||"0"===String(e.Target_Column2.length)||"0"===String(e.Target_Column3.length)?(Swal.fire({icon:"warning",text:"Kindly fill values for Concat Column Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Rename and Drop"===String(e.Operation)?"0"===String(e.Drop_Columns1.length)&&0==$("#renameColumnContainer1").find("div.renameColumnGroup1").length?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Rename and the Drop Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Filter"===String(e.Operation)?0==$("#filter-table_where_merge1").find("tr").length?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Filter Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Data Utilities"===String(e.Operation)?Swal.fire({icon:"success",text:"Successfully validated!"}):"Add Column"===String(e.Operation)?""==e.Target_Column1&&""==e.Target_Column2&&""==e.Target_Column3&&0==$("#filter-table_addCol_body").find("tr").length?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Add Column Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Sort"===String(e.Operation)?0==$("#selectedSortColList").find("div").length?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Sort Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Fill Missing Values"===String(e.Operation)?"-"==e.Select_Operation1&&"-"==e.Data_Table2&&""==e.Custom_value3?(Swal.fire({icon:"warning",text:"Kindly fill values for Missing Values Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Sum Product"===String(e.Operation)?0==e.Column_Group1.length&&0==e.Column_Value2.length?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Product Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Weighted Average"===String(e.Operation)?0==e.Column_Group1.length&&""==e.Average_Value2&&""==e.Average_Weight3?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Weighted Average Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Drop Duplicate"===String(e.Operation)?""==e.Select_operation1&&0==e.Data_table2.length?(Swal.fire({icon:"warning",text:"Kindly fill values for Drop Duplicate Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Add Fix Column"===String(e.Operation)?""==e.Input_Column2&&""==e.Add_Column2?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Add Fix Column Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Networkdays.Intl"===String(e.Operation)?""==e.NetworkdaysIntl1&&""==e.NetworkdaysIntl2?(window.alert("Kindly fill values for Networkdays.Intl Operation !! "),validFlag=!1):window.alert("Successfully validated !! "):"Date"===String(e.Operation)?""==e.Date1&&""==e.Date2&&""==e.Date3?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Date Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Day"===String(e.Operation)?""==e.Day1&&""==e.Day2?(Swal.fire({icon:"warning",text:"Kindly fill values for Day Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Days"===String(e.Operation)?""==e.Days1&&""==e.Days2&&""==e.Days3?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Days Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Edate"===String(e.Operation)?""==e.Edate1&&""==e.Edate2&&""==e.Edate3?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Edate Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Workdays.Intl"===String(e.Operation)?""==e.WorkdaysIntl1&&""==e.WorkdaysIntl4?(window.alert("Kindly fill values for Workdays.Intl Operation !! "),validFlag=!1):window.alert("Successfully validated !! "):"Days360"===String(e.Operation)?""==e.Days3601&&""==e.Days3602&&""==e.Days3603?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Days360 Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Eomonth"===String(e.Operation)?""==e.Eomonth1&&""==e.Eomonth2?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Eomonth Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Hour"===String(e.Operation)?""==e.Hour1&&""==e.Hour2?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Hour Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Isoweeknum"===String(e.Operation)?""==e.Isoweeknum1&&""==e.Isoweeknum2?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Isoweeknum Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Minute"===String(e.Operation)?""==e.Minute1&&""==e.Minute2?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Minute Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Month"===String(e.Operation)?""==e.Month1&&""==e.Month2?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Month Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Now"===String(e.Operation)?""==e.Now1?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Now Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Second"===String(e.Operation)?""==e.Second1&&""==e.Second2?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Second Operation"}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Time"===String(e.Operation)?""==e.Time1&&""==e.Time2&&""==e.Time3?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Time Operation"}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Today"===String(e.Operation)?""==e.Today1?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Today Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Weekday"===String(e.Operation)?""==e.Weekday1&&""==e.Weekday2&&""==e.Weekday3?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Weekday Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Weeknum"===String(e.Operation)?""==e.Weeknum1&&""==e.Weeknum2&&""==e.Weeknum3?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Weeknum Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Yearfrac"===String(e.Operation)?""==e.Yearfrac1&&""==e.Yearfrac2&&""==e.Yearfrac3?(Swal.fire({icon:"warning",text:"Kindly fill in values for the Yearfrac Operation."}),validFlag=!1):Swal.fire({icon:"success",text:"Successfully validated!"}):"Networkdays"===String(e.Operation)?""==e.Networkdays1&&""==e.Networkdays2?(window.alert("Kindly fill values for Networkdays Operation !! "),validFlag=!1):window.alert("Successfully validated !! "):"Workdays"===String(e.Operation)&&(""==e.Workdays1&&""==e.Workdays3?(window.alert("Kindly fill values for Workdays Operation !! "),validFlag=!1):window.alert("Successfully validated !! "))},takeFuncInput=(e,t,n,a)=>{iid=t;const r=e;cIndex=n;const o=document.querySelector("#funcHeading");o.innerText=e;const l=document.querySelector("#funcInput");l.innerHTML=null;let c,d=$(".ebFunctions").find("div").eq(parseInt(n)).find("a").attr("data-element_comp");null!=$("#configureFlow")[0]&&""==listViewCompCol&&(d=""),1==listViewComp&&(selectedCol=listViewCompCol);let s,u,p,g,m="",f="";$.ajax({url:`/users/${urlPath}/computationModule/`,data:{Operation_name:e,operation:"fetchFormData"},type:"POST",dataType:"json",success:function(a){cDict.Operation=e;for(let e=0;e<a.element_config.length;e++)"Column range"===String(a.element_config[e].input_type)?($("#popup").css("width","30%"),$("#popup").css("left","35%"),$(".col_data").empty(),$("#funcInput").append(`\n                        <div class="form-group">\n                            <label for="">${a.element_config[e].input_label} for ${a.element_config[e].input_name}</label>\n                            <select class='${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency} select2 form-control col_data' multiple>\n                            </select>\n                        </div>\n                    `),$(".col_data").select2(),cDict[`${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`]=$(`.${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`).val(),$(`.${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`).change(function(){cDict[`${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`]=$(`.${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`).val()})):"Row range"===String(a.element_config[e].input_type)?($("#popup").css("width","30%"),$("#popup").css("left","35%"),$(".row_data").empty(),$("#funcInput").append(`\n                        <div class="form-group">\n                            <label for="">${a.element_config[e].input_label} for ${a.element_config[e].input_name}</label>\n                            <select class='${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency} select2 form-control row_data' multiple>\n                            </select>\n                        </div>\n                    `),$(".row_data").select2(),cDict[`${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`]=$(`.${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`).val(),$(`.${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`).change(function(){cDict[`${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`]=$(`.${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`).val()})):"User numeric input"===String(a.element_config[e].input_type)?($("#popup").css("width","30%"),$("#popup").css("left","35%"),$(".num_data").val(""),$("#funcInput").append(`\n                        <div class="form-group">\n                            <label for="">${a.element_config[e].input_label} for ${a.element_config[e].input_name}</label>\n                            <input class="${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency} num_data" type="number" min="0">\n                        </div>\n                    `),cDict[`${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`]=$(`.${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`).val(),$(`.${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`).change(function(){cDict[`${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`]=$(`.${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`).val()})):"Column value"===String(a.element_config[e].input_type)?($("#popup").css("width","30%"),$("#popup").css("left","35%"),$(".col_data_single").empty(),$("#funcInput").append(`\n                        <div class="form-group">\n                            <label for="">${a.element_config[e].input_label} for ${a.element_config[e].input_name}</label>\n                            <select class='${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency} select2 form-control col_data_single'>\n                            </select>\n                        </div>\n                    `),$(".col_data_single").select2(),cDict[`${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`]="",$(`.${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`).change(function(){cDict[`${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`]=$(`.${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`).val()})):"Text input"===String(a.element_config[e].input_type)?($("#popup").css("width","30%"),$("#popup").css("left","35%"),$(".text_data").val(""),"datamgm"!==String(d)||selectedCol.startsWith("document")?$("#funcInput").append(`\n                            <div class="form-group">\n                                <label for="">${a.element_config[e].input_label} for ${a.element_config[e].input_name}</label>\n                                <input class="${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency} text_data" type="text">\n                            </div>\n                        `):$("#funcInput").append(`\n                        <div class="form-group">\n                            <label for="">${a.element_config[e].input_label} for ${a.element_config[e].input_name}</label>\n                            <input class="${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency} text_data" type="text" disabled>\n                        </div>\n                    `),cDict[`${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`]="",$(`.${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`).change(function(){cDict[`${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`]=$(`.${a.element_config[e].dependency_condition.trim().replaceAll(" ","_")+a.element_config[e].dependency}`).val()})):"Rename Card"===String(a.element_config[e].input_type)?($("#popup").css("width","30%"),$("#popup").css("left","35%"),$("#renameColumnDropdown1").empty(),$("#funcInput").append('\n                        <div class="btn-group dropdown">\n                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">\n                            Select Column to Rename\n                            <span class="caret"></span>\n                            </button>\n                            <ul class="dropdown-menu dropdown-menu-sm dropdown-menu-left" id="renameColumnDropdown1" style="height:fit-content; max-height:10rem; min-width:fit-content; max-width:fit-content;">\n                            </ul>\n                        </div>\n                        <br>\n                        <br>\n                        <div class="card">\n                            <div id="renameColumnContainer1" style="max-height:15rem;overflow:scroll;overflow-x:hidden;">\n\n                            </div>\n                        </div>\n                        <br>\n                    ')):"Filter Card"===String(a.element_config[e].input_type)?($("#popup").css("width","50%"),$("#popup").css("left","25%"),$("#condition_dropdownWhereDT_merge1").empty(),$("#funcInput").append('\n                <br>\n                <div class="btn-group dropdown">\n                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">\n                      Add Filter\n                      <span class="caret"></span>\n                    </button>\n                    <ul class="dropdown-menu dropdown-menu-sm dropdown-menu-left" id="condition_dropdownWhereDT_merge1" style="height:fit-content; max-height:10rem; min-width:fit-content; max-width:fit-content;">\n                    </ul>\n                </div>\n                <br>\n                <br>\n                <div class="row" id="itemsWhereDT_merge1">\n                    <table class="table" id="filter-table_where_merge1">\n                    </table>\n                </div>\n                <br>\n                <br>\n            ')):"Group Card"===String(a.element_config[e].input_type)?($("#popup").css("width","50%"),$("#popup").css("left","25%"),$("#groupAggList").empty(),$("#selectedGroupAggList").empty(),$("#funcInput").append('\n                  <div>\n                      <h7 style="font-weight:bold">Grouping Aggregation Selection:</h7> <br> <br>\n                  </div>\n                  <div class="row">\n                      <div class="col-6" id=\'groupAggFields\'>\n                          <h7 style="font-weight:bold">All fields</h7> <br> <br>\n                          <div class="list-group" id="groupAggList" style="max-height:200px;overflow-y:auto">\n                          </div>\n                      </div>\n                      <!-- Sub sub-elements config -->\n                      <div class="col-6 subElementCards">\n                          <h7 style="font-weight:bold">Selected fields</h7> <br> <br>\n                          <div class="list-group" id="selectedGroupAggList" style="max-height:200px;overflow-y:auto">\n                          </div>\n                    </div>\n                </div>\n          ')):"Column Card"===String(a.element_config[e].input_type)?($("#popup").css("width","70%"),$("#popup").css("left","15%"),$("#popup").css("heigth","15%"),$("#AddColumnDropdown").empty(),$("#funcInput").append('\n            <br>\n            <div class="btn-group dropdown">\n                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">\n                  Add Condition\n                  <span class="caret"></span>\n                </button>\n                <ul class="dropdown-menu dropdown-menu-sm dropdown-menu-left" id="AddColumnDropdown" style="height:fit-content; max-height:10rem; min-width:fit-content; max-width:fit-content;">\n                </ul>\n            </div>\n            <br>\n            <br>\n            <div class="row" id="AddCoulmnContainer">\n              <table class="table" id="filter-table_AddColumns">\n              </table>\n            </div>\n            <br>\n            <br>\n            ')):"Sort Card"===String(a.element_config[e].input_type)&&($("#popup").css("width","50%"),$("#popup").css("left","25%"),$("#sortColList").empty(),$("#selectedSortColList").empty(),
$("#funcInput").append('\n                <br>\n                <div class="row">\n                    <div class="col-6">\n                        <h7 style="font-weight:bold">All fields</h7> <br> <br>\n                        <div class="list-group" id="sortColList" style="max-height:200px;overflow-y:auto">\n                        </div>\n                    </div>\n                    <div class="col-6 subElementCards">\n                        <h7 style="font-weight:bold">Selected fields</h7> <br> <br>\n                        <div class="list-group" id="selectedSortColList" style="max-height:200px;overflow-y:auto">\n\n                        </div>\n                    </div>\n                </div>\n          '));cDict.element_id=t,"Find and Replace"==e&&($(".Find_and_Replace3").empty(),findreplacechangeeb(),$(".Find_and_Replace1").on("change",findreplacechangeeb),$(".Find_and_Replace2").on("change",replacechangeeb),$(".Find_and_Replace3").on("change",selectcasechangeeb)),"datamgm"===String(d)?"attr"!==String(idenFlag)?$("#funcInput").append(`\n                                <button type="button" class="btn btn-primary btn-xs mx-2 rounded px-2" id="val_equation" onClick="validate(cDict)">Validate</button>\n                                <br>\n                                <button type="button" class="btn btn-primary btn-xs mx-2 rounded px-2" id="save_equation" onClick="saveData('${r}',validFlag,iid,cIndex)">Save</button>\n                            `):$("#funcInput").append(`\n                                <button type="button" class="btn btn-primary btn-xs mx-2 rounded px-2" disabled id="val_equation" onClick="validate(cDict)">Validate</button>\n                                <br>\n                                <button type="button" class="btn btn-primary btn-xs mx-2 rounded px-2" disabled id="save_equation" onClick="saveData('${r}',validFlag,iid,cIndex)">Save</button>\n                            `):$("#funcInput").append(`\n                            <button type="button" class="btn btn-primary btn-xs mx-2 rounded px-2" id="val_equation" onClick="validate(cDict)">Validate</button>\n                            <br>\n                            <button type="button" class="btn btn-primary btn-xs mx-2 rounded px-2" id="save_equation" onClick="saveData('${r}',validFlag,iid,cIndex)">Save and Run</button>\n                        `),1==listViewComp&&(selectedCol=listViewCompCol);if("Inner Join"!==String(e)&&"Left Join"!==String(e)&&"Right Join"!==String(e)&&"Outer Join"!==String(e)&&"Append and Concatenate"!==String(e)&&"Networkdays"!==String(e)&&"Networkdays.Intl"!==String(e)&&"Workdays"!==String(e)&&"Workdays.Intl"!==String(e))if("datamgm"===String(d)){const e=$(".ebDataElementsDiv").eq(parseInt(0)).find(".ColumnItem").find("p");let t=[];for(let n=0;n<e.length;n++)t.push(e[n].innerText);t=[...new Set(t)],$(".col_data").empty(),$(".col_data_single").empty(),$("#renameColumnDropdown1").empty(),$(".col_data").append("<option value='-'> -------------- </option>"),$(".col_data_single").append("<option value='-' selected> -------------- </option>");for(let e=0;e<t.length;e++)String(t[e])===selectedCol&&"0"===String(n)||"1"===n&&$(".ebFunctions").find(".function").eq(0).find("h2").text().includes("Join")&&String(t[e])===selectedCol?($(".col_data").append(`<option disabled value='${t[e]}'>${t[e]}</option>`),$(".col_data_single").append(`<option disabled value='${t[e]}'>${t[e]}</option>`)):($(".col_data").append(`<option value='${t[e]}'>${t[e]}</option>`),$(".col_data_single").append(`<option value='${t[e]}'>${t[e]}</option>`),$("#renameColumnDropdown1").append(`<li class="dropdown-item"><a href="javascript:void(0)" name='${t[e]}' class="renameColumnBtn1">${t[e]}</a></li>`));$(".renameColumnBtn1").click(function(){const e=$(this).attr("name");$("#renameColumnContainer1").append(`\n                                            <div class="row renameColumnGroup1" style="margin-top:0.5rem;">\n                                                <div class="col-1" style="color:var(--primary-color); margin:auto;">\n                                                    <i class="fas fa-trash-alt removeCol1" style="cursor"></i>\n                                                </div>\n                                                <div class="col-10" style="margin-left:0.25rem">\n                                                    <label>${e}</label>\n                                                    <input type="text" class="textinput textInput form-control">\n                                                </div>\n                                            </div>\n                                            `),$(".removeCol1").on("click",function(){$(this).parent().parent().remove()})})}else{let t;"Add Column"==String(e)&&($(".Target_Column2").empty(),$(".Target_Column2").append('<option value="" selected disabled>Select Field Type</option>\n              <option value="CharField">CharField</option>\n              <option value="IntegerField">IntegerField</option>\n              <option value="BigIntegerField">BigIntegerField</option>\n              <option value="FloatField">FloatField</option>\n              <option value="DateField">DateField</option>'),$(".Target_Column3").empty(),$(".Target_Column3").append('<option value="" selected disabled>Select Value Type</option>\n              <option value="static_add">Static</option>\n              <option value="dynamic_add">Dynamic</option>'));let a="";a=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name"),void 0===a&&(a=$("#FileName").attr("data-experimentName"));let r=$("#EBDisplayButtonID").attr("data-p_table_name");if(void 0===r&&(r=""),0===parseInt(n)){m=$("#dataElementParent").find("div").find("div");try{t=m[parseInt(n)].getAttribute("data-element_id")}catch(e){f=$(".ebFunctions").find("div").find("a"),t=f[parseInt(n-1)].getAttribute("data-element_id")}}else m=$(".ebFunctions").find("div").find("a"),t=m[parseInt(n-1)].getAttribute("data-element_id");$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"get_column_id",element_id:t},type:"POST",dataType:"json",success:function(t){$(".row_data").empty();for(let e=0;e<t.element_config.length;e++)$(".row_data").append(`<option value='${t.element_config[e]}'>${t.element_config[e]}</option>`);if("Add Column"!=String(e)&&"Groupby"!=String(e)&&"Data Utilities"!=String(e)&&"Fill Missing Values"!=String(e)&&"Sum Product"!=String(e)&&"Weighted Average"!=String(e)&&"Drop Duplicate"!=String(e)&&"Days360"!=String(e)&&"Weekday"!=String(e)&&"Weeknum"!=String(e)&&"Yearfrac"!=String(e)){$(".col_data").empty(),$(".col_data_single").empty(),$(".col_data").append('<option value="-"> -------------- </option>'),$(".col_data_single").append('<option value="-" selected> -------------- </option>');for(let e=0;e<t.columns.length;e++)$(".col_data").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".col_data_single").append(`<option data-datatype='${t.datatypes[e]}' value='${t.columns[e]}'>${t.columns[e]}</option>`)}else if("Data Utilities"==e)$(".col_data_single").empty(),$(".col_data_single").append("<option value='-' selected > -------------- </option>"),$(".col_data_single").append("<option value='true'>Yes</option>"),$(".col_data_single").append("<option value='false'>No</option>");else if("Fill Missing Values"==e){$(".Select_Operation1").empty(),$(".Select_Operation1").append("<option value='-' selected > -------------- </option>"),$(".Select_Operation1").append("<option value='previous'>Fill Previous Value</option>"),$(".Select_Operation1").append("<option value='next'>Fill Next Value</option>"),$(".Select_Operation1").append("<option value='average'>Fill Average Value</option>"),$(".Select_Operation1").append("<option value='mode'>Fill Frequent Value</option>"),$(".Select_Operation1").append("<option value='custom'>Fill with custom value</option>"),$(".Data_Table2").empty(),$(".Data_Table2").append("<option value='-' selected > -------------- </option>");for(let e=0;e<t.columns.length;e++)$(".Data_Table2").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`)}else if("Find and Replace"==e)$(".Find_and_Replace3").empty();else if("Sum Product"==e){$(".Column_Group1").empty(),$(".Column_Value2").empty(),$(".Column_Group1").append("<option value='-' disabled > -------------- </option>"),$(".Column_Value2").append("<option value='-' disabled  > -------------- </option>");for(let e=0;e<t.columns.length;e++)$(".Column_Group1").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".Column_Value2").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`)}else if("Weighted Average"==e){$(".Column_Group1").empty(),$(".Average_Value2").empty(),$(".Average_Weight3").empty(),$(".Column_Group1").append("<option value='-' disabled > -------------- </option>"),$(".Average_Value2").append("<option value='-' selected disabled > -------------- </option>"),$(".Average_Weight3").append("<option value='-' selected disabled > -------------- </option>");for(let e=0;e<t.columns.length;e++)$(".Column_Group1").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".Average_Value2").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".Average_Weight3").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`)}else if("Drop Duplicate"==e){$(".Select_operation1").empty(),$(".Select_operation1").append("<option value='-' selected > -------------- </option>"),$(".Select_operation1").append("<option value='first'>First Occurence</option>"),$(".Select_operation1").append("<option value='last'>Last Occurence</option>"),$(".Select_operation1").append("<option value='false'>Drop All</option>"),$(".Data_table2").empty(),$(".Data_table2").append("<option value='-' disabled > -------------- </option>");for(let e=0;e<t.columns.length;e++)$(".Data_table2").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`)}else if("Yearfrac"==e){$(".Yearfrac3").empty(),$(".Yearfrac3").append("<option value='1'>Actual/Actual AFB</option>"),$(".Yearfrac3").append("<option value='2'>Actual/Actual ISDA</option>"),$(".Yearfrac3").append("<option value='3'>30E/360 ISDA</option>"),$(".Yearfrac3").append("<option value='4'>30/365</option>"),$(".Yearfrac1").empty(),$(".Yearfrac2").empty(),$(".Yearfrac1").append("<option value='-' disabled selected> -------------- </option>"),$(".Yearfrac2").append("<option value='-' disabled selected> -------------- </option>");for(let e=0;e<t.columns.length;e++)$(".Yearfrac1").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".Yearfrac2").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`)}else if("Weeknum"==e){$(".Weeknum2").empty(),$(".Weeknum2").append("<option value='-' selected > -------------- </option>"),$(".Weeknum2").append("<option value='1'>Week begins on Sunday</option>"),$(".Weeknum2").append("<option value='2'>Week begins on Monday</option>"),$(".Weeknum1").empty(),$(".Weeknum1").append("<option value='-' selected disabled > -------------- </option>");for(let e=0;e<t.columns.length;e++)$(".Weeknum1").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`)}else if("Weekday"==e){$(".Weekday2").empty(),$(".Weekday2").append("<option value='-' selected > -------------- </option>"),$(".Weekday2").append("<option value='1'>Sun=1 through Sat=7</option>"),$(".Weekday2").append("<option value='2'>Mon=1 through Sun=7</option>"),$(".Weekday2").append("<option value='3'>Mon=0 through Sun=6</option>"),$(".Weekday1").empty(),$(".Weekday1").append("<option value='-' selected disabled > -------------- </option>");for(let e=0;e<t.columns.length;e++)$(".Weekday1").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`)}else if("Days360"==e){$(".Days3603").empty(),$(".Days3603").append("<option value='-' selected > -------------- </option>"),$(".Days3603").append("<option value='US'>US</option>"),$(".Days3603").append("<option value='EU'>European</option>"),$(".Days3601").empty(),$(".Days3601").append("<option value='-' selected disabled > -------------- </option>"),$(".Days3602").empty(),$(".Days3602").append("<option value='-' selected disabled  > -------------- </option>");for(let e=0;e<t.columns.length;e++)$(".Days3601").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".Days3602").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`)}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"fetch_redis_data_columns",data_element_id:t},type:"POST",dataType:"json",success:function(e){if($("#renameColumnDropdown1").empty(),Object.keys(e).includes("columnList")){for(let t=0;t<e.columnList.length;t++)$("#renameColumnDropdown1").append(`<li class="dropdown-item"><a href="javascript:void(0)" name='${e.columnList[t]}' class="renameColumnBtn1">${e.columnList[t]}</a></li>`);$(".renameColumnBtn1").click(function(){const e=$(this).attr("name");$("#renameColumnContainer1").append(`\n                                            <div class="row renameColumnGroup1" style="margin-top:0.5rem;">\n                                                <div class="col-1" style="color:var(--primary-color); margin:auto;">\n                                                    <i class="fas fa-trash-alt removeCol1" style="cursor"></i>\n                                                </div>\n                                                <div class="col-10" style="margin-left:0.25rem">\n                                                    <label>${e}</label>\n                                                    <input type="text" class="textinput textInput form-control">\n                                                </div>\n                                            </div>\n                                            `),$(".removeCol1").on("click",function(){$(this).parent().parent().remove()})})}},error:function(){Swal.fire({icon:"error",text:"Error! Failure in fetching the connected data's columns. Please try again."})}}),"Add Column"==String(e)&&$(".Target_Column3").off("select2:select").on("select2:select",function(){$("#AddColumnDropdown").empty(),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{element_id:"",model_name:a,parent_element_id_list:JSON.stringify({Data1:t}),req_data:t,operation:"addCondColDT_merge",type:$(".Target_Column3").val()},type:"POST",dataType:"json",success:function(e){function t(){$(this).closest("tr").remove()}$("#filter-table_AddColumns").empty(),$("#filter-table_AddColumns").append('\n                    <thead>\n                        <tr>\n                            <th>Condition Check Variable</th>\n                            <th>Condition*</th>\n                            <th>Condition Value*</th>\n                            <th>Set Global Variable</th>\n                            <th>Representative Value*</th>\n                            <th>Global Variable</th>\n                        </tr>\n                    </thead>\n                    <tbody id = "filter-table_addCol_body"></tbody>\n                ');var n=e.label_column;for(const[e,t]of Object.entries(n))$("#AddColumnDropdown").append('<li class="dropdown-item"><a href="javascript:void(0)" name='+e+' class="filter_btn_addColumn">'+t+"</a></li>");e.form_fields;$(".filter_btn_addColumn").click(function(){var i=$(this).attr("name"),a=($(this).text(),e.form_fields[i]);$("#filter-table_addCol_body").append(a);var r=$("#filter-table_addCol_body").find("tr").eq(-1).find('select[data-dropdown_purpose="select_global_variable"]').attr("data-type");let o=[];var l=e.global_datetime_list.concat(e.global_date_list,e.global_text_list,e.global_number_list);"text"===r?o=e.global_text_list:"number"===r?o=e.global_number_list:"date"===r?o=e.global_datetime_list.concat(e.global_date_list):"datetime-local"===r&&(o=e.global_datetime_list.concat(e.global_date_list));for(let e=0;e<o.length;e++){const t=o[e];$("#filter-table_addCol_body").find("tr").eq(-1).find('select[data-dropdown_purpose="select_global_variable"]').append(`<option value='${t}'>${t}</option>`)}for(let e=0;e<l.length;e++){const t=l[e];$("#filter-table_addCol_body").find("tr").eq(-1).find('select[data-dropdown_purpose="select_global_variable_input"]').append(`<option value='${t}'>${t}</option>`)}$("#filter-table_addCol_body:last-child").find("select").each(function(){$(this).select2()}),$("#filter-table_addCol_body").find("tr").each(function(){$(this).find('select[data-dropdown_purpose="select_global_variable"]').off("select2:select").on("select2:select",function(){$(this).closest("tr").find("input").eq(0).val("").trigger("change")})});for(const[e,t]of Object.entries(n))$("#filter-table_addCol_body").find("tr").eq(-1).find('select[data-dropdown_purpose="add_column"]').append(`<option value='${t}'>${t}</option>`);$(".remove_filter").on("click",t)})},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}),"Filter"!=String(e)&&"Sort"!=String(e)&&"Groupby"!=String(e)&&"Add Column"!=String(e)||$.ajax({url:`/users/${urlPath}/computationModule/`,data:{element_id:"",model_name:a,model_name_2:r,parent_element_id_list:JSON.stringify({Data1:t}),req_data:t,operation:"whereDT_merge"},type:"POST",dataType:"json",success:function(e){function t(){$(this).closest("tr").remove()}$("#condition_dropdownWhereDT_merge1").empty();let n=e.label_column;for(const[e,t]of Object.entries(n))$("#condition_dropdownWhereDT_merge1").append('<li class="dropdown-item"><a href="javascript:void(0)" name='+e+' class="filter_btn_1">'+t+"</a></li>");$(".filter_btn_1").click(function(){let n=$(this).attr("name"),i=($(this).text(),e.form_fields[n]);$("#filter-table_where_merge1").append(i);let a=$("#filter-table_where_merge1").find("tr").eq(-1).find('select[data-dropdown_purpose="select_global_variable"]').attr("data-type"),r=[];"text"===a?r=e.global_text_list:"number"===a?r=e.global_number_list:"date"===a?r=e.global_date_list.concat(e.global_datetime_list):"datetime-local"===a&&(r=e.global_datetime_list.concat(e.global_date_list));for(let e=0;e<r.length;e++){const t=r[e];$("#filter-table_where_merge1").find("tr").eq(-1).find('select[data-dropdown_purpose="select_global_variable"]').append(`<option value='${t}'>${t}</option>`)}$("#filter-table_where_merge1:last-child").find("select").each(function(){$(this).select2()}),$("#filter-table_where_merge1").find("tr").each(function(){$(this).find('select[data-dropdown_purpose="select_global_variable"]').off("select2:select").on("select2:select",function(){$(this).closest("tr").find("input").eq(0).val("").trigger("change")})}),$(".remove_filter").on("click",t)})},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}),"Sort"==String(e)&&$.ajax({url:`/users/${urlPath}/computationModule/`,data:{element_id:"",model_name:a,parent_element_id_list:JSON.stringify({Data1:t}),operation:"sortByDT_merge"},type:"POST",dataType:"json",success:function(e){for(j in $("#sortColList").empty(),$("#selectedSortColList").empty(),e.columns)$("#sortColList").append(`<button type="button" class="sortField list-group-item list-group-item-action list-group-item-light" value="${e.columns[j]}">${e.columns[j]}</button>`);$(".sortField").click(function(){fieldname=$(this).val(),$("#selectedSortColList").append(`\n                  <div class="row"><button class="sortFieldSelected list-group-item list-group-item-action list-group-item-light col-7" value="${fieldname}" data-toggle="dropdown" data-hover="dropdown">${fieldname}</button><select class="sortType col-4 select2 form-control" style="float:left;"><option value="" disabled selected>-----</option><option value="True">Ascending</option><option value="False">Descending</option></select></div>\n                  `),$(".sortFieldSelected").off("click").on("click",function(){let e=$(this).closest("div.row");e.remove()})})},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}),"Groupby"==String(e)&&$.ajax({url:`/users/${urlPath}/computationModule/`,data:{element_id:"",req_data:t,model_name:a,parent_element_id_list:JSON.stringify({Data1:t}),operation:"groupByDT_merge"},type:"POST",dataType:"json",success:function(e){function t(){let e=$(this).val();$("#selectedGroupAggList").append(`\n                  <div class="row"><button class="groupAggFieldSelected list-group-item list-group-item-action list-group-item-light col-7" value="${e}" data-toggle="dropdown" data-hover="dropdown">${e}</button><select class="aggfunc col-4 select2 form-control" style="float:left;"><option value="" disabled selected>-----</option><option value="min">Min</option><option value="max">Max</option><option value="sum">Sum</option><option value="mean">Mean</option></select></div>\n                  `),$(".groupAggFieldSelected").click(function(){let e=$(this).closest("div.row");e.remove()})}for(i in $("#groupAggList").empty(),$(".Target_Column1").empty(),$("#selectedGroupAggList").empty(),e.char_list)$(".Target_Column1").append(`<option value="${e.char_list[i]}">${e.char_list[i]}</option>`);for(j in $(".Target_Column1").on("change",function(){}),e.num_list)$("#groupAggList").append(`<button type="button" class="groupAggField list-group-item list-group-item-action list-group-item-light" value="${e.num_list[j]}">${e.num_list[j]}</button>`);$(".groupAggField").click(t)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}else if("Append and Concatenate"==String(e)&&($(".Target_Column1").empty(),$(".Target_Column1").append('<option value="" disabled selected>Select Operation</option>\n          <option value="append">Append</option>\n          <option value="concatenate">Concatenation</option>\n          ')),"datamgm"===String(d)){m=$(".ebDataElementsDiv").eq(parseInt(n)).find(".ColumnItem"),f=$(".ebDataElementsDiv").eq(parseInt(n)).find(".ColumnItem").find("p");let t=[],i=[];const a=new Set;for(let e=0;e<m.length;e++)a.add(m[e].getAttribute("data-element_id"));const r=Array.from(a);if("1"===String(r.length)){u=$(".ebFunctions").find("div").find("a"),r[1]=u[parseInt(n-1)].getAttribute("data-element_id");for(let e=0;e<m.length;e++)t.push(f[e].innerText);for(p=1;p;){if(s=$(".ebDataElementsDiv").eq(parseInt(n-1)).find(".ColumnItem"),g=$(".ebDataElementsDiv").eq(parseInt(n-1)).find(".ColumnItem").find("p"),"0"!==String(s.length)){for(let e=0;e<s.length;e++)i.push(g[e].innerText);p=0}n-=1}}else for(let e=0;e<m.length;e++)String(r[0])===String(m[e].getAttribute("data-element_id"))?t.push(f[e].innerText):i.push(f[e].innerText);if(t=[...new Set(t)],i=[...new Set(i)],"Append and Concatenate"!=String(e)){$(".col_data").odd().addClass("col_data_table1"),$(".col_data_single").odd().addClass("col_data_table1"),$(".col_data").even().addClass("col_data_table2"),$(".col_data_single").even().addClass("col_data_table2"),$(".col_data_table1").empty(),$(".col_data_table1").append("<option value='-'> -------------- </option>");for(let e=0;e<i.length;e++)$(".col_data_table1").append(`<option value='${i[e]}'>${i[e]}</option>`);$(".col_data_table2").empty(),$(".col_data_table2").append("<option value='-'> -------------- </option>");for(let e=0;e<t.length;e++)$(".col_data_table2").append(`<option value='${t[e]}'>${t[e]}</option>`)}cDict.table_data=r}else{$(".col_data").odd().addClass("col_data_table1"),$(".col_data_single").odd().addClass("col_data_table1"),$(".col_data").even().addClass("col_data_table2"),$(".col_data_single").even().addClass("col_data_table2");var o={};m=$(".ebDataElementsDiv").eq(parseInt(n)).find(".ColumnItem");const t=new Set,i=new Set;for(let e=0;e<m.length;e++)t.add(m[e].getAttribute("data-element_id")),i.add(m[e].getAttribute("data-table")),o[m[e].querySelectorAll("p")[0].textContent]=m[e].getAttribute("data-element_id");if(c=Array.from(t),f2=Array.from(i),"1"===String(c.length)){f=$(".ebFunctions").find("div").find("a");try{c[1]=f[parseInt(n-1)].getAttribute("data-element_id")}catch(e){}}cDict.table_data=c,cDict.t_data=f2,cDict.temp_nd=o,$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"get_column_id",element_id:c[0]},type:"POST",dataType:"json",success:function(t){if("Append and Concatenate"!=String(e)&&"Networkdays"!=String(e)&&"Networkdays.Intl"!=String(e)&&"Workdays"!=String(e)&&"Workdays.Intl"!=String(e)){$(".col_data_table2").empty(),$(".col_data_table2").append("<option value='-'> -------------- </option>");for(let e=0;e<t.columns.length;e++)$(".col_data_table2").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`)}else if("Networkdays"==String(e)){$(".Networkdays1").empty(),$(".Networkdays2").empty(),$(".Networkdays3").empty(),$(".Networkdays1").append("<option value='-' selected> -------------- </option>"),$(".Networkdays2").append("<option value='-' selected> -------------- </option>"),$(".Networkdays3").append("<option value='-' selected> -------------- </option>");for(let e=0;e<t.columns.length;e++)$(".Networkdays1").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".Networkdays2").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".Networkdays3").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`)}else if("Networkdays.Intl"==String(e)){$(".NetworkdaysIntl1").empty(),$(".NetworkdaysIntl2").empty(),$(".NetworkdaysIntl3").empty(),$(".NetworkdaysIntl1").append("<option value='-' selected> -------------- </option>"),$(".NetworkdaysIntl2").append("<option value='-' selected> -------------- </option>"),$(".NetworkdaysIntl3").append("<option value='-' selected> -------------- </option>");for(let e=0;e<t.columns.length;e++)$(".NetworkdaysIntl1").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".NetworkdaysIntl2").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".NetworkdaysIntl3").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`)}else if("Workdays"==String(e)){$(".Workdays1").empty(),$(".Workdays2").empty(),$(".Workdays1").append("<option value='-' selected> -------------- </option>"),$(".Workdays2").append("<option value='-' selected> -------------- </option>");for(let e=0;e<t.columns.length;e++)$(".Workdays1").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".Workdays2").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`)}else if("Workdays.Intl"==String(e)){$(".WorkdaysIntl1").empty(),$(".WorkdaysIntl2").empty(),$(".WorkdaysIntl3").empty(),$(".WorkdaysIntl1").append("<option value='-' selected> -------------- </option>"),$(".WorkdaysIntl2").append("<option value='-' selected> -------------- </option>"),$(".WorkdaysIntl3").append("<option value='0'> Mon </option>"),$(".WorkdaysIntl3").append("<option value='1'> Tue </option>"),$(".WorkdaysIntl3").append("<option value='2'> Wed </option>"),$(".WorkdaysIntl3").append("<option value='3'> Thu </option>"),$(".WorkdaysIntl3").append("<option value='4'> Fri </option>"),$(".WorkdaysIntl3").append("<option value='5'> Sat </option>"),$(".WorkdaysIntl3").append("<option value='6'> Sun </option>");for(let e=0;e<t.columns.length;e++)$(".WorkdaysIntl1").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".WorkdaysIntl2").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`)}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}}),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"get_column_id",element_id:c[1]},type:"POST",dataType:"json",success:function(t){if("Append and Concatenate"!=String(e)&&"Networkdays"!=String(e)&&"Networkdays.Intl"!=String(e)&&"Workdays"!=String(e)&&"Workdays.Intl"!=String(e)){$(".col_data_table1").empty(),$(".col_data_table1").append("<option value='-'> -------------- </option>");for(let e=0;e<t.columns.length;e++)$(".col_data_table1").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`)}else if("Networkdays"==String(e)){if($(".Networkdays1").empty(),$(".Networkdays2").empty(),$(".Networkdays3").empty(),$(".Networkdays1").append("<option value='-' selected> -------------- </option>"),$(".Networkdays2").append("<option value='-' selected> -------------- </option>"),$(".Networkdays3").append("<option value='-' selected> -------------- </option>"),Object.keys(t).length>0)for(let e=0;e<t.columns.length;e++)$(".Networkdays1").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".Networkdays2").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".Networkdays3").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`);$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"get_column_id",element_id:c[0]},type:"POST",dataType:"json",success:function(e){for(let t=0;t<e.columns.length;t++)$(".Networkdays1").append(`<option value='${e.columns[t]}'>${e.columns[t]}</option>`),$(".Networkdays2").append(`<option value='${e.columns[t]}'>${e.columns[t]}</option>`),$(".Networkdays3").append(`<option value='${e.columns[t]}'>${e.columns[t]}</option>`)},error:function(){window.alert("Error")}})}else if("Networkdays.Intl"==String(e)){if($(".NetworkdaysIntl1").empty(),$(".NetworkdaysIntl2").empty(),$(".NetworkdaysIntl3").empty(),$(".NetworkdaysIntl1").append("<option value='-' selected> -------------- </option>"),$(".NetworkdaysIntl2").append("<option value='-' selected> -------------- </option>"),$(".NetworkdaysIntl3").append("<option value='-' selected> -------------- </option>"),Object.keys(t).length>0)for(let e=0;e<t.columns.length;e++)$(".NetworkdaysIntl1").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".NetworkdaysIntl2").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".NetworkdaysIntl3").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`);$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"get_column_id",element_id:c[0]},type:"POST",dataType:"json",success:function(e){for(let t=0;t<e.columns.length;t++)$(".NetworkdaysIntl1").append(`<option value='${e.columns[t]}'>${e.columns[t]}</option>`),$(".NetworkdaysIntl2").append(`<option value='${e.columns[t]}'>${e.columns[t]}</option>`),$(".NetworkdaysIntl3").append(`<option value='${e.columns[t]}'>${e.columns[t]}</option>`)},error:function(){window.alert("Error")}})}else if("Workdays"==String(e)){if($(".Workdays1").empty(),$(".Workdays2").empty(),$(".Workdays1").append("<option value='-' selected> -------------- </option>"),$(".Workdays2").append("<option value='-' selected> -------------- </option>"),Object.keys(t).length>0)for(let e=0;e<t.columns.length;e++)$(".Workdays1").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".Workdays2").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`);$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"get_column_id",element_id:c[0]},type:"POST",dataType:"json",success:function(e){for(let t=0;t<e.columns.length;t++)$(".Workdays1").append(`<option value='${e.columns[t]}'>${e.columns[t]}</option>`),$(".Workdays2").append(`<option value='${e.columns[t]}'>${e.columns[t]}</option>`)},error:function(){window.alert("Error")}})}else if("Workdays.Intl"==String(e)){if($(".WorkdaysIntl1").empty(),$(".WorkdaysIntl2").empty(),$(".WorkdaysIntl1").append("<option value='-' selected> -------------- </option>"),$(".WorkdaysIntl2").append("<option value='-' selected> -------------- </option>"),Object.keys(t).length>0)for(let e=0;e<t.columns.length;e++)$(".WorkdaysIntl1").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`),$(".WorkdaysIntl2").append(`<option value='${t.columns[e]}'>${t.columns[e]}</option>`);$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"get_column_id",element_id:c[0]},type:"POST",dataType:"json",success:function(e){for(let t=0;t<e.columns.length;t++)$(".WorkdaysIntl1").append(`<option value='${e.columns[t]}'>${e.columns[t]}</option>`),
$(".WorkdaysIntl2").append(`<option value='${e.columns[t]}'>${e.columns[t]}</option>`)},error:function(){window.alert("Error")}})}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}setTimeout(function(){let e="";e=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name");let t="comp";void 0===e&&(e=$("#FileName").attr("data-experimentName"),void 0===e&&("defn"===String(idenFlag)?e=$("#tname").val():"attr"===String(idenFlag)||"add"===String(idenFlag)||"edit"===String(idenFlag)?e=$(".dataElements").find("p").text():1==listViewComp&&(e=listViewModelName),t="datamgm")),$.ajax({url:`/users/${urlPath}/computationModule/`,data:{operation:"equ_config",model_name:e,element_id:iid,data_id:t},type:"POST",dataType:"json",success:function(e){if("datamgm"!==String(t)||selectedCol.startsWith("document")||$(".Target_Column1").val(selectedCol).trigger("change"),Object.keys(e).length>0)if("Apply Math Operation"===String(e.element_config.function))"Basic Operations"===String(e.element_config.inputs.Operation)?"Row_Sum"===String(e.element_config.inputs.Other_Inputs.Type_choice)?($(".Row_sum1").val(e.element_config.inputs.Column_1).trigger("change"),$(".Row_sum2").val(e.element_config.inputs.Number).trigger("change"),$(".Target_Column1").val(e.element_config.inputs.Column_name).trigger("change")):"Column_Sum"===String(e.element_config.inputs.Other_Inputs.Type_choice)?($(".Column_sum1").val(e.element_config.inputs.Column_1).trigger("change"),$(".Column_sum2").val(e.element_config.inputs.Number).trigger("change"),$(".Target_Column1").val(e.element_config.inputs.Column_name).trigger("change")):"Cell_Sum"===String(e.element_config.inputs.Other_Inputs.Type_choice)&&($(".Cell_11").val(e.element_config.inputs.Other_Inputs.Cell_11).trigger("change"),$(".Cell_12").val(e.element_config.inputs.Other_Inputs.Cell_12).trigger("change"),$(".Cell_sum3").val(e.element_config.inputs.Number).trigger("change"),$(".Cell_21").val(e.element_config.inputs.Other_Inputs.Cell_21).trigger("change"),$(".Cell_22").val(e.element_config.inputs.Other_Inputs.Cell_22).trigger("change"),$(".Target_Cell_11").val(e.element_config.inputs.Other_Inputs.Target_1).trigger("change"),$(".Target_Cell_22").val(e.element_config.inputs.Other_Inputs.Target_2).trigger("change")):"Rounding Operations"===String(e.element_config.inputs.Operation)?"Ceiling"===String(e.element_config.inputs.Sub_Op)?($(".Ceiling1").val(e.element_config.inputs.Column_1).trigger("change"),$(".Ceiling_Significance_Multiple2").val(e.element_config.inputs.Other_Inputs.Signif_Multiple),$(".Target_Column1").val(e.element_config.inputs.Column_name).trigger("change")):"Floor"===String(e.element_config.inputs.Sub_Op)?($(".Floor1").val(e.element_config.inputs.Column_1).trigger("change"),$(".Floor_Significance_Multiple2").val(e.element_config.inputs.Other_Inputs.Signif_Multiple),$(".Target_Column1").val(e.element_config.inputs.Column_name).trigger("change")):"Odd"===String(e.element_config.inputs.Sub_Op)?($(".Odd1").val(e.element_config.inputs.Column_1).trigger("change"),$(".Target_Column1").val(e.element_config.inputs.Column_name).trigger("change")):"Even"===String(e.element_config.inputs.Sub_Op)?($(".Even1").val(e.element_config.inputs.Column_1).trigger("change"),$(".Target_Column1").val(e.element_config.inputs.Column_name).trigger("change")):"Round"===String(e.element_config.inputs.Sub_Op)?($(".Round1").val(e.element_config.inputs.Column_1).trigger("change"),$(".No_of_Decimals2").val(e.element_config.inputs.Other_Inputs.Decimal),$(".Target_Column1").val(e.element_config.inputs.Column_name).trigger("change")):"Round_Up"===String(e.element_config.inputs.Sub_Op)?($(".Round_Up1").val(e.element_config.inputs.Column_1).trigger("change"),$(".Target_Column1").val(e.element_config.inputs.Column_name).trigger("change")):"Round_Down"===String(e.element_config.inputs.Sub_Op)?($(".Round_Down1").val(e.element_config.inputs.Column_1).trigger("change"),$(".Target_Column1").val(e.element_config.inputs.Column_name).trigger("change")):"Truncate"===String(e.element_config.inputs.Sub_Op)&&($(".Truncate1").val(e.element_config.inputs.Column_1).trigger("change"),$(".Target_Column1").val(e.element_config.inputs.Column_name).trigger("change")):"Log and Exponential Functions"===String(e.element_config.inputs.Operation)?"Log_base"===String(e.element_config.inputs.Sub_Op)?($(".Natural_Log1").val(e.element_config.inputs.Column_1).trigger("change"),$(".Target_Column1").val(e.element_config.inputs.Column_name).trigger("change")):"Exponential"===String(e.element_config.inputs.Sub_Op)?($(".Exponential1").val(e.element_config.inputs.Column_1).trigger("change"),$(".Target_Column1").val(e.element_config.inputs.Column_name).trigger("change")):"Natural_Log"===String(e.element_config.inputs.Sub_Op)&&($(".Base_Log1").val(e.element_config.inputs.Column_1).trigger("change"),$(".Log_Base_value2").val(e.element_config.inputs.Other_Inputs.Log_Base),$(".Target_Column1").val(e.element_config.inputs.Column_name).trigger("change")):"Power and Root Functions"===String(e.element_config.inputs.Operation)&&($(".Root_Operation1").val(e.element_config.inputs.Column_1).trigger("change"),$(".Root_Operation2").val(e.element_config.inputs.Other_Inputs.Power).trigger("change"),$(".Target_Column1").val(e.element_config.inputs.Column_name).trigger("change"));else if("Rename Column"===String(e.element_config.function)){$(".Drop_Columns1").val(e.element_config.inputs.drop_column).trigger("change");const t=e.element_config,n=t.inputs;if(Object.keys(n).includes("rename_config")){const e=n.rename_config;for(const[t,n]of Object.entries(e))$("#renameColumnContainer1").append(`\n                                                    <div class="row renameColumnGroup1" style="margin-top:0.5rem;">\n                                                        <div class="col-1" style="color:var(--primary-color); margin:auto;">\n                                                            <i class="fas fa-trash-alt removeCol1" style="cursor"></i>\n                                                        </div>\n                                                        <div class="col-10" style="margin-left:0.25rem">\n                                                            <label>${t}</label>\n                                                            <input type="text" class="textinput textInput form-control" value=${n}>\n                                                        </div>\n                                                    </div>\n                                                    `);$(".removeCol1").on("click",function(){$(this).parent().parent().remove()})}}else"Pivot and Transpose"===String(e.element_config.function)?("pivot"===String(e.element_config.element_name)&&($(".Target_Column1").val(e.element_config.inputs.option_config.index).trigger("change"),$(".Target_Column2").val(e.element_config.inputs.option_config.columns).trigger("change"),$(".Target_Column3").val(e.element_config.inputs.option_config.values).trigger("change")),"unpivot"===String(e.element_config.element_name)&&($(".Target_Column1").val(e.element_config.inputs.option_config.index).trigger("change"),$(".Target_Column2").val(e.element_config.inputs.option_config.columns).trigger("change"),$(".Target_Column3").val(e.element_config.inputs.option_config.variable_column_name).trigger("change"),$(".Target_Column4").val(e.element_config.inputs.option_config.value_column_name).trigger("change"))):"Data Utilities"===String(e.element_config.function)?(e.element_config.inputs.reset_checked?reset_checked_val="true":reset_checked_val="false",e.element_config.inputs.drop_checked?drop_checked_val="true":drop_checked_val="false",$(".Reset_Index1").val(reset_checked_val).trigger("change"),$(".Drop_Index2").val(drop_checked_val).trigger("change")):"Concat Columns"===String(e.element_config.function)?($(".Target_Column1").val(e.element_config.inputs.Column_name).trigger("change"),$(".Target_Column2").val(e.element_config.inputs.Column_1).trigger("change"),$(".Target_Column3").val(e.element_config.inputs.Separator).trigger("change")):"Missing Values"===String(e.element_config.function)?($(".Select_Operation1").val(e.element_config.inputs.Sub_Op).trigger("change"),$(".Data_Table2").val(e.element_config.inputs.Other_Inputs.Data).trigger("change"),$(".Custom_value3").val(e.element_config.inputs.Other_Inputs.subOpConfig).trigger("change")):"Elementary Statistics"===String(e.element_config.function)?("Sum Product"==e.element_config.inputs.previewString&&($(".Column_Group1").val(e.element_config.inputs.Groupby_column).trigger("change"),$(".Column_Value2").val(e.element_config.inputs.agg_config[0].Value_column).trigger("change"),$(".Column_Name3").val(e.element_config.inputs.agg_config[0].new_column_name).trigger("change")),"Weighted Average"==e.element_config.inputs.previewString&&($(".Column_Group1").val(e.element_config.inputs.Groupby_column).trigger("change"),$(".Average_Value2").val(e.element_config.inputs.agg_config[0].Value_column).trigger("change"),$(".Average_Weight3").val(e.element_config.inputs.agg_config[0].Weights).trigger("change"),$(".Column_Name4").val(e.element_config.inputs.agg_config[0].new_column_name).trigger("change"))):"Drop Duplicate"===String(e.element_config.function)?($(".Select_operation1").val(e.element_config.inputs.Sub_Op).trigger("change"),$(".Data_table2").val(e.element_config.inputs.Other_Inputs.Data).trigger("change")):"Add Fix Column"===String(e.element_config.function)?($(".Input_Column2").val(e.element_config.inputs.input_name).trigger("change"),$(".Add_Column2").val(e.element_config.inputs.input_value).trigger("change")):"Delimit Column"===String(e.element_config.function)?($(".Delimit_Column1").val(e.element_config.inputs.columnName).trigger("change"),$(".Delimit_Column2").val(e.element_config.inputs.delimiter).trigger("change")):"Find and Replace"===String(e.element_config.function)?($(".Find_and_Replace1").val(e.element_config.inputs.fdict.columnName).trigger("change"),$(".Find_and_Replace2").val(e.element_config.inputs.fdict.replacecolumnName).trigger("change"),$(".Find_and_Replace3").val(e.element_config.inputs.fdict.find_case).trigger("change"),$(".Find_and_Replace4").val(e.element_config.inputs.fdict.find),$(".Find_and_Replace5").val(e.element_config.inputs.fdict.replace)):"Workdays.Intl"===String(e.element_config.function)?($(".WorkdaysIntl1").val(e.element_config.inputs.start_date).trigger("change"),$(".WorkdaysIntl2").val(e.element_config.inputs.holiday).trigger("change"),$(".WorkdaysIntl3").val(e.element_config.inputs.weekend).trigger("change"),$(".WorkdaysIntl4").val(e.element_config.inputs.days).trigger("change"),$(".WorkdaysIntl5").val(e.element_config.inputs.colname).trigger("change")):"Workdays"===String(e.element_config.function)?($(".Workdays1").val(e.element_config.inputs.start_date).trigger("change"),$(".Workdays2").val(e.element_config.inputs.holiday).trigger("change"),$(".Workdays3").val(e.element_config.inputs.days).trigger("change"),$(".Workdays4").val(e.element_config.inputs.colname).trigger("change")):"Networkdays.Intl"===String(e.element_config.function)?($(".NetworkdaysIntl1").val(e.element_config.inputs.start_date).trigger("change"),$(".NetworkdaysIntl2").val(e.element_config.inputs.end_date).trigger("change"),$(".NetworkdaysIntl3").val(e.element_config.inputs.holiday).trigger("change"),$(".NetworkdaysIntl4").val(e.element_config.inputs.weekend).trigger("change"),$(".NetworkdaysIntl5").val(e.element_config.inputs.colname).trigger("change")):"Networkdays"===String(e.element_config.function)?($(".Networkdays1").val(e.element_config.inputs.start_date).trigger("change"),$(".Networkdays2").val(e.element_config.inputs.end_date).trigger("change"),$(".Networkdays3").val(e.element_config.inputs.holiday).trigger("change"),$(".Networkdays4").val(e.element_config.inputs.colname).trigger("change")):"Year"===String(e.element_config.function)?($(".Year1").val(e.element_config.inputs.date).trigger("change"),$(".Year2").val(e.element_config.inputs.colname).trigger("change")):"Weeknum"===String(e.element_config.function)?($(".Weeknum1").val(e.element_config.inputs.date).trigger("change"),$(".Weeknum2").val(e.element_config.inputs.method).trigger("change"),$(".Weeknum3").val(e.element_config.inputs.colname).trigger("change")):"Weekday"===String(e.element_config.function)?($(".Weekday1").val(e.element_config.inputs.date).trigger("change"),$(".Weekday2").val(e.element_config.inputs.method).trigger("change"),$(".Weekday3").val(e.element_config.inputs.colname).trigger("change")):"Today"===String(e.element_config.function)?$(".Today1").val(e.element_config.inputs.colname).trigger("change"):"Time"===String(e.element_config.function)?($(".Time1").val(e.element_config.inputs.hour).trigger("change"),$(".Time2").val(e.element_config.inputs.minute).trigger("change"),$(".Time3").val(e.element_config.inputs.second).trigger("change"),$(".Time4").val(e.element_config.inputs.colname).trigger("change")):"Second"===String(e.element_config.function)?($(".Second1").val(e.element_config.inputs.date).trigger("change"),$(".Second2").val(e.element_config.inputs.colname).trigger("change")):"Now"===String(e.element_config.function)?$(".Now1").val(e.element_config.inputs.colname).trigger("change"):"Month"===String(e.element_config.function)?($(".Month1").val(e.element_config.inputs.date).trigger("change"),$(".Month2").val(e.element_config.inputs.colname).trigger("change")):"Minute"===String(e.element_config.function)?($(".Minute1").val(e.element_config.inputs.date).trigger("change"),$(".Minute2").val(e.element_config.inputs.colname).trigger("change")):"Isoweeknum"===String(e.element_config.function)?($(".Isoweeknum1").val(e.element_config.inputs.date).trigger("change"),$(".Isoweeknum2").val(e.element_config.inputs.colname).trigger("change")):"Hour"===String(e.element_config.function)?($(".Hour1").val(e.element_config.inputs.date).trigger("change"),$(".Hour2").val(e.element_config.inputs.colname).trigger("change")):"Eomonth"===String(e.element_config.function)?($(".Eomonth1").val(e.element_config.inputs.start_date).trigger("change"),$(".Eomonth2").val(e.element_config.inputs.months).trigger("change"),$(".Eomonth3").val(e.element_config.inputs.colname).trigger("change")):"Days360"===String(e.element_config.function)?($(".Days3601").val(e.element_config.inputs.start_date).trigger("change"),$(".Days3602").val(e.element_config.inputs.end_date).trigger("change"),$(".Days3603").val(e.element_config.inputs.method).trigger("change"),$(".Days3604").val(e.element_config.inputs.colname).trigger("change")):"Edate"===String(e.element_config.function)?($(".Edate1").val(e.element_config.inputs.start_date).trigger("change"),$(".Edate2").val(e.element_config.inputs.months).trigger("change"),$(".Edate3").val(e.element_config.inputs.colname).trigger("change")):"Days"===String(e.element_config.function)?($(".Days1").val(e.element_config.inputs.start_date).trigger("change"),$(".Days2").val(e.element_config.inputs.end_date).trigger("change"),$(".Days3").val(e.element_config.inputs.colname).trigger("change")):"Date"===String(e.element_config.function)?($(".Date1").val(e.element_config.inputs.year).trigger("change"),$(".Date2").val(e.element_config.inputs.month).trigger("change"),$(".Date3").val(e.element_config.inputs.day).trigger("change"),$(".Date4").val(e.element_config.inputs.colname).trigger("change")):"Yearfrac"===String(e.element_config.function)?($(".Yearfrac1").val(e.element_config.inputs.start_date).trigger("change"),$(".Yearfrac2").val(e.element_config.inputs.end_date).trigger("change"),$(".Yearfrac3").val(e.element_config.inputs.basis).trigger("change"),$(".Yearfrac4").val(e.element_config.inputs.colname).trigger("change")):"Day"===String(e.element_config.function)?($(".Day1").val(e.element_config.inputs.date).trigger("change"),$(".Day2").val(e.element_config.inputs.colname).trigger("change")):"Merge and Join"===String(e.element_config.function)&&"filter"!==String(e.element_config.element_name)&&"AddColumn"!==String(e.element_config.element_name)&&"sort"!==String(e.element_config.element_name)&&"groupby"!==String(e.element_config.element_name)?"append"===String(e.element_config.element_name)?$(".Target_Column1").val(e.element_config.inputs.final_config.merge_and_join.inputs.option).trigger("change"):"left"===String(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.join_type)?($(".Left_join_on_Data11").val(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.on.Data1).trigger("change"),$(".Left_join_on_Data22").val(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.on.Data2).trigger("change"),$(".Left_join_Data13").val(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.on_display.Data1).trigger("change"),$(".Left_join_Data24").val(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.on_display.Data2).trigger("change")):"right"===String(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.join_type)?($(".Right_join_on_Data11").val(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.on.Data1).trigger("change"),$(".Right_join_on_Data22").val(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.on.Data2).trigger("change"),$(".Right_join_Data13").val(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.on_display.Data1).trigger("change"),$(".Right_join_Data24").val(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.on_display.Data2).trigger("change")):"inner"===String(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.join_type)?($(".Inner_join_on_Data11").val(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.on.Data1).trigger("change"),$(".Inner_join_on_Data22").val(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.on.Data2).trigger("change"),$(".Inner_join_Data13").val(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.on_display.Data1).trigger("change"),$(".Inner_join_Data24").val(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.on_display.Data2).trigger("change")):"outer"===String(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.join_type)&&($(".Outer_join_on_Data11").val(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.on.Data1).trigger("change"),$(".Outer_join_on_Data22").val(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.on.Data2).trigger("change"),$(".Outer_join_Data13").val(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.on_display.Data1).trigger("change"),$(".Outer_join_Data24").val(e.element_config.inputs.final_config.merge_and_join.inputs.join_config.on_display.Data2).trigger("change")):($(".Target_Column1").val(e.element_config.inputs.Column_name).trigger("change"),$(".Time_Periods1").val(e.element_config.inputs.Column_1).trigger("change"),$(".Days2").val(e.element_config.inputs.Days).trigger("change"),$(".Months3").val(e.element_config.inputs.Months).trigger("change"),$(".Years4").val(e.element_config.inputs.Years).trigger("change"))},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})},250),setTimeout(function(){let t="";t=compValProcess?compValProcessName:$("#EBDisplayButtonID").attr("data-name");let i="comp";void 0===t&&(t=$("#FileName").attr("data-experimentName"),void 0===t&&("defn"===String(idenFlag)?t=$("#tname").val():"attr"===String(idenFlag)||"add"===String(idenFlag)||"edit"===String(idenFlag)?t=$(".dataElements").find("p").text():1==listViewComp&&(t=listViewModelName),i="datamgm"));let a=$("#EBDisplayButtonID").attr("data-p_table_name");void 0===a&&(a=""),"Filter"!=String(e)&&"Sort"!=String(e)&&"Groupby"!=String(e)&&"Add Column"!=String(e)||$.ajax({url:`/users/${urlPath}/computationModule/`,data:{model_name:t,model_name_2:a,element_id:iid,operation:"merge_config"},type:"POST",dataType:"json",success:function(e){if(Object.keys(e).length>0)if("filter"===String(e.element_config.element_name)){let t=e.element_config,n=t.inputs.final_config;if(""!=n.groupby){let t=n.groupby,c=t.inputs.option_config;var i=c.condition;if(i.length>0){$("#filter-table_where_merge1").empty();for(var a=0;a<i.length;a++){v=i[a].column_name,S=i[a].condition,i_val=i[a].input_value,gVar=i[a].globalVariable;var r=e.form_fields_where[v];$("#filter-table_where_merge1").append(r);var o=$("#filter-table_where_merge1").find("tr").eq(-1).find('select[data-dropdown_purpose="select_global_variable"]').attr("data-type");let t=[];"text"===o?t=e.global_text_list:"number"===o?t=e.global_number_list:"date"===o?t=e.global_date_list.concat(e.global_datetime_list):"datetime-local"===o&&(t=e.global_datetime_list.concat(e.global_date_list));for(let e=0;e<t.length;e++){const n=t[e];$("#filter-table_where_merge1").find("tr").eq(-1).find('select[data-dropdown_purpose="select_global_variable"]').append(`<option value='${n}'>${n}</option>`)}S.endsWith(" AND")?(S=S.replace(" AND",""),$("#filter-table_where_merge1").find(`tr:nth-child(${a+1})`).find("td:nth-child(2) > div > select").val(S).trigger("change"),$("#filter-table_where_merge1").find(`tr:nth-child(${a+1})`).find("td:nth-child(3) > div > input").val(i_val).trigger("change"),$("#filter-table_where_merge1").find(`tr:nth-child(${a+1})`).find("td:nth-child(5) > div > select").val("AND").trigger("change")):S.endsWith(" OR")?(S=S.replace(" OR",""),$("#filter-table_where_merge1").find(`tr:nth-child(${a+1})`).find("td:nth-child(2) > div > select").val(S).trigger("change"),$("#filter-table_where_merge1").find(`tr:nth-child(${a+1})`).find("td:nth-child(3) > div > input").val(i_val).trigger("change"),$("#filter-table_where_merge1").find(`tr:nth-child(${a+1})`).find("td:nth-child(5) > div > select").val("OR").trigger("change")):($("#filter-table_where_merge1").find(`tr:nth-child(${a+1})`).find("td:nth-child(2) > div > select").val(S).trigger("change"),$("#filter-table_where_merge1").find(`tr:nth-child(${a+1})`).find("td:nth-child(3) > div > input").val(i_val).trigger("change")),$("#filter-table_where_merge1").find(`tr:nth-child(${a+1})`).find("td:nth-child(4) > div > select").val(gVar).trigger("change"),$("#filter-table_where_merge1:last-child").find("select").each(function(){$(this).select2()}),$(".remove_filter").on("click",l)}function l(){$(this).closest("tr").remove()}}}}else if("sort"===String(e.element_config.element_name)){let t=e.element_config,n=t.inputs.final_config;var c=n.sortby.sort,d=0;for(let[e,t]of Object.entries(c))$(`.sortField[value='${e}']`).trigger("click"),$(".sortType").eq(d).val(t).trigger("change"),d++}else if("groupby"===String(e.element_config.element_name)){let t=e.element_config,n=t.inputs.final_config;if(""!=n.groupby){let e=n.groupby,t=e.inputs.option_config;var s=t.aggregate_func,u=t.group_by;$(".Target_Column1").val(u).trigger("change"),$(".Target_Column1").val(u).trigger("select2:select");d=0;for(let[e,t]of Object.entries(s))$(`.groupAggField[value='${e}']`).trigger("click"),$(".aggfunc").eq(d).val(t).trigger("change"),d++}}else if("AddColumn"===String(e.element_config.element_name)){let i=e.element_config,c=i.inputs.final_config;if(""!=c.groupby){let i=c.groupby,d=i.inputs.option_config;var p=d.condition;$(".Target_Column1").val(p.new_column_name).trigger("change"),$(".Target_Column2").val(p.field_type).trigger("change"),$(".Target_Column2").val(p.field_type).trigger("select2:select"),$(".Target_Column3").val(p.add_type).trigger("change"),$("#filter-table_AddColumns").empty(),$("#filter-table_AddColumns").append('\n              <thead>\n                  <tr>\n                      <th>Condition Check Variable</th>\n                      <th>Condition*</th>\n                      <th>Condition Value*</th>\n                      <th>Set Global Variable</th>\n                      <th>Representative Value*</th>\n                      <th>Global Variable</th>\n                  </tr>\n              </thead>\n              <tbody id = "filter-table_addCol_body"></tbody>\n          ');var g=p.condition;if(g.length>0){var _=e.form_fields_addCondCol;for(a=0;a<g.length;a++){var v=g[a].column_name,S=g[a].condition,h=g[a].condition_value,y=g[a].globalVariable,w=g[a].repr_value.repr_value,b=g[a].repr_value.global_var;r=_[v];$("#filter-table_addCol_body").append(r);o=$("#filter-table_addCol_merge_body").find("tr").eq(-1).find('select[data-dropdown_purpose="select_global_variable"]').attr("data-type");let i=[];var D=e.global_datetime_list.concat(e.global_date_list,e.global_text_list,e.global_number_list);"text"===o?i=e.global_text_list:"number"===o?i=e.global_number_list:"date"===o?i=e.global_date_list.concat(e.global_datetime_list):"datetime-local"===o&&(i=e.global_datetime_list.concat(e.global_date_list));for(let e=0;e<i.length;e++){const t=i[e];$("#filter-table_addCol_body").find("tr").eq(-1).find('select[data-dropdown_purpose="select_global_variable"]').append(`<option value='${t}'>${t}</option>`)}for(let e=0;e<D.length;e++){const t=D[e];$("#filter-table_addCol_body").find("tr").eq(-1).find('select[data-dropdown_purpose="select_global_variable_input"]').append(`<option value='${t}'>${t}</option>`)}let c;if($("#filter-table_addCol_body").find(`tr:nth-child(${a+1})`).find(`select[name= ${v}]`).val(S).trigger("change"),$("#filter-table_addCol_body").find(`tr:nth-child(${a+1})`).find("td:nth-child(3) > div > input").val(h).trigger("change"),$("#filter-table_addCol_body").find(`tr:nth-child(${a+1})`).find('select[data-dropdown_purpose="select_global_variable"]').val(y).trigger("change"),$("#filter-table_addCol_body").find(`tr:nth-child(${a+1})`).find('select[data-dropdown_purpose="select_global_variable_input"]').val(b).trigger("change"),$("#filter-table_addCol_body").find(`tr:nth-child(${a+1})`).find("td:nth-child(5) > div > input").val(w).trigger("change"),$("#filter-table_addCol_body:last-child").find("select").each(function(){$(this).select2()}),$(".remove_filter").on("click",l),0===parseInt(n)){m=$("#dataElementParent").find("div").find("div");try{c=m[parseInt(n)].getAttribute("data-element_id")}catch(e){f=$(".ebFunctions").find("div").find("a"),c=f[parseInt(n-1)].getAttribute("data-element_id")}}else m=$(".ebFunctions").find("div").find("a"),c=m[parseInt(n-1)].getAttribute("data-element_id");$.ajax({url:`/users/${urlPath}/computationModule/`,data:{element_id:iid,model_name:t,parent_element_id_list:JSON.stringify({Data1:c}),req_data:c,operation:"addCondColDT_merge",type:$(".Target_Column3").val()},type:"POST",dataType:"json",success:function(e){function t(){$(this).closest("tr").remove()}var n=e.label_column;$("#AddColumnDropdown").empty();for(const[e,t]of Object.entries(n))$("#AddColumnDropdown").append('<li class="dropdown-item"><a href="javascript:void(0)" name='+e+' class="filter_btn_addColumn">'+t+"</a></li>");$("#filter-table_addCol_body").find("tr").find('select[data-dropdown_purpose="add_column"]').empty();for(const[e,t]of Object.entries(n))$("#filter-table_addCol_body").find("tr").each(function(){$(this).find('select[data-dropdown_purpose="add_column"]').append(`<option value='${t}'>${t}</option>`)});for(let e=0;e<d.condition.condition.length;e++)reprValue2=g[e].repr_value.repr_value,"static_add"==d.condition.add_type?$("#filter-table_AddColumns").find("tr").eq(-1).find("input").eq(1).val(reprValue2).trigger("change"):$("#filter-table_AddColumns").find(`tr:nth-child(${e+1})`).find('select[data-dropdown_purpose="add_column"]').val(reprValue2).trigger("change");$(".filter_btn_addColumn").click(function(){var i=$(this).attr("name"),a=($(this).text(),e.form_fields[i]);$("#filter-table_addCol_body").append(a);var r=$("#filter-table_addCol_body").find("tr").eq(-1).find('select[data-dropdown_purpose="select_global_variable"]').attr("data-type");let o=[];var l=e.global_datetime_list.concat(e.global_date_list,e.global_text_list,e.global_number_list);"text"===r?o=e.global_text_list:"number"===r?o=e.global_number_list:"date"===r?o=e.global_datetime_list.concat(e.global_date_list):"datetime-local"===r&&(o=e.global_datetime_list.concat(e.global_date_list));for(let e=0;e<o.length;e++){const t=o[e];$("#filter-table_addCol_body").find("tr").eq(-1).find('select[data-dropdown_purpose="select_global_variable"]').append(`<option value='${t}'>${t}</option>`)}for(let e=0;e<l.length;e++){const t=l[e];$("#filter-table_addCol_body").find("tr").eq(-1).find('select[data-dropdown_purpose="select_global_variable_input"]').append(`<option value='${t}'>${t}</option>`)}$("#filter-table_addCol_body:last-child").find("select").each(function(){$(this).select2()}),$("#filter-table_addCol_body").find("tr").each(function(){$(this).find('select[data-dropdown_purpose="select_global_variable"]').off("select2:select").on("select2:select",function(){$(this).closest("tr").find("input").eq(0).val("").trigger("change")})});for(const[e,t]of Object.entries(n))$("#filter-table_addCol_body").find("tr").eq(-1).find('select[data-dropdown_purpose="add_column"]').append(`<option value='${t}'>${t}</option>`);$(".remove_filter").on("click",t)})},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}function l(){$(this).closest("tr").remove()}}else $("#filter-table_addCol_body").empty()}}},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})},300)},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})},displayTables=e=>{const t=e.map(e=>`\n            <div onClick="selectTable('${e}')" class="tableItem btn-xs btn">\n                <p style="margin-bottom:0">${e}</p>\n            </div>\n        `).join("");tableList.innerHTML=t},deleteElement=e=>{const t=$(e).parent().index()-1;$("#stepNumsEb").find(".stepNumberEB").eq(t).remove(),$(".ebFunctions").find("div").eq(t).remove(),$("#dataElementParent").find(".ebDataElementsDiv").eq(t).remove(),$("#functionPreviews").find("div").eq(t).remove(),counter-=1,displayPreviews(),displayCharacters(funcDic),displayFav(favFunctionList),"1"===String(counter)?$(".ebFunctions").find("div").eq(counter-1).find("span").css("display","block"):($(".ebFunctions").find("div").eq(counter-1).find("span").css("display","block"),$(".ebFunctions").find("div").eq(counter-2).find("span").css("display","none"))},displayCharacters=e=>{const t=1e12,n=9999999999999;let i="";const a="applyMathOps"+(Math.floor(Math.random()*(n-t+1))+t).toString(),r="mergeAndJoin"+(Math.floor(Math.random()*(n-t+1))+t).toString(),o="renameColumn"+(Math.floor(Math.random()*(n-t+1))+t).toString(),l="pivotAndTranspose"+(Math.floor(Math.random()*(n-t+1))+t).toString(),c="concatColumn"+(Math.floor(Math.random()*(n-t+1))+t).toString();let d;d=void 0===$("#tname").val()&&0==listViewComp?"comp":"datamgm";const s=e.map(e=>(i="Column division"!==String(e.name)&&"Row division"!==String(e.name)||"datamgm"!==String(d)?"Column multiplication"!==String(e.name)&&"Row multiplication"!==String(e.name)||"datamgm"!==String(d)?"Column subtraction"!==String(e.name)&&"Row subtraction"!==String(e.name)||"datamgm"!==String(d)?"Column sum"!==String(e.name)&&"Row sum"!==String(e.name)||"datamgm"!==String(d)?"Square root"===String(e.name)&&"datamgm"===String(d)?"fas fa-square-root-alt":"Inner Join"!==String(e.name)&&"Left Join"!==String(e.name)&&"Right Join"!==String(e.name)&&"Outer Join"!==String(e.name)&&"Append and Concatenate"!==String(e.name)||"datamgm"!==String(d)?"Round"===String(e.name)&&"datamgm"===String(d)?"far fa-circle":"fas fa-thumbs-up":"fas fa-coins":"fas fa-plus":"fas fa-minus":"fas fa-times":"fas fa-divide",
"datamgm"===String(d)?"Left Join"===String(e.name)||"Right Join"===String(e.name)||"Inner Join"===String(e.name)||"Outer Join"===String(e.name)||"Append and Concatenate"===String(e.name)||"Filter"===String(e.name)||"Add Column"===String(e.name)||"Sort"===String(e.name)||"Groupby"===String(e.name)?`\n                <div class="function draggable" draggable="true">\n                    <h2>${e.name}</h2>\n                    <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="${i}"></i></h3>\n                    <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${r}" data-element_comp="${d}"  onClick="popupOpen();takeFuncInput('${e.name}','${r}','${indexCount}',this)">&#11167;</a>\n                    <span title="delete" style="display:none;" class="deleteitem" data-element_id="${r}" data-element_comp="${d}"  onClick="deleteElement(this)">&#10006;</span>\n                </div>\n            `:"Round"===String(e.name)?`\n                    <div class="function draggable" draggable="true">\n                        <h2>${e.name}</h2>\n                        <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}>oO</h3>\n                        <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${a}" data-element_comp="${d}" onClick="popupOpen();takeFuncInput('${e.name}','${a}','${indexCount}',this)">&#11167;</a>\n                        <span title="delete" style="display:none;" class="deleteitem" data-element_id="${a}" data-element_comp="${d}"  onClick="deleteElement(this)">&#10006;</span>\n                    </div>\n                `:"Log"===String(e.name)?`\n                    <div class="function draggable" draggable="true">\n                        <h2>${e.name}</h2>\n                        <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}>&#13266;</h3>\n                        <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${a}" data-element_comp="${d}" onClick="popupOpen();takeFuncInput('${e.name}','${a}','${indexCount}',this)">&#11167;</a>\n                        <span title="delete" style="display:none;" class="deleteitem" data-element_id="${a}" data-element_comp="${d}"  onClick="deleteElement(this)">&#10006;</span>\n                    </div>\n                `:"Rename and Drop"===String(e.name)?`\n                    <div class="function draggable" draggable="true">\n                        <h2>${e.name}</h2>\n                        <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}>&#13266;</h3>\n                        <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${o}" data-element_comp="${d}" onClick="popupOpen();takeFuncInput('${e.name}','${o}','${indexCount}',this)">&#11167;</a>\n                        <span title="delete" style="display:none;" class="deleteitem" data-element_id="${o}" data-element_comp="${d}"  onClick="deleteElement(this)">&#10006;</span>\n                    </div>\n                `:"Pivot"===String(e.name)||"Unpivot"===String(e.name)?`\n                    <div class="function draggable" draggable="true">\n                        <h2>${e.name}</h2>\n                        <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}>&#13266;</h3>\n                        <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${l}" data-element_comp="${d}" onClick="popupOpen();takeFuncInput('${e.name}','${l}','${indexCount}',this)">&#11167;</a>\n                        <span title="delete" style="display:none;" class="deleteitem" data-element_id="${l}" data-element_comp="${d}"  onClick="deleteElement(this)">&#10006;</span>\n                    </div>\n                `:"Concat Columns"===String(e.name)?`\n                    <div class="function draggable" draggable="true">\n                        <h2>${e.name}</h2>\n                        <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}>&#13266;</h3>\n                        <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${c}" data-element_comp="${d}" onClick="popupOpen();takeFuncInput('${e.name}','${c}','${indexCount}',this)">&#11167;</a>\n                        <span title="delete" style="display:none;" class="deleteitem" data-element_id="${c}" data-element_comp="${d}"  onClick="deleteElement(this)">&#10006;</span>\n                    </div>\n                `:`\n                <div class="function draggable" draggable="true">\n                    <h2>${e.name}</h2>\n                    <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="${i}"></i></h3>\n                    <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${a}" data-element_comp="${d}" onClick="popupOpen();takeFuncInput('${e.name}','${a}','${indexCount}',this)">&#11167;</a>\n                    <span title="delete" style="display:none;" class="deleteitem" data-element_id="${a}" data-element_comp="${d}"  onClick="deleteElement(this)">&#10006;</span>\n                </div>\n            `:"Left Join"===String(e.name)||"Right Join"===String(e.name)||"Inner Join"===String(e.name)||"Outer Join"===String(e.name)||"Append and Concatenate"===String(e.name)||"Filter"===String(e.name)||"Add Column"===String(e.name)||"Sort"===String(e.name)||"Groupby"===String(e.name)?`\n                <div class="function draggable" draggable="true">\n                    <h2>${e.name}</h2>\n                    <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="${i}"></i></h3>\n                    <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${r}" data-element_comp="${d}"  onClick="popupOpen();takeFuncInput('${e.name}','${r}','${indexCount}',this)">&#11167;</a>\n                    <span title="delete" style="display:none;" class="deleteitem" data-element_id="${r}" data-element_comp="${d}"  onClick="deleteElement(this)">&#10006;</span>\n                </div>\n            `:"Rename and Drop"===String(e.name)?`\n                    <div class="function draggable" draggable="true">\n                        <h2>${e.name}</h2>\n                        <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="${i}"></i></h3>\n                        <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${o}" data-element_comp="${d}" onClick="popupOpen();takeFuncInput('${e.name}','${o}','${indexCount}',this)">&#11167;</a>\n                        <span title="delete" style="display:none;" class="deleteitem" data-element_id="${o}" data-element_comp="${d}"  onClick="deleteElement(this)">&#10006;</span>\n                    </div>\n                `:"Pivot"===String(e.name)||"Unpivot"===String(e.name)?`\n                    <div class="function draggable" draggable="true">\n                        <h2>${e.name}</h2>\n                        <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="${i}"></i></h3>\n                        <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${l}" data-element_comp="${d}" onClick="popupOpen();takeFuncInput('${e.name}','${l}','${indexCount}',this)">&#11167;</a>\n                        <span title="delete" style="display:none;" class="deleteitem" data-element_id="${l}" data-element_comp="${d}"  onClick="deleteElement(this)">&#10006;</span>\n                      </div>\n                `:"Concat Columns"===String(e.name)?`\n                    <div class="function draggable" draggable="true">\n                        <h2>${e.name}</h2>\n                        <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="${i}"></i></h3>\n                        <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${c}" data-element_comp="${d}" onClick="popupOpen();takeFuncInput('${e.name}','${c}','${indexCount}',this)">&#11167;</a>\n                        <span title="delete" style="display:none;" class="deleteitem" data-element_id="${c}" data-element_comp="${d}"  onClick="deleteElement(this)">&#10006;</span>\n                    </div>\n                `:`\n                <div class="function draggable" draggable="true">\n                    <h2>${e.name}</h2>\n                    <h3 class="heartIcon" onClick="addToFav('${e.name}' )" value=${e.name}><i class="${i}"></i></h3>\n                    <a title="configure" href="#"  name="Open" class="EBhide EbOverlay" id="open-overlay" data-element_id="${a}" data-element_comp="${d}" onClick="popupOpen();takeFuncInput('${e.name}','${a}','${indexCount}',this)">&#11167;</a>\n                    <span title="delete" style="display:none;" class="deleteitem" data-element_id="${a}" data-element_comp="${d}"  onClick="deleteElement(this)">&#10006;</span>\n                </div>\n            `)).join("");functionsList.innerHTML=s,draggables=document.querySelectorAll(".draggable"),draggables.forEach(t=>{t.addEventListener("dragstart",e=>{t.classList.add("dragging")}),t.addEventListener("dragend",n=>{t.classList.remove("dragging"),displayPreviews(),displayCharacters(e),displayFav(favFunctionList)})})},dragAreas=document.querySelectorAll(".dragAreaPossible");dragAreas.forEach(e=>{e.addEventListener("dragover",t=>{t.preventDefault();const n=getDragAfterElement(e,t.clientY),i=document.querySelector(".dragging");null==n?(e.appendChild(i),e.querySelector(".EbOverlay")&&(e.querySelector(".EbOverlay").className="EBshow"),e.querySelector(".heartIcon")&&(e.querySelector(".heartIcon").className="EBhide"),e.querySelector(".RemoveIcon")&&(e.querySelector(".RemoveIcon").className="EBhide")):(e.insertBefore(i,n),e.querySelector(".EbOverlay")&&(e.querySelector(".EbOverlay").className="EBshow"),e.querySelector(".heartIcon")&&(e.querySelector(".heartIcon").className="EBhide"),e.querySelector(".RemoveIcon")&&(e.querySelector(".RemoveIcon").className="EBhide"))})});