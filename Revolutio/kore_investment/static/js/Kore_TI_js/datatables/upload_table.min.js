function masterUploadFunc(elementTableIdList){for(const i in elementTableIdList){const elementIdUpload=elementTableIdList[i];$(`#uploadButton2${elementIdUpload}`).off("click").on("click",funcUpload2),$(`#uploadButtonBU${elementIdUpload}`).off("click").on("click",funcUploadBU),$(`#uploadButton${elementIdUpload}`).off("click").on("click",funcUpload),$(`#downloadButton${elementIdUpload}`).off("click").on("click",funcDownload)}function funcDownload(){const elementTabID=$(this).attr("data-elementID"),dataForm=new FormData($(`form[data-form-id=uploadfileform${elementTabID}]`)[0]);let prCodeU=$(`form[data-form-id=uploadfileform${elementTabID}]`).attr("pr_code");dataForm.append("listOrDelete","downloadFormat"),dataForm.append("modelName",$("#downloadButton"+elementTabID).attr("data-modelName"));let view_name="";temp_type=$(`#${elementTabID}_tab_content`).attr("data-template-type"),"Multi Dropdown View"==temp_type&&(view_name=$(`#tableTab${elementTabID}`).find("select").val()),dataForm.append("view_name",view_name),$.ajax({url:"/users/"+urlPath+"/"+prCodeU+"/",data:dataForm,contentType:!1,cache:!1,async:!1,processData:!1,type:"POST",dataType:"json",success:function(data){},error:function(err){}})}function funcUpload(){const elementTabID=$(this).attr("data-elementID");$(`#popup${elementTabID}`).modal("show"),$(`#uploadFile${elementTabID}`).on("change",(function(){void 0!==$(`#uploadFile${elementTabID}`)[0].files[0]&&($(`#uploadButton2${elementTabID}`).prop("disabled",!1),$(".columnMapperButton").prop("disabled",!1))}))}function funcUpload2(){const elementTabID=$(this).attr("data-elementID");$(`#popup${elementTabID}`).modal("hide"),$(`#validations_in_progress${elementTabID}`).addClass("show"),setTimeout(()=>{if($(`#validations_in_progress${elementTabID}`).hasClass("show")){$("body").css("pointer-events","none");const dataForm=new FormData($(`form[data-form-id=uploadfileform${elementTabID}]`)[0]);let prCodeU=$(`form[data-form-id=uploadfileform${elementTabID}]`).attr("pr_code");dataForm.append("listOrDelete","U");let view_name="",errorIndicator;temp_type=$(`#${elementTabID}_tab_content`).attr("data-template-type"),"Multi Dropdown View"==temp_type&&(view_name=$(`#tableTab${elementTabID}`).find("select").val()),dataForm.append("view_name",view_name),0===0&&$.ajax({url:"/users/"+urlPath+"/"+prCodeU+"/",data:dataForm,contentType:!1,cache:!1,async:!1,processData:!1,type:"POST",dataType:"json",success:function(data){if(Object.prototype.hasOwnProperty.call(data,"job_id"))if("not_queued"!==data.job_id){$("body").css("pointer-events","auto"),$(`#validations_in_progress${elementTabID}`).removeClass("show"),Swal.fire({icon:"success",text:"Validations successful! Uploading in progress...\n You may continue with other tasks. You`ll be notified via the notification bell on successful upload."});let jobId=data.job_id,websocketUrlPrefix="ws://",jobConnection;"https:"===windowLocationAttr.protocol&&(websocketUrlPrefix="wss://"),new WebSocket(websocketUrlPrefix+windowLocationAttr.host+`/ws/queued_upload_output/${jobId}/`).onmessage=function(event){let data1;"done"===JSON.parse(event.data).message&&windowLocationAttr.reload()}}else windowLocationAttr.reload();else windowLocationAttr.reload()},error(){}})}},1e3)}function funcUploadBU(){const elementTabID=$(this).attr("data-elementid"),dataForm=new FormData($(`form[data-form-id=uploadfileform123${elementTabID}]`)[0]);let prCodeU=$(`form[data-form-id=uploadfileform123${elementTabID}]`).attr("pr_code");dataForm.append("listOrDelete","BU");let identifier_cols=JSON.stringify($(`#bulkupdate_iden_${elementTabID}`).val());dataForm.append("identifier_cols",identifier_cols);let update_cols=JSON.stringify($(`#bulkupdate_cols_${elementTabID}`).val());dataForm.append("update_cols",update_cols);let view_name="";temp_type=$(`#${elementTabID}_tab_content`).attr("data-template-type"),"Multi Dropdown View"==temp_type&&(view_name=$(`#tableTab${elementTabID}`).find("select").val()),dataForm.append("view_name",view_name);let errorIndicator=0;$.ajax({url:`/users/${urlPath}/DataManagement/`,data:{element_id:elementTabID.split("__tab__")[0],operation:"fetch_list_view_msgs",messages:JSON.stringify(["choose_file_bulk_update_message","choose_identifiers_bulk_update_message","select_columns_bulk_update_message"]),view_name:view_name},type:"POST",dataType:"json",success:function(data){void 0===$(`#uploadFileBulkUpdate${elementTabID}`)[0].files[0]&&(message="",icon="",data.choose_file_bulk_update_message&&(message=data.choose_file_bulk_update_message.message,icon=data.choose_file_bulk_update_message.icon),iconHtml="",icon&&(iconHtml=`<i class="${icon}" style="border: 0 !important;"></i>`),Swal.fire({icon:"warning",iconHtml:iconHtml,text:message||"Please choose a file to upload."}),errorIndicator+=1),0==$(`#bulkupdate_iden_${elementTabID}`).val().length&&(message="",icon="",data.choose_identifiers_bulk_update_message&&(message=data.choose_identifiers_bulk_update_message.message,icon=data.choose_identifiers_bulk_update_message.icon),iconHtml="",icon&&(iconHtml=`<i class="${icon}" style="border: 0 !important;"></i>`),Swal.fire({icon:"warning",iconHtml:iconHtml,text:message||"Please select identifier columns."}),errorIndicator+=1),0==$(`#bulkupdate_cols_${elementTabID}`).val().length&&(message="",icon="",data.select_columns_bulk_update_message&&(message=data.select_columns_bulk_update_message.message,icon=data.select_columns_bulk_update_message.icon),iconHtml="",icon&&(iconHtml=`<i class="${icon}" style="border: 0 !important;"></i>`),Swal.fire({icon:"warning",iconHtml:iconHtml,text:message||"Please select columns to update"}),errorIndicator+=1),0===errorIndicator&&($.ajax({url:"/users/"+urlPath+"/"+prCodeU+"/",data:dataForm,contentType:!1,cache:!1,async:!1,processData:!1,type:"POST",dataType:"json",success:function(data){"custom"==data.error?(iconHtml=`<i class="${data.output_icon}" style="border: 0 !important;"></i>`,Swal.fire({icon:"success",iconHtml:iconHtml,text:data.output_msg,confirmButtonText:"OK",denyButtonText:"No"}).then(result=>{result.isConfirmed&&windowLocationAttr.reload()})):("yes"==data.error?(icon_swal="error",text_msg=data.output_msg):(icon_swal="success",text_msg=data.output_msg),Swal.fire({icon:icon_swal,title:text_msg,showDenyButton:!1,showCancelButton:!1,confirmButtonText:"OK",denyButtonText:"No"}).then(result=>{result.isConfirmed&&"success"==icon_swal&&windowLocationAttr.reload()}))},error(){}}),$(`#bulkupdate_data_modal_${elementTabID}`).modal("hide"))},error:function(){Swal.fire({icon:"error",text:"Error! Please try again."})}})}window.onclick=function(event){"popup"===event.target.id&&(popup.style.display="none")},window.onkeyup=function(event){27===event.keyCode&&(popup.style.display="none")}}