
     <script>
      function cases(cases_,element_id) {
          var check_case = 0
          $("#createview"+element_id).find("input[data-cases], select[data-cases], textarea[data-cases]").each(function(){
            case_attr = JSON.parse($(this).attr("data-cases"))
            for(let i_ = 0; i_ < cases_.length; i_++) {
              if(case_attr.hasOwnProperty(cases_[i_])){
                var val_ = $("id_"+case_attr[cases_[i_]]["column"]+"_"+element_id).val()
                if(case_attr[cases_[i_]]["condition"] == "Equal to"){
                  if($("#id_"+case_attr[cases_[i_]]["column"]+"_"+element_id).val() == case_attr[cases_[i_]]["value"]){
                    check_case = check_case + 1
                  }
                } else if(case_attr[cases_[i_]]["condition"] == "Not Equal to"){
                  if($("#id_"+case_attr[cases_[i_]]["column"]+"_"+element_id).val() != case_attr[cases_[i_]]["value"]){
                    check_case = check_case + 1
                  }
                } else if(case_attr[cases_[i_]]["condition"] == "Greater than"){
                  if(case_attr[cases_[i_]]["data_type"] == "DateField" || case_attr[cases_[i_]]["data_type"] == "DateTimeField"){
                    var date1_ = new Date($("#id_"+case_attr[cases_[i_]]["column"]+"_"+element_id).val())
                    var date2_ = new Date(case_attr[cases_[i_]]["value"])
                    if(date1_ > date2_){
                      check_case = check_case + 1
                    }
                  }else{
                    if(parseFloat($("#id_"+case_attr[cases_[i_]]["column"]+"_"+element_id).val()) > parseFloat(case_attr[cases_[i_]]["value"])){
                      check_case = check_case + 1
                    }
                  }
                } else if(case_attr[cases_[i_]]["condition"] == "Smaller than"){
                  if(case_attr[cases_[i_]]["data_type"] == "DateField" || case_attr[cases_[i_]]["data_type"] == "DateTimeField"){
                    var date1_ = new Date($("#id_"+case_attr[cases_[i_]]["column"]+"_"+element_id).val())
                    var date2_ = new Date(case_attr[cases_[i_]]["value"])
                    if(date1_ < date2_){
                      check_case = check_case + 1
                    }
                  }else{
                    if(parseFloat($("#id_"+case_attr[cases_[i_]]["column"]+"_"+element_id).val()) < parseFloat(case_attr[cases_[i_]]["value"])){
                      check_case = check_case + 1
                    }
                  }
                } else if(case_attr[cases_[i_]]["condition"] == "In"){
                  if(case_attr[cases_[i_]]["data_type"] == "DateField" || case_attr[cases_[i_]]["data_type"] == "DateTimeField"){
                    var identifier_ = false
                    for(let l = 0; l < case_attr[cases_[i_]]["value"].length; l++){
                      var date1_ = new Date($("#id_"+case_attr[cases_[i_]]["column"]+"_"+element_id).val())
                      var date2_ = new Date(case_attr[cases_[i_]]["value"][l])
                      if(String(date1_) == String(date2_)){
                        identifier_ = true;
                        break;
                      }
                    }
                    if(identifier_){
                      check_case = check_case + 1
                    }
                  } else{
                    if(case_attr[cases_[i_]]["value"].includes($("#id_"+case_attr[cases_[i_]]["column"]+"_"+element_id).val())){
                      check_case = check_case + 1
                    }
                  }
                } else if(case_attr[cases_[i_]]["condition"] == "Not In"){
                  if(case_attr[cases_[i_]]["data_type"] == "DateField" || case_attr[cases_[i_]]["data_type"] == "DateTimeField"){
                    var identifier_ = false
                    for(let l = 0; l < case_attr[cases_[i_]]["value"].length; l++){
                      var date1_ = new Date($("#id_"+case_attr[cases_[i_]]["column"]+"_"+element_id).val())
                      var date2_ = new Date(case_attr[cases_[i_]]["value"][l])
                      if(String(date1_) != String(date2_)){
                        identifier_ = true;
                        break;
                      }
                    }
                    if(identifier_){
                      check_case = check_case + 1
                    }
                  } else{
                    if(!case_attr[cases_[i_]]["value"].includes($("#id_"+case_attr[cases_[i_]]["column"]+"_"+element_id).val())){
                      check_case = check_case + 1
                    }
                  }
                }
              }
            }
          })
          if(cases_ == undefined){
            return false
          }
          if(check_case == cases_.length) {
            return true
          } else {
            return false
          }

        }

      function InOperationTag(){

      }

      $(document).ready(function() {
      $('.form-row').find('select').on('change',function() {
        $(this).parent().find('input').val($(this).val()).trigger('change');
      });
      $('#ckEditorModal').on('shown.bs.modal', function() {
          $(document).off('focusin.modal');
      });

      var f_data = {}
      var globalVariableID = []
      populateFK();
      $('.gVarDropDown').each(function() {
        var id = $(this).closest('.form-row').attr('data-parent_element_id');
        globalVariableID.push(id);
      })
      $.ajax({
        url:'/users/dynamicVal/',
          data: {
            'operation':'popuplateGlobalVariable',
            'element_id_list': JSON.stringify(globalVariableID),
          },
          type: 'POST',
          dataType: "json",
          success: function (data) {
            $('.gVarDropDown').each(function() {
              var idGV = $(this).attr('name').split('gVar_')[1];
              var listGV = data[idGV]
              $(this).find('select').empty();
              for(let i = 0; i < listGV.length; i++) {
                $(this).find('select').append(`<option value="${listGV[i]}">${listGV[i]}</option>`);
              }
            })
          },
          error: ()=>{
              alert("Error");
          }
        });
        $('.form-row').find('input, select, textarea').each(function() {
         jsFunc_.call(this);
        })

    })
    function jsChange() {
          var a = $(this).attr('data-jsattr')
          if(a) {
            var element_id1 = $(this).attr('id').split('whiteSpacewrap')[1]
            element_id1 = 'whiteSpacewrap'+element_id1
            $('#savebutton_'+ element_id1).prop('disabled',false);
            a = JSON.parse(a);
            for(let key = 0; key < a.length; key++) {
              if(!a[key].hasOwnProperty("cases")){
                a[key]["cases"] = []
              }
              var masterTable
              var masterCol
              var correspondingCol
              var element_id = $(this).attr('id').split('whiteSpacewrap')[1]
              element_id = 'whiteSpacewrap'+element_id
              if(a[key]['parentvalue'] == "Auto-populate") {
                masterTable = a[key]['finaljsattr'][1][0]['value']
                masterCol = a[key]['finaljsattr'][2][0]['value']
                correspondingCol = a[key]['finaljsattr'][0][0]['value']['depMapper']
                copy_class_to_apply = ""
                paste_class_to_apply = ""
                if(cases(a[key]['cases'],element_id)) {
                  for(let i = 0; i < correspondingCol.length; i++) {
                    $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id).css('display','none');
                    let placeholder = $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id).attr("placeholder")
                    $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id+'_').remove()
                    if ($('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id).hasClass("copy_class_to_apply")){
                      copy_class_to_apply = "copy_class_to_apply"
                    }
                    if ($('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id).hasClass("paste_class_to_apply")){
                      paste_class_to_apply = "paste_class_to_apply"
                    }
                    $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id).parent().append(`<input type="text" maxlength="256" id="${'id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id+'_'}" datatype="CharField"  class="textinput textInput form-control ${copy_class_to_apply} ${paste_class_to_apply}">`)
                    $('.copy_class_to_apply').bind({
                      copy : function(){
                        return false
                      }
                    });

                    $('.paste_class_to_apply').bind({
                      paste : function(){
                        return false
                      }
                    });
                    $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id+'_').prop('disabled','true');
                    $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id+'_').attr('placeholder',placeholder);
                  }
                  autopopulate.call(this,a,key,element_id)
                } else {
                  for(let i = 0; i < correspondingCol.length; i++) {
                    $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id).css('display','block');
                    $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id).val('').trigger("change");
                    $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id+'_').css('display','none');
                  }
                }
              } if(a[key]['parentvalue'] == "Cascading") {
                if(cases(a[key]['cases'],element_id)) {
                  cascadingJs.call(this,a,key,element_id)
                }
              } if(a[key]['parentvalue'] == "Show-hide" || a[key]['parentvalue'] == "Show-hide_link" || a[key]['parentvalue'] == "Styling attribute") {
                b1 = a[key]['finaljsattr'][2][0]["value"];
                if (a[key]['parentvalue'] == "Styling attribute") {
                  if(b1['styleValidation'].length > 0) {
                    b1 = b1['styleValidation']
                  } else {
                    b1 = []
                  }
                } else {
                  b1 = a[key]['finaljsattr'][2][0]["value"];
                }
                for(let i = 0; i < b1.length; i++) {
                  var b = b1[i];
                  var element_id = $(this).attr('id').split('whiteSpacewrap')[1]
                  element_id = 'whiteSpacewrap'+element_id
                  if(b['condition'] == 'In') {
                    if(cases(a[key]['cases'],"whiteSpacewrap"+$(this).attr("id").split('whiteSpacewrap')[1])){
                      if(b['value'].includes($(this).val())) {
                        commonFieldTrue(b,element_id)
                      } else {
                      }
                    } else{
                   }
                  } else if (b['condition'] == 'Equal to') {
                    if(cases(a[key]['cases'],"whiteSpacewrap"+$(this).attr("id").split('whiteSpacewrap')[1])){
                      if($(this).val() == b['value']) {
                        commonFieldTrue(b,element_id)
                      } else {
                        commonFieldFalse('Equal to',b1,element_id);
                      }
                    } else {
                      commonFieldFalse("Equal to",b1,true,element_id)
                    }
                  } else if (b['condition'] == 'Greater then') {
                    var date
                    var date1
                    if ($(this).attr('type') == "date") {
                      date = new Date($(this).val())
                      if(b["value"].includes("-")) {
                        date1 = new Date(b['value'])
                      } else {
                        date1 = new Date("01-01-2299")
                      }
                    } else {
                      date = parseInt($(this).val())
                      date1 = parseInt(b['value'])
                    }
                    if(cases(a[key]['cases'],"whiteSpacewrap"+$(this).attr("id").split('whiteSpacewrap')[1])){
                      if(date > date1) {
                        commonFieldTrue(b,element_id)
                      } else {
                        commonFieldFalse('Greater then',b1,element_id);
                      }
                    } else{
                      commonFieldFalse("Greater then",b1,element_id,true)
                    }
                  } else if (b['condition'] == 'Smaller then') {
                    var date
                    var date1
                    if ($(this).attr('type') == "date") {
                      date = new Date($(this).val())
                      if(b["value"].includes("-")) {
                        date1 = new Date(b['value'])
                      } else {
                        date1 = new Date("01-01-1000")
                      }
                    } else {
                      date = parseInt($(this).val())
                      date1 = parseInt(b['value'])
                    }
                    if(cases(a[key]['cases'],"whiteSpacewrap"+$(this).attr("id").split('whiteSpacewrap')[1])){
                      if(date < date1) {
                        commonFieldTrue(b,element_id)
                      } else {
                        commonFieldFalse('Smaller then',b1,element_id);
                      }
                    } else {
                      commonFieldFalse("Smaller then",b1,element_id,true)
                    }
                  }
                  function commonFieldFalse(condition,val,element_id,cases_=false) {
                        var b = val
                        if(b) {
                          var b1 = b;
                          for(let i1 = 0; i1 < b1.length; i1++) {
                            var b = b1[i1]
                            for(let i = 0; i < b['selectedColumn'].length; i++) {
                              if(!($('#id_'+b['selectedColumn'][i]+'_'+element_id).prop('required'))) {
                                if(! b.hasOwnProperty('color')){
                                  if(!cases_){
                                    $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().parent().parent().css('display','none')
                                  } else {
                                    $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().parent().parent().css('display','block')
                                  }
                                }
                              }
                              if(b['selectedColumn'][i].includes("__cbbutton") || button_ids.includes(b['selectedColumn'][i])){
                                if(! b.hasOwnProperty('color')){
                                  if(!cases_){
                                    $('#'+b['selectedColumn'][i]+element_id).css('display','none')
                                  } else {
                                    $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('display','inline-block')
                                  }
                                }
                              }
                              if(b.hasOwnProperty('color')){
                                if(b['selectedColumn'][i].includes("__cbbutton") || button_ids.includes(b['selectedColumn'][i])){
                                  $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);

                                  $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`);
                                  $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`);
                                  if($('#'+b['selectedColumn'][i]+element_id).hasClass('select2')){
                                    $('#'+b['selectedColumn'][i]+element_id).parent().find('.select2-selection').css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                  }
                                  $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`)
                                  if($('#'+b['selectedColumn'][i]+element_id).attr('type') == 'file' || $('#'+b['selectedColumn'][i]+element_id) == 'image'){
                                    $('#'+b['selectedColumn'][i]+element_id).parent().find('label').css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                  }
                                } else {
                                  $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('background-color','transparent');

                                  $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('border-radius',`0px`);
                                  $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('border-radius',`0px`);
                                  if($('#id_'+b['selectedColumn'][i]+'_'+element_id).hasClass('select2')){
                                    $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().find('.select2-selection').css('background-color',`transparent`);
                                  }
                                  $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('background-color','transparent')
                                  if($('#id_'+b['selectedColumn'][i]+'_'+element_id).attr('type') == 'file' || $('#id_'+b['selectedColumn'][i]+'_'+element_id) == 'image'){
                                    $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().find('label').css('background-color',`transparent`);
                                  }
                                }
                              }
                            }
                          }
                        }
                    $('#createview'+element_id).find('input, select').each(function() {
                      var c = $(this).attr('data-jsattr')
                      if(c) {
                        c = JSON.parse(c);
                        for(let keyc = 0; keyc < c.length; keyc++) {
                          if (c[keyc]['parentvalue'] == "Show-hide"  || c[keyc]['parentvalue'] == "Show-hide_link" || c[keyc]['parentvalue'] == "Styling attribute") {
                            if((c[keyc]['cases'],"whiteSpacewrap"+$(this).attr("id").split('whiteSpacewrap')[1])){
                              c1 = c[keyc]['finaljsattr'][2][0]["value"];
                              if (c[keyc]['parentvalue'] == "Styling attribute") {
                                if(c1['styleValidation'].length > 0) {
                                  c1 = c1['styleValidation']
                                } else {
                                  c1 = []
                                }
                              } else {
                                c1 = c[keyc]['finaljsattr'][2][0]["value"];
                              }
                              for(let i1 = 0; i1 < c1.length; i1++) {
                                var b = c1[i1]
                                if(b['condition'] == 'In') {
                                  var ele_id = $(this).attr('id').split('whiteSpacewrap')[1]
                                  ele_id = 'whiteSpacewrap'+ele_id
                                    if(b['value'].includes($(this).val()) ) {
                                      for(let i = 0; i < b['selectedColumn'].length; i++) {
                                        if(ele_id == element_id) {
                                          if(b['selectedColumn'][i].includes("__cbbutton") || button_ids.includes(b['selectedColumn'][i])){
                                            if(c1[i1].hasOwnProperty('color')) {
                                              $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${c1[i1]['color']}`);
                                              if($('#'+b['selectedColumn'][i]+element_id).hasClass('select2')){
                                                $('#'+b['selectedColumn'][i]+element_id).parent().find('.select2-selection').css('background-color',`${c1[i1]['color']}`);
                                              }
                                              $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${c1[i1]['color']}`)
                                              $('#'+b['selectedColumn'][i]+element_id).parent().css('border-radius',`5px`);
                                              $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`);
                                            } else {
                                              $('#'+b['selectedColumn'][i]+element_id).css('display','block');
                                              $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                              if($('#'+b['selectedColumn'][i]+element_id).hasClass('select2')){
                                                $('#'+b['selectedColumn'][i]+element_id).parent().find('.select2-selection').css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                              }
                                              $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                              if($('#'+b['selectedColumn'][i]+element_id).attr('type') == 'file' || $('#'+b['selectedColumn'][i]+element_id) == 'image'){
                                                $('#'+b['selectedColumn'][i]+element_id).parent().find('label').css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                              }
                                              $('#'+b['selectedColumn'][i]+element_id).parent().css('border-radius',`5px`);
                                              $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`);
                                            }
                                          } else {
                                            if(c1[i1].hasOwnProperty('color')) {
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('background-color',`${c1[i1]['color']}`);
                                              if($('#id_'+b['selectedColumn'][i]+'_'+element_id).hasClass('select2')){
                                                $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().find('.select2-selection').css('background-color',`${c1[i1]['color']}`);
                                              }
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('background-color',`${c1[i1]['color']}`)
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('border-radius',`5px`);
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('border-radius',`5px`);
                                            } else {
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().parent().parent().css('display','block');
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('background-color',`transparent`);
                                              if($('#id_'+b['selectedColumn'][i]+'_'+element_id).hasClass('select2')){
                                                $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().find('.select2-selection').css('background-color',`transparent`);
                                              }
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('background-color',`transparent`);
                                              if($('#id_'+b['selectedColumn'][i]+'_'+element_id).attr('type') == 'file' || $('#id_'+b['selectedColumn'][i]+'_'+element_id) == 'image'){
                                                $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().find('label').css('background-color',`transparent`);
                                              }
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('border-radius',`0px`);
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('border-radius',`0px`);
                                            }
                                          }
                                        }
                                      }
                                    }
                                } else if (b['condition'] == 'Equal to') {
                                  var ele_id = $(this).attr('id').split('whiteSpacewrap')[1]
                                  ele_id = 'whiteSpacewrap'+ele_id
                                  if($(this).val() == b['value']) {
                                    for(let i = 0; i < b['selectedColumn'].length; i++) {
                                      if(ele_id == element_id) {
                                        if(b['selectedColumn'][i].includes("__cbbutton") || button_ids.includes(b['selectedColumn'][i])){
                                          if(c1[i1].hasOwnProperty('color')) {
                                            $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${c1[i1]['color']}`);
                                            if($('#'+b['selectedColumn'][i]+element_id).hasClass('select2')){
                                              $('#'+b['selectedColumn'][i]+element_id).parent().find('.select2-selection').css('background-color',`${c1[i1]['color']}`);
                                            }
                                            $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${c1[i1]['color']}`)
                                            $('#'+b['selectedColumn'][i]+element_id).parent().css('border-radius',`5px`);
                                            $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`);
                                          } else {
                                            $('#'+b['selectedColumn'][i]+element_id).css('display','inline-block');
                                            $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                            if($('#'+b['selectedColumn'][i]+element_id).hasClass('select2')){
                                              $('#'+b['selectedColumn'][i]+element_id).parent().find('.select2-selection').css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                            }
                                            $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                            if($('#'+b['selectedColumn'][i]+element_id).attr('type') == 'file' || $('#'+b['selectedColumn'][i]+element_id) == 'image'){
                                              $('#'+b['selectedColumn'][i]+element_id).find('label').css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                            }
                                            $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`);
                                            $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`);
                                          }
                                        } else {
                                          if(c1[i1].hasOwnProperty('color')) {
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('background-color',`${c1[i1]['color']}`);
                                            if($('#id_'+b['selectedColumn'][i]+'_'+element_id).hasClass('select2')){
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().find('.select2-selection').css('background-color',`${c1[i1]['color']}`);
                                            }
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('background-color',`${c1[i1]['color']}`)
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('border-radius',`5px`);
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('border-radius',`5px`);
                                          } else {
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().parent().parent().css('display','block');
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('background-color',`transparent`);
                                            if($('#id_'+b['selectedColumn'][i]+'_'+element_id).hasClass('select2')){
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().find('.select2-selection').css('background-color',`transparent`);
                                            }
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('background-color',`transparent`);
                                            if($('#id_'+b['selectedColumn'][i]+'_'+element_id).attr('type') == 'file' || $('#id_'+b['selectedColumn'][i]+'_'+element_id) == 'image'){
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().find('label').css('background-color',`transparent`);
                                            }
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('border-radius',`0px`);
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('border-radius',`0px`);
                                          }
                                        }
                                      }
                                    }
                                  }
                                } else if (b['condition'] == "Greater then") {
                                  var ele_id = $(this).attr('id').split('whiteSpacewrap')[1]
                                  ele_id = 'whiteSpacewrap'+ele_id
                                  var date
                                  var date1
                                  if ($(this).attr('type') == "date") {
                                    date = new Date($(this).val())
                                    if(b["value"].includes("-")) {
                                      date1 = new Date(b['value'])
                                    } else {
                                      date1 = new Date("01-01-2299")
                                    }
                                  } else {
                                    date = parseInt($(this).val())
                                    date1 = parseInt(b['value'])
                                  }
                                  if(date > date1) {
                                    for(let i = 0; i < b['selectedColumn'].length; i++) {
                                      if(ele_id == element_id) {
                                        if(b['selectedColumn'][i].includes("__cbbutton") || button_ids.includes(b['selectedColumn'][i])){
                                            if(c1[i1].hasOwnProperty('color')) {
                                            $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${c1[i1]['color']}`);
                                            if($('#'+b['selectedColumn'][i]+element_id).hasClass('select2')){
                                              $('#'+b['selectedColumn'][i]+element_id).parent().find('.select2-selection').css('background-color',`${c1[i1]['color']}`);
                                            }
                                            $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${c1[i1]['color']}`)
                                            $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`);
                                            $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`);
                                          } else {
                                            $('#'+b['selectedColumn'][i]+element_id).css('display','inline-block');
                                            $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                            if($('#'+b['selectedColumn'][i]+element_id).hasClass('select2')){
                                              $('#'+b['selectedColumn'][i]+element_id).parent().find('.select2-selection').css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                            }
                                            $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                            if($('#'+b['selectedColumn'][i]+element_id).attr('type') == 'file' || $('#'+b['selectedColumn'][i]+element_id) == 'image'){
                                              $('#'+b['selectedColumn'][i]+element_id).find('label').css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                            }
                                            $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`);
                                            $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`);
                                          }
                                        } else {
                                          if(c1[i1].hasOwnProperty('color')) {
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('background-color',`${c1[i1]['color']}`);
                                            if($('#id_'+b['selectedColumn'][i]+'_'+element_id).hasClass('select2')){
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().find('.select2-selection').css('background-color',`${c1[i1]['color']}`);
                                            }
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('background-color',`${c1[i1]['color']}`)
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('border-radius',`5px`);
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('border-radius',`5px`);
                                          } else {
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().parent().parent().css('display','block');
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('background-color',`transparent`);
                                            if($('#id_'+b['selectedColumn'][i]+'_'+element_id).hasClass('select2')){
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().find('.select2-selection').css('background-color',`transparent`);
                                            }
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('background-color',`transparent`);
                                            if($('#id_'+b['selectedColumn'][i]+'_'+element_id).attr('type') == 'file' || $('#id_'+b['selectedColumn'][i]+'_'+element_id) == 'image'){
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().find('label').css('background-color',`transparent`);
                                            }
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('border-radius',`0px`);
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('border-radius',`0px`);
                                          }
                                        }
                                      }
                                    }
                                  }
                                } else if (b['condition'] == "Smaller then") {
                                  var ele_id = $(this).attr('id').split('whiteSpacewrap')[1]
                                  ele_id = 'whiteSpacewrap'+ele_id
                                  var date
                                  var date1
                                  if ($(this).attr('type') == "date") {
                                    date = new Date($(this).val())
                                    if(b["value"].includes("-")) {
                                      date1 = new Date(b['value'])
                                    } else {
                                      date1 = new Date("01-01-1000")
                                    }
                                  } else {
                                    date = parseInt($(this).val())
                                    date1 = parseInt(b['value'])
                                  }
                                  if(date < date1) {
                                    for(let i = 0; i < b['selectedColumn'].length; i++) {
                                      if(ele_id == element_id) {
                                        if(b['selectedColumn'][i].includes("__cbbutton") || button_ids.includes(b['selectedColumn'][i])){
                                          if(c1[i1].hasOwnProperty('color')) {
                                            $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${c1[i1]['color']}`);
                                            if($('#'+b['selectedColumn'][i]+element_id).hasClass('select2')){
                                              $('#'+b['selectedColumn'][i]+element_id).parent().find('.select2-selection').css('background-color',`${c1[i1]['color']}`);
                                            }
                                            $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${c1[i1]['color']}`)
                                            $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`);
                                            $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`);
                                          } else {
                                            $('#'+b['selectedColumn'][i]+element_id).css('display','inline-block');
                                            $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                            if($('#'+b['selectedColumn'][i]+element_id).hasClass('select2')){
                                              $('#'+b['selectedColumn'][i]+element_id).parent().find('.select2-selection').css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                            }
                                            $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                            if($('#'+b['selectedColumn'][i]+element_id).attr('type') == 'file' || $('#'+b['selectedColumn'][i]+element_id) == 'image'){
                                              $('#'+b['selectedColumn'][i]+element_id).find('label').css('background-color',`${$('#'+b['selectedColumn'][i]+element_id).attr("data-color")}`);
                                            }
                                            $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`);
                                            $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`);
                                          }
                                        } else {
                                          if(c1[i1].hasOwnProperty('color')) {
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('background-color',`${c1[i1]['color']}`);
                                            if($('#id_'+b['selectedColumn'][i]+'_'+element_id).hasClass('select2')){
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().find('.select2-selection').css('background-color',`${c1[i1]['color']}`);
                                            }
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('background-color',`${c1[i1]['color']}`)
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('border-radius',`5px`);
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('border-radius',`5px`);
                                          } else {
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().parent().parent().css('display','block');
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('background-color',`transparent`);
                                            if($('#id_'+b['selectedColumn'][i]+'_'+element_id).hasClass('select2')){
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().find('.select2-selection').css('background-color',`transparent`);
                                            }
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('background-color',`transparent`);
                                            if($('#id_'+b['selectedColumn'][i]+'_'+element_id).attr('type') == 'file' || $('#id_'+b['selectedColumn'][i]+'_'+element_id) == 'image'){
                                              $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().find('label').css('background-color',`transparent`);
                                            }
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('border-radius',`0px`);
                                            $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('border-radius',`0px`);
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    })
                  }
                }
              }
            }
          }
        }
    var table = []
    var column = []
    var condition = []
    var id_foreignKey = []
    var condColumn = []
    var condValue = []
    var element_id_list_ = []
    var model_name_list_ = []
    var column_name_list_ = []
    function populateFK(){
      $('.form-row').find("[data-type='ForeignKey']").each(function() {
        if($(this).attr('id').includes("whiteSpace")) {
          element_id_list_.push($(this).attr('id').split("whiteSpacewrap")[1])
          model_name_list_.push($(this).attr('data-tablename'))
          column_name_list_.push($(this).attr('name'))
        }
      })
      $.ajax({
        url:'/users/dynamicVal/',
          data: {
            'operation':'popuplateForeignKeys',
            'element_id_list': JSON.stringify(element_id_list_),
            'model_name_list': JSON.stringify(model_name_list_),
            'column_name_list':JSON.stringify(column_name_list_),
          },
          type: 'POST',
          dataType: "json",
          success: function (data) {
            $('.form-row').find("[data-type='ForeignKey']").each(function() {
              var tableFK = $(this).attr('data-tablename');
              var columnFK = $(this).attr('name')
              var listFK = data[tableFK][columnFK]
              $(this).empty();
              let placeholder = $(this).attr("placeholder")
                      if(![undefined,""].includes(placeholder)){
                        $(this).append(`<option value='---' disabled selected>${placeholder}</option>`)
                      } else{
                      $(this).append(`<option value="">---</option>`);
                      }
              for(let i = 0; i < listFK.length; i++) {
                $(this).append(`<option value="${listFK[i]}">${listFK[i]}</option>`);
              }
            })
          },
          error: ()=>{
              alert("Error");
          }
        });
    }
    function foreignKeyJs(data_js_attr){
      var call_ajax = true;
      for(let i = 0; i < $('.form-row').find('[data-jsattr]').length; i++) {
        demo_table = $('.form-row').find('[data-jsattr]').eq(i).attr('data-table');
        demo_column = $('.form-row').find('[data-jsattr]').eq(i).attr('data-column');
        demo_id = $('.form-row').find('[data-jsattr]').eq(i).attr('id');
        var element_id_demo = $('.form-row').find('[data-jsattr]').eq(i).attr('id').split('whiteSpacewrap')[1]
        element_id_demo = 'whiteSpacewrap'+element_id_demo
        if (demo_table) {
          var data_js_attr = $('.form-row').find('[data-jsattr]').eq(i).attr('data-jsattr');
          if (data_js_attr) {
            data_js_attr = JSON.parse(data_js_attr)
            for(let i = 0; i < data_js_attr.length; i++) {
                if(!data_js_attr[i].hasOwnProperty("cases")){
                  data_js_attr[i]['cases'] = []
                }
                if(data_js_attr[i]["parentvalue"] == "Foreign-key-relation") {
                  if(cases((data_js_attr[i]['cases']),element_id_demo)) {
                    var curr_fk = $('.form-row').find(`#${demo_id}`).parent();
                    var attributes_ = $('.form-row').find(`#${demo_id}`);
                    var color_validation = $('.form-row').find(`#${demo_id}`).attr("style")
                    if($('.form-row').find(`#${demo_id}`).hasClass("select2-hidden-accessible")){
                      $('.form-row').find(`#${demo_id}`).select2("destroy")
                    }
                    if(!$('.form-row').find(`#${demo_id}`).hasClass("select2")){
                      $('.form-row').find(`#${demo_id}`).remove()
                      curr_fk.append(`<select id="${demo_id}" class="form-control select2"></select>`);
                      $(attributes_[0].attributes).each(function() {
                        if(!["id","data-select2-id","tab-index","class"].includes(this.nodeName)){
                          $('.form-row').find(`#${demo_id}`).attr(this.nodeName,this.nodeValue)
                        }
                      })
                    }
                    $('.form-row').find(`#${demo_id}`).select2();
                    $('.form-row').find(`#${demo_id}`).attr('style',`${color_validation}`);
                    $('.form-row').find(`#${demo_id}`).parent().find('.select2-selection').attr('style',`${color_validation}`);
                    if (data_js_attr[i]['finaljsattr'][2][0].hasOwnProperty('condition')) {
                      condition.push(data_js_attr[i]['finaljsattr'][2][0]['condition']['cond'])
                      condColumn.push(data_js_attr[i]['finaljsattr'][2][0]['condition']['column'])
                      condValue.push(data_js_attr[i]['finaljsattr'][2][0]['condition']['value'])
                    } else {
                      condition.push([])
                      condColumn.push([])
                      condValue.push([])
                    }

                table.push(demo_table)
                column.push(demo_column);
                id_foreignKey.push(demo_id);
              } else {
                call_ajax = false
                var curr_fk = $('.form-row').find(`#${demo_id}`).parent();
                var attributes_ = $('.form-row').find(`#${demo_id}`);
                var color_validation = $('.form-row').find(`#${demo_id}`).attr("style")
                if($('.form-row').find(`#${demo_id}`).hasClass("select2-hidden-accessible")){
                  $('.form-row').find(`#${demo_id}`).select2("destroy")
                }
                if(!$('.form-row').find(`#${demo_id}`).hasClass("text_input")){
                  $('.form-row').find(`#${demo_id}`).remove()
                  curr_fk.append(`<input id="${demo_id}" class="form-control text_input">`);
                  $(attributes_[0].attributes).each(function() {
                    if(!["id","data-select2-id","tab-index","class"].includes(this.nodeName)){
                      $('.form-row').find(`#${demo_id}`).attr(this.nodeName,this.nodeValue)
                    }
                  })
                }
                $('.form-row').find(`#${demo_id}`).attr('style',`${color_validation}`);
              }
            }
          }
        }
      }
    }
    if (table.length > 0) {
        $.ajax({
            url:'/users/dynamicVal/',
            data: {
              'operation':'foreign',
              'table': JSON.stringify(table),
              'column': JSON.stringify(column),
              'condition':JSON.stringify(condition),
              'condColumn': JSON.stringify(condColumn),
              'condValue': JSON.stringify(condValue),
            },
            type: 'POST',
            dataType: "json",
            success: function (data) {
                for(let i = 0; i < data.data.length; i++) {
                  if($('.form-row').find(`#${id_foreignKey[i]}`).find("option").length <= 1) {

                    let placeholder = $('.form-row').find(`#${id_foreignKey[i]}`).attr("placeholder")
                    if(![undefined,""].includes(placeholder)){
                        var html = `<option value='---' disabled selected>${placeholder}</option>`
                        } else{
                        var html = "<option value=''>---</option>"
                        }
                      for(let j = 0; j < data.data[i].length; j++) {
                      html = html + `<option value='${data.data[i][j]}'>${data.data[i][j]}</option>`
                    }
                    $('.form-row').find(`#${id_foreignKey[i]}`).empty()
                    $('.form-row').find(`#${id_foreignKey[i]}`).append(html);
                  } else {
                  }
                }
            },
            error: ()=>{
                alert("Error");
            }
          });
        } else {

        }
      }
    function autopopulate(a,key,element_id){
      masterTable = a[key]['finaljsattr'][1][0]['value']
      masterCol = a[key]['finaljsattr'][2][0]['value']
      correspondingCol = a[key]['finaljsattr'][0][0]['value']['depMapper']
      var value = $(this).val()
      $.ajax({
        url:'/users/dynamicVal/',
        data: {
          'operation':'autopopulate',
          'masterTable': masterTable,
          'masterCol': masterCol,
          'column': JSON.stringify(correspondingCol),
          'value':value
        },
        type: 'POST',
        dataType: "json",
        success: function (data) {
          if (data.data.length > 0){
            for(let i = 0; i < data.data[0].length; i++) {

              $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id+'_').val(data.data[0][i]).trigger('change')
              $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id).val(data.data[0][i]).trigger('change')
            }
          } else {
            for(let i = 0; i < a[key]['finaljsattr'][0][0]['value']['depField'].length; i++) {
              $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id).empty()
              $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id+'_').val('').trigger('change')
            }
          }

        },
        error: ()=>{
            alert("Error");
        }
      })
    }
    function autopopulateConstant(a,key,element_id){
      masterTable_ = a[key]['finaljsattr'][0][0]['table_name']
      masterCol_ = a[key]['finaljsattr'][0][0]['table_column']
      correspondingCol_ = a[key]['finaljsattr'][0][0]['column_value']
      dropdown_value = a[key]['finaljsattr'][0][0]['dropdown_value']
      copy_class_to_apply = ""
      paste_class_to_apply = ""
      if(cases(a[key]['cases'],element_id)) {
        if(dropdown_value == "Yes"){
          $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id+'_').remove()
          $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).css('display','none');
          $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).removeClass("select2")
          if ($('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).hasClass("copy_class_to_apply")){
            copy_class_to_apply = "copy_class_to_apply"
          }
          if ($('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).hasClass("paste_class_to_apply")){
            paste_class_to_apply = "paste_class_to_apply"
          }
          $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).parent().append(`<input type="text" maxlength="256" id="${'id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id+'_'}" datatype="CharField"  class="textinput textInput form-control ${copy_class_to_apply} ${paste_class_to_apply}">`)
          $('.copy_class_to_apply').bind({
            copy : function(){
              return false
            }
          });

          $('.paste_class_to_apply').bind({
            paste : function(){
              return false
            }
          });
          $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id+'_').prop('disabled','true');
          setTimeout(() => {
            $('#'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id+'_div').find('span').css('display','none')
          },400)
        }
        else
        {
          $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).css('display','none');
          $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id+'_').remove()
          if ($('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).hasClass("copy_class_to_apply")){
            copy_class_to_apply = "copy_class_to_apply"
          }
          if ($('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).hasClass("paste_class_to_apply")){
            paste_class_to_apply = "paste_class_to_apply"
          }
          $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).parent().append(`<input type="text" maxlength="256" id="${'id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id+'_'}" datatype="CharField"  class="textinput textInput form-control ${copy_class_to_apply} ${paste_class_to_apply}">`)
          $('.copy_class_to_apply').bind({
            copy : function(){
              return false
            }
          });

          $('.paste_class_to_apply').bind({
            paste : function(){
              return false
            }
          });
          $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id+'_').prop('disabled','true');
        }
      } else {
        $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id+'_').css("display","none");
        $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).css("display","block");
        $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).val("").trigger("change");
        if ($('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).hasClass("copy_class_to_apply")){
            copy_class_to_apply = "copy_class_to_apply"
          }
          if ($('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).hasClass("paste_class_to_apply")){
            paste_class_to_apply = "paste_class_to_apply"
          }
        if(dropdown_value == "Yes"){
          var attributes_ = $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id);
          var curr_ap = $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).parent();
          $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).remove();
          curr_ap.append(`<select id="id_${a[key]['finaljsattr'][0][0]['table_column']}_${element_id}" class="form-control select2 ${copy_class_to_apply} ${paste_class_to_apply}"></select>`);
          $('.copy_class_to_apply').bind({
            copy : function(){
              return false
            }
          });

          $('.paste_class_to_apply').bind({
            paste : function(){
              return false
            }
          });
          $(attributes_[0].attributes).each(function() {
            if(!["id","data-select2-id","tab-index","class"].includes(this.nodeName)){
              $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).attr(this.nodeName,this.nodeValue)
            }
          })
          $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).css("display","block");
          $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).select2();
          $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id+"_").css("display","none");
          populateFK()
        }
      }
      if(cases(a[key]['cases'],element_id)) {
        $.ajax({
          url:'/users/dynamicVal/',
          data: {
              'operation':'pre_autopopulate',
              'masterTable': masterTable_,
              'masterCol': masterCol_,
              'column': correspondingCol_,
            },
            type: 'POST',
            dataType: "json",
            success: function (data) {
              if (data.data.length > 0){
                for(let i = 0; i < data.data[0].length; i++) {
                  if($('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).hasClass("select2")){
                    $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).find('option').each(function(){
                    if($(this).val() == data.data[0][i]){
                      $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).val(data.data[0][i]).trigger('change')
                    }
                  })
                  } else{
                    $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id).val(data.data[0][i]).trigger('change')
                  }
                  $('#id_'+a[key]['finaljsattr'][0][0]['table_column'] +'_'+element_id +'_').val(data.data[0][i]).trigger('change')
                }
              }
            },
            error: ()=>{
                alert("Error");
            }
        })
      }
    }
    function cascadingJs(a,key,element_id){
      masterTable = a[key]['finaljsattr'][1][0]['value'][0]
      masterCol = a[key]['finaljsattr'][2][0]['value'][0]
      correspondingCol = a[key]['finaljsattr'][0][0]['value'][0]['depMapper']
      var value = $(this).val()
      $.ajax({
        url:'/users/dynamicVal/',
        data: {
          'operation':'autopopulate',
          'masterTable': masterTable,
          'masterCol': masterCol,
          'column': JSON.stringify(correspondingCol),
          'value':value
        },
        type: 'POST',
        dataType: "json",
        success: function (data) {
          if (data.data.length > 0){
            for(let j = 0; j < a[key]['finaljsattr'][0][0]['value'].length; j++) {
              for(let i = 0; i < a[key]['finaljsattr'][0][0]['value'][j]['depField'].length; i++) {
                $('#id_'+a[key]['finaljsattr'][0][0]['value'][j]['depField'][j]+'_'+element_id).empty()

                let placeholder = $('#id_'+a[key]['finaljsattr'][0][0]['value'][j]['depField'][j]+'_'+element_id).attr("placeholder")
                if(![undefined,"",null].includes(placeholder)){
                  $('#id_'+a[key]['finaljsattr'][0][0]['value'][j]['depField'][j]+'_'+element_id).append(`<option value='---' disabled selected>${placeholder}</option>`)
                } else{
                  $('#id_'+a[key]['finaljsattr'][0][0]['value'][j]['depField'][j]+'_'+element_id).append(`<option value='---'>---</option>`)
                }
                  $('#id_'+a[key]['finaljsattr'][0][0]['value'][j]['depField'][j]+'_'+element_id).val('---').trigger('change')
              }
            }
            for(let i = 0; i < data.data.length; i++) {
              for(let j = 0; j < data.data[i].length; j++) {
                $('#id_'+a[key]['finaljsattr'][0][0]['value'][0]['depField'][j]+'_'+element_id).empty()
                let placeholder = $('#id_'+a[key]['finaljsattr'][0][0]['value'][j]['depField'][j]+'_'+element_id).attr("placeholder")
                if(![undefined,"",null].includes(placeholder)){
                  $('#id_'+a[key]['finaljsattr'][0][0]['value'][j]['depField'][j]+'_'+element_id).append(`<option value='---' disabled selected>${placeholder}</option>`)
                } else{
                  $('#id_'+a[key]['finaljsattr'][0][0]['value'][j]['depField'][j]+'_'+element_id).append(`<option value='---'>---</option>`)
                }
              }
            }
            for(let i = 0; i < data.data.length; i++) {
              for(let j = 0; j < data.data[i].length; j++) {
                $('#id_'+a[key]['finaljsattr'][0][0]['value'][0]['depField'][j]+'_'+element_id).append(`<option value='${data.data[i][j]}'>${data.data[i][j]}</option>`)
              }
            }
          } else {
            for(let j = 0; j < a[key]['finaljsattr'][0][0]['value'].length; j++) {
              for(let i = 0; i < a[key]['finaljsattr'][0][0]['value'][j]['depField'].length; i++) {
                let placeholder = $('#id_'+a[key]['finaljsattr'][0][0]['value'][j]['depField'][j]+'_'+element_id).attr("placeholder")
                $('#id_'+a[key]['finaljsattr'][0][0]['value'][j]['depField'][j]+'_'+element_id).empty()
                if(![undefined,"",null].includes(placeholder)){
                  $('#id_'+a[key]['finaljsattr'][0][0]['value'][j]['depField'][j]+'_'+element_id).append(`<option value='---' disabled selected>${placeholder}</option>`)
                } else{
                  $('#id_'+a[key]['finaljsattr'][0][0]['value'][j]['depField'][j]+'_'+element_id).append(`<option value='---'>---</option>`)
                }
              }
            }
          }

        },
        error: ()=>{
            alert("Error");
        }
      })
    }
    function cascadingLv2() {
      var element_id = $(this).attr('id').split('whiteSpacewrap')[1]
      element_id = 'whiteSpacewrap'+element_id
      var data_name = ''
      if($(this).attr('data-name')) {
        if($(this).attr('data-name').includes('__')) {
          data_name = $(this).attr('data-name').split('__')[1]
        } else {
          data_name = $(this).attr('data-name')
        }
      }
      var a = $('#id_'+data_name+'_'+element_id).attr('data-jsattr');
      a = JSON.parse(a)
      var a1 = a
      if(a) {
        for(let key = 0; key < a.length; key++) {
          if(!a[key].hasOwnProperty("cases")){
            a[key]["cases"] = []
          }
          if(a[key]['parentvalue'] == "Cascading") {
            masterTable = $(this).attr('data-table')
            masterCol =  $(this).attr('data-mapperCol')
            correspondingCol = JSON.parse($(this).attr('data-js'))['depMapper']
            a = JSON.parse($(this).attr('data-js'))
            var value = $(this).val()
            $.ajax({
              url:'/users/dynamicVal/',
              data: {
                'operation':'autopopulate',
                'masterTable': masterTable,
                'masterCol': masterCol,
                'column': JSON.stringify(correspondingCol),
                'value':value
              },
              type: 'POST',
              dataType: "json",
              success: function (data) {
                if (data.data.length > 0){
                  for(let i = 0; i < data.data.length; i++) {
                    for(let j = 0; j < data.data[i].length; j++) {
                      $('#id_'+a['depField'][j]+'_'+element_id).empty()
                      let placeholder = $('#id_'+a['depField'][j]+'_'+element_id).attr("placeholder")
                      if(![undefined,""].includes(placeholder)){
                        $('#id_'+a['depField'][j]+'_'+element_id).append(`<option value='---' disabled selected>${placeholder}</option>`)
                      } else{
                        $('#id_'+a['depField'][j]+'_'+element_id).append(`<option value='---'>---</option>`)
                      }
                      $('#id_'+a['depField'][j]+'_'+element_id).val('---').trigger('change')
                    }
                  }
                  for(let i = 0; i < data.data.length; i++) {
                    for(let j = 0; j < data.data[i].length; j++) {
                      $('#id_'+a['depField'][j]+'_'+element_id).append(`<option value='${data.data[i][j]}'>${data.data[i][j]}</option>`)
                    }
                  }
                } else {
                  for(let i = 0; i < a['depField'].length; i++) {
                    let placeholder = $('#id_'+a['depField'][i]+'_'+element_id).attr("placeholder")
                    $('#id_'+a['depField'][i]+'_'+element_id).val('').trigger('change')
                    $('#id_'+a['depField'][i]+'_'+element_id).empty()
                    if(![undefined,""].includes(placeholder)){
                      $('#id_'+a['depField'][i]+'_'+element_id).append(`<option value="" disabled selected>${placeholder}</option>`)
                    }
                  }
                }

              },
              error: ()=>{
                  alert("Error");
              }
            })
          }
          jsChange.call(this)
        }
      }
    }
    function commonFieldTrue(b,element_id) {
      for(let i = 0; i < b['selectedColumn'].length; i++) {
        if(b['selectedColumn'][i].includes("__cbbutton") || button_ids.includes(b['selectedColumn'][i])){
          if(b.hasOwnProperty('color')) {
            $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${b['color']}`);

            $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`);
            $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`);

            if($('#'+b['selectedColumn'][i]+element_id).hasClass('select2')){
              $('#'+b['selectedColumn'][i]+element_id).parent().find('.select2-selection').css('background-color',`${b['color']}`);
            }
            $('#'+b['selectedColumn'][i]+element_id).css('background-color',`${b['color']}`);
            if($('#'+b['selectedColumn'][i]+element_id).attr('type') == 'file' || $('#'+b['selectedColumn'][i]+element_id) == 'image'){
              $('#'+b['selectedColumn'][i]+element_id).find('label').css('background-color',`${b['color']}`);
            }
          } else {
            $('#'+b['selectedColumn'][i]+element_id).css('display','inline-block')
          }
        } else {
          if(b.hasOwnProperty('color')) {
            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('background-color',`${b['color']}`);

            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('border-radius',`5px`);
            $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('border-radius',`5px`);

            if($('#id_'+b['selectedColumn'][i]+'_'+element_id).hasClass('select2')){
              $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().find('.select2-selection').css('background-color',`${b['color']}`);
            }
            $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('background-color',`${b['color']}`);
            if($('#id_'+b['selectedColumn'][i]+'_'+element_id).attr('type') == 'file' || $('#id_'+b['selectedColumn'][i]+'_'+element_id) == 'image'){
              $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().find('label').css('background-color',`${b['color']}`);
            }
          } else {
            $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().parent().parent().css('display','block')
          }
        }
      }
    }
    $('.form-row').find("input[data-cases], textarea[data-cases], select[data-cases]").on("change",function() {
      var element_id = $(this).attr('id').split('whiteSpacewrap')[1]
      element_id = 'whiteSpacewrap'+element_id
      $("#createview"+element_id).find("input[data-jsattr], select[data-jsattr], textarea[data-jsattr]").each(function() {
        jsFunc_.call(this);
      })
    })
    function jsFunc_(){
      var a = $(this).attr('data-jsattr')
        if(a) {
          a = JSON.parse(a);
          for(let key = 0; key < a.length; key++) {
            if(!a[key].hasOwnProperty("cases")){
              a[key]["cases"] = []
            }
            var masterTable
            var masterCol
            var correspondingCol
            var element_id = $(this).attr('id').split('whiteSpacewrap')[1]
            element_id = 'whiteSpacewrap'+element_id
            if(a[key]['parentvalue'] == "Foreign-key-relation") {
             foreignKeyJs.call(this,a);
            }
            if(a[key]['parentvalue'] == "Auto-populate") {
              masterTable = a[key]['finaljsattr'][1][0]['value']
              masterCol = a[key]['finaljsattr'][2][0]['value']
              correspondingCol = a[key]['finaljsattr'][0][0]['value']['depMapper']
              copy_class_to_apply = ""
              paste_class_to_apply = ""
              if(cases(a[key]['cases'],element_id)) {
                for(let i = 0; i < correspondingCol.length; i++) {
                  let placeholder = $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id).attr("placeholder")
                  if([undefined,""].includes(placeholder)){
                    placeholder = "";
                  }
                  $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id).css('display','none');
                  $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id+'_').remove()
                  if ($('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id).hasClass("copy_class_to_apply")){
                    copy_class_to_apply = "copy_class_to_apply"
                  }
                  if ($('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id).hasClass("paste_class_to_apply")){
                    paste_class_to_apply = "paste_class_to_apply"
                  }
                  $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id).parent().append(`<input type="text" placeholder="${placeholder}" maxlength="256" id="${'id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id+'_'}" datatype="CharField"  class="textinput textInput form-control ${copy_class_to_apply} ${copy_class_to_apply}">`)

                  $('.copy_class_to_apply').bind({
                    copy : function(){
                      return false
                    }
                  });

                  $('.paste_class_to_apply').bind({
                    paste : function(){
                      return false
                    }
                  });
                  $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id+'_').prop('disabled','true');
                }
                autopopulate.call(this,a,key,element_id)
              } else {
                for(let i = 0; i < correspondingCol.length; i++) {
                  $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id).css('display','block');
                  $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id).val('').trigger("change");
                  $('#id_'+a[key]['finaljsattr'][0][0]['value']['depField'][i]+'_'+element_id+'_').css('display','none');
                }
              }
            }
            if(a[key]['parentvalue'] == "Auto-populate Constant") {
                autopopulateConstant.call(this,a,key,element_id)
            }
            if(a[key]['parentvalue'] == "Cascading") {
              loop = a[key]['finaljsattr'][0][0]['value']
              for(let i = 0; i < loop.length; i++) {
                for(let j = 0; j < loop[i]['depMapper'].length; j++) {
                  curr = $('#id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id).parent()
                  name = $('#id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id).attr('name')
                  var jsattr = $('#id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id).attr('data-jsattr');
                  var js_cases = $('#id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id).attr('data-cases');
                  var jsFuncAttr = $('#id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id).attr('onchange');
                  var req = ''
                  var reqCheck = false
                  if ($('#id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id).prop('required')) {
                    reqCheck = true
                    req = 'required'
                  }
                  var data_tablename = $('#id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id).attr('data-tablename')
                  if(cases(a[key]['cases'],element_id)) {
                    let placeholder = $('#id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id).attr("placeholder")
                    if([undefined,""].includes(placeholder)){
                      placeholder = "";
                    }
                    $('#id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id).remove()
                    if (jsattr) {
                      if (js_cases){
                        curr.append(`<select placeholder="${placeholder}" id="${'id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id}" name='${name}' onchange="jsChange.call(this)" class="form-control select2" data-jsattr='${jsattr}' data-cases='${js_cases}' data-name='${$(this).attr('name')}' ${req} data-tablename='${data_tablename}'><option value="---" disabled selected>${placeholder}</option></select>`);
                      } else {
                        curr.append(`<select placeholder="${placeholder}" id="${'id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id}" name='${name}' onchange="jsChange.call(this)" class="form-control select2" data-jsattr='${jsattr}' data-name='${$(this).attr('name')}' ${req} data-tablename='${data_tablename}'><option value="---" disabled selected>${placeholder}</option></select>`);
                      }
                    } else {
                      curr.append(`<select placeholder="${placeholder}" id="${'id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id}" name='${name}' class="form-control select2" data-name='${$(this).attr('name')}' ${req} data-tablename='${data_tablename}'><option value="---" disabled selected>${placeholder}</option></select>`);
                    }
                    if(jsFuncAttr) {
                      curr.attr("onchange",jsFuncAttr)
                    }
                    curr.find("select").select2()
                    cascadingJs.call(this,a,key,element_id)
                  } else{
                    if($('#id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id).hasClass("select2-hidden-accessible")){
                      $('#id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id).select2("destroy")
                    }
                    let placeholder = $('#id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id).attr("placeholder")
                    if([undefined,""].includes(placeholder)){
                      placeholder = "";
                    }
                    $('#id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id).remove()
                    if (jsattr) {
                      if (js_cases){
                        curr.append(`<input placeholder='${placeholder}' id="${'id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id}" name='${name}' onchange="jsChange.call(this)" class="form-control" data-jsattr='${jsattr}' data-cases='${js_cases}' data-name='${$(this).attr('name')}' ${req} data-tablename='${data_tablename}'>`);
                      } else {
                        curr.append(`<input placeholder='${placeholder}' id="${'id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id}" name='${name}' onchange="jsChange.call(this)" class="form-control" data-jsattr='${jsattr}' data-name='${$(this).attr('name')}' ${req} data-tablename='${data_tablename}'>`);
                      }
                    } else {
                    curr.append(`<input placeholder='${placeholder}' id="${'id_'+a[key]['finaljsattr'][0][0]['value'][i]['depField'][j]+'_'+element_id}" name='${name}' class="form-control" data-name='${$(this).attr('name')}' ${req} data-tablename='${data_tablename}'>`);
                    }
                    if(jsFuncAttr) {
                      curr.attr("onchange",jsFuncAttr)
                    }
                  }
                }
                if (i > 0) {
                  if(cases(a[key]['cases'],element_id)) {
                    $('#id_'+loop[i]['indField']+'_'+element_id).attr('data-js',JSON.stringify(a[key]['finaljsattr'][0][0]['value'][i]))
                    $('#id_'+loop[i]['indField']+'_'+element_id).attr('onchange','cascadingLv2.call(this)')
                    $('#id_'+loop[i]['indField']+'_'+element_id).attr('data-table',a[key]['finaljsattr'][1][0]['value'][i])
                    $('#id_'+loop[i]['indField']+'_'+element_id).attr('data-mapperCol',a[key]['finaljsattr'][2][0]['value'][i])
                  }
                }
              }
          } if(a[key]['parentvalue'] == "Show-hide") {
            b1 = a[key]['finaljsattr'][2][0]["value"];
            var b = b1
            var ele_id = element_id
            if(b) {
              var b1 = b;
              for(let i1 = 0; i1 < b1.length; i1++) {
                var b = b1[i1]
                for(let i = 0; i < b['selectedColumn'].length; i++) {
                  if(ele_id == element_id && !($('#id_'+b['selectedColumn'][i]+'_'+element_id).prop('required'))) {
                    if(cases(a[key]['cases'],ele_id)) {
                      if(b['selectedColumn'][i].includes("__cbbutton") || button_ids.includes(b['selectedColumn'][i])){
                        $('#'+b['selectedColumn'][i]+element_id).css('display','none');
                        b1 = a[key]['finaljsattr'][2][0]["value"];
                        if (a[key]['parentvalue'] == "Styling attribute" || a[key]['parentvalue'] == "Styling attribute") {
                          if(b1['styleValidation'].length > 0) {
                            b1 = b1['styleValidation']
                          } else {
                            b1 = []
                          }
                        } else {
                          b1 = a[key]['finaljsattr'][2][0]["value"];
                        }
                        for(let i = 0; i < b1.length; i++) {
                          var b = b1[i];
                          var element_id = $(this).attr('id').split('whiteSpacewrap')[1]
                          element_id = 'whiteSpacewrap'+element_id
                          if(b['condition'] == 'In') {
                            if(cases(a[key]['cases'],"whiteSpacewrap"+$(this).attr("id").split('whiteSpacewrap')[1])){
                              if(b['value'].includes($(this).val())) {
                                commonFieldTrue(b,element_id)
                              } else {
                              }
                            } else{
                            }
                          } else if (b['condition'] == 'Equal to') {
                            if(cases(a[key]['cases'],"whiteSpacewrap"+$(this).attr("id").split('whiteSpacewrap')[1])){
                              if($(this).val() == b['value']) {
                                commonFieldTrue(b,element_id)
                              } else {
                              }
                            } else {
                            }
                          } else if (b['condition'] == 'Greater then') {
                            var date
                            var date1
                            if ($(this).attr('type') == "date") {
                              date = new Date($(this).val())
                              if(b["value"].includes("-")) {
                                date1 = new Date(b['value'])
                              } else {
                                date1 = new Date("01-01-2299")
                              }
                            } else {
                              date = parseInt($(this).val())
                              date1 = parseInt(b['value'])
                            }
                            if(cases(a[key]['cases'],"whiteSpacewrap"+$(this).attr("id").split('whiteSpacewrap')[1])){
                              if(date > date1) {
                                commonFieldTrue(b,element_id)
                              } else {
                              }
                            } else{
                            }
                          } else if (b['condition'] == 'Smaller then') {
                            var date
                            var date1
                            if ($(this).attr('type') == "date") {
                              date = new Date($(this).val())
                              if(b["value"].includes("-")) {
                                date1 = new Date(b['value'])
                              } else {
                                date1 = new Date("01-01-1000")
                              }
                            } else {
                              date = parseInt($(this).val())
                              date1 = parseInt(b['value'])
                            }
                            if(cases(a[key]['cases'],"whiteSpacewrap"+$(this).attr("id").split('whiteSpacewrap')[1])){
                              if(date < date1) {
                                commonFieldTrue(b,element_id)
                              } else {
                              }
                            } else {
                            }
                          }
                        }
                      } else {
                        $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().parent().parent().css('display','none');
                        b1 = a[key]['finaljsattr'][2][0]["value"];
                        if (a[key]['parentvalue'] == "Styling attribute" || a[key]['parentvalue'] == "Styling attribute") {
                          if(b1['styleValidation'].length > 0) {
                            b1 = b1['styleValidation']
                          } else {
                            b1 = []
                          }
                        } else {
                          b1 = a[key]['finaljsattr'][2][0]["value"];
                        }
                        for(let i = 0; i < b1.length; i++) {
                          var b = b1[i];
                          var element_id = $(this).attr('id').split('whiteSpacewrap')[1]
                          element_id = 'whiteSpacewrap'+element_id
                          if(b['condition'] == 'In') {
                            if(cases(a[key]['cases'],"whiteSpacewrap"+$(this).attr("id").split('whiteSpacewrap')[1])){
                              if(b['value'].includes($(this).val())) {
                                commonFieldTrue(b,element_id)
                              } else {
                              }
                            } else{
                            }
                          } else if (b['condition'] == 'Equal to') {
                            if(cases(a[key]['cases'],"whiteSpacewrap"+$(this).attr("id").split('whiteSpacewrap')[1])){
                              if($(this).val() == b['value']) {
                                commonFieldTrue(b,element_id)
                              } else {
                              }
                            } else {
                            }
                          } else if (b['condition'] == 'Greater then') {
                            var date
                            var date1
                            if ($(this).attr('type') == "date") {
                              date = new Date($(this).val())
                              if(b["value"].includes("-")) {
                                date1 = new Date(b['value'])
                              } else {
                                date1 = new Date("01-01-2299")
                              }
                            } else {
                              date = parseInt($(this).val())
                              date1 = parseInt(b['value'])
                            }
                            if(cases(a[key]['cases'],"whiteSpacewrap"+$(this).attr("id").split('whiteSpacewrap')[1])){
                              if(date > date1) {
                                commonFieldTrue(b,element_id)
                              } else {
                              }
                            } else{
                            }
                          } else if (b['condition'] == 'Smaller then') {
                            var date
                            var date1
                            if ($(this).attr('type') == "date") {
                              date = new Date($(this).val())
                              if(b["value"].includes("-")) {
                                date1 = new Date(b['value'])
                              } else {
                                date1 = new Date("01-01-1000")
                              }
                            } else {
                              date = parseInt($(this).val())
                              date1 = parseInt(b['value'])
                            }
                            if(cases(a[key]['cases'],"whiteSpacewrap"+$(this).attr("id").split('whiteSpacewrap')[1])){
                              if(date < date1) {
                                commonFieldTrue(b,element_id)
                              } else {
                              }
                            } else {
                            }
                          }
                        }
                      }
                    } else {
                      if (a[key]['parentvalue'] != "Styling attribute"){
                        if(b['selectedColumn'][i].includes("__cbbutton") || button_ids.includes(b['selectedColumn'][i])){
                          $('#'+b['selectedColumn'][i]+element_id).css('display','inline-block')
                        } else {
                          $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().parent().parent().css('display','block')
                        }
                      }
                    }
                  }
                }
              }
            }
          } if(a[key]['parentvalue'] == "Styling attribute") {
              b1 = a[key]['finaljsattr'][2][0]["value"];
              if(b1['column'].includes("__cbbutton") || button_ids.includes(b1['column'])){
                if ($('#_'+b1['column']+element_id).css('display') != 'none'){
                  if(cases(a[key]['cases'],element_id)) {
                    $('#'+b1['column']+element_id).attr('style',b1['style'])
                    $('#'+b1['column']+element_id).css('background-color','');
                    $('#'+b1['column']+element_id).css('background-color',b1['background-color']);
                    $('#'+b1['column']+element_id).css('background-color',b1['background-color']);
                    if($('#'+b1['column']+element_id).attr('type') == 'file' || $('#'+b1['column']+element_id) == 'image'){
                      $('#'+b1['column']+element_id).find('label').css('background-color',b1['background-color']);
                    }
                    if($('#'+b1['column']+element_id).hasClass('select2')) {
                      $(`#${b1['column']}_${element_id}_div`).find('.select2-selection').css('background-color',b1['background-color'])
                      var css = `<style>
                        #${b1['column']}_${element_id}_div .select2-selection {
                          background: ${b1['background-color']};
                        }
                      </style>`
                      $('section').prepend(css);
                    }
                  } else {
                    $('#'+b1['column']+element_id).attr('style',"")
                    $('#'+b1['column']+element_id).css('background-color',`${$('#'+b1['column']+element_id).attr("data-color")}`);
                    $('#'+b1['column']+element_id).css('background-color',`${$('#'+b1['column']+element_id).attr("data-color")}`);
                    $('#'+b1['column']+element_id).css('background-color',`${$('#'+b1['column']+element_id).attr("data-color")}`);
                    if($('#'+b1['column']+element_id).attr('type') == 'file' || $('#'+b1['column']+element_id) == 'image'){
                      $('#'+b1['column']+element_id).find('label').css('background-color',"");
                    }
                    $(`#${b1['column']}${element_id}_div`).find('.select2-selection').css('background-color','')
                    if($('#'+b1['column']+element_id).hasClass('select2')) {
                      var css = `<style>
                        #${b1['column']}${element_id}_div .select2-selection {
                          background: ${"transparent"};
                        }
                      </style>`
                      $('section').prepend(css);
                    }
                  }
                }
                if(b1['mandatoryfield'] != "" && b1["mandatoryfield"] != undefined) {
                    if(cases(a[key]['cases'],element_id) && b1['mandatoryfield'] == true) {
                      $('#id_'+b1['column']+'_'+element_id).prop('required',true);
                      $('#id_'+b1['column']+'_'+element_id).parent().parent().find('.asteriskField').text('*')
                    } else {
                      $('#id_'+b1['column']+'_'+element_id).prop('required','');
                      $('#id_'+b1['column']+'_'+element_id).parent().parent().find('.asteriskField').text('')
                    }
                }
                if(cases(a[key]['cases'],element_id)) {
                  $('#'+b1['column']+element_id).css('border-radius','5px')
                  $('#'+b1['column']+element_id).css('border-radius','5px')
                } else {
                  $('#'+b1['column']+element_id).css('border-radius','5px')
                  $('#'+b1['column']+element_id).css('border-radius','5px')
                }
                if(b1['instruction'] != "") {
                  if(cases(a[key]['cases'],element_id)) {
                    $('#'+b1['column']+element_id).find('small').remove()
                    $('#'+b1['column']+element_id).append(`<small class="form-text text-muted">${b1['instruction']}</small>`)
                  } else {
                    $('#'+b1['column']+element_id).find('small').remove()
                  }
                  }
                if(b1['details'] != "" && b1["details"] != undefined) {
                  if(cases(a[key]['cases'],element_id)) {
                    $('#id_'+b1['column']+'_'+element_id).parent().parent().find('button').remove();
                    $('#id_'+b1['column']+'_'+element_id).parent().parent().prepend(`<button type="button" class="btn btn-link fa fa-info-circle popoverclass float-right" data-container="body" data-toggle="popover" data-placement="top" data-content="${b1['details']}" style="color:${b1['details-bg']}" data-original-title="" title=""></button>`)
                    $('.popoverclass').popover({
                    trigger: 'focus'
                  })
                  } else {
                    $('#id_'+b1['column']+'_'+element_id).parent().parent().find('button').remove();
                  }
                }
                if(b1['instruction'] != "") {
                  if(cases(a[key]['cases'],element_id)) {
                    $('#'+b1['column']+element_id).find('small').remove()
                    $('#'+b1['column']+element_id).append(`<small class="form-text text-muted">${b1['instruction']}</small>`)
                  } else {
                    $('#'+b1['column']+element_id).find('small').remove()
                  }
                  }
                if(b1['title'] != "") {
                  if(cases(a[key]['cases'],element_id)) {
                    $('#'+b1['column']+element_id).attr('data-toggle','tooltip')
                    $('#'+b1['column']+element_id).attr('title',`${b1['title']}`)
                  } else {
                    $('#'+b1['column']+element_id).removeAttr('data-toggle')
                    $('#'+b1['column']+element_id).removeAttr('title')
                  }
                }
                var b = b1
                var ele_id = element_id
                if(b && b['styleValidation'].length > 0) {
                  var b1 = b['styleValidation'];
                  for(let i1 = 0; i1 < b1.length; i1++) {
                    var b = b1[i1]
                    for(let i = 0; i < b['selectedColumn'].length; i++) {
                      if(ele_id == element_id) {
                        if(cases(a[key]['cases'],ele_id)) {
                          $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`)
                          $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`)
                          $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`5px`)
                        } else {
                          $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`0px`)
                          $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`0px`)
                          $('#'+b['selectedColumn'][i]+element_id).css('border-radius',`0px`)
                        }
                      }
                    }
                  }
                }
              } else {
                if ($('#id_'+b1['column']+'_'+element_id).parent().parent().parent().css('display') != 'none'){
                  if(cases(a[key]['cases'],element_id)) {
                    $('#id_'+b1['column']+'_'+element_id).parent().parent().parent().attr('style',b1['style'])
                    $('#id_'+b1['column']+'_'+element_id).parent().parent().parent().css('background-color','');
                    $('#id_'+b1['column']+'_'+element_id).parent().css('background-color',b1['background-color']);
                    $('#id_'+b1['column']+'_'+element_id).css('background-color',b1['background-color']);
                    if($('#id_'+b1['column']+'_'+element_id).attr('type') == 'file' || $('#id_'+b1['column']+'_'+element_id) == 'image'){
                      $('#id_'+b1['column']+'_'+element_id).parent().find('label').css('background-color',b1['background-color']);
                    }
                    if($('#id_'+b1['column']+'_'+element_id).hasClass('select2')) {
                      $(`#${b1['column']}_${element_id}_div`).find('.select2-selection').css('background-color',b1['background-color'])
                      var css = `<style>
                        #${b1['column']}_${element_id}_div .select2-selection {
                          background: ${b1['background-color']};
                        }
                      </style>`
                      $('section').prepend(css);
                    }
                  } else {
                    $('#id_'+b1['column']+'_'+element_id).parent().parent().parent().attr('style',"")
                    $('#id_'+b1['column']+'_'+element_id).parent().parent().parent().css('background-color','');
                    $('#id_'+b1['column']+'_'+element_id).parent().css('background-color',"");
                    $('#id_'+b1['column']+'_'+element_id).css('background-color',"");
                    if($('#id_'+b1['column']+'_'+element_id).attr('type') == 'file' || $('#id_'+b1['column']+'_'+element_id) == 'image'){
                      $('#id_'+b1['column']+'_'+element_id).parent().find('label').css('background-color',"");
                    }
                    $(`#${b1['column']}_${element_id}_div`).find('.select2-selection').css('background-color','')
                    if($('#id_'+b1['column']+'_'+element_id).hasClass('select2')) {
                      var css = `<style>
                        #${b1['column']}_${element_id}_div .select2-selection {
                          background: ${"transparent"};
                        }
                      </style>`
                      $('section').prepend(css);
                    }
                  }
                }
                }
                if(b1['instruction'] != "") {
                  if(cases(a[key]['cases'],element_id)) {
                    $('#id_'+b1['column']+'_'+element_id).parent().parent().find('small').remove()
                    $('#id_'+b1['column']+'_'+element_id).parent().parent().append(`<small class="form-text text-muted">${b1['instruction']}</small>`)
                  } else {
                    $('#id_'+b1['column']+'_'+element_id).parent().parent().find('small').remove()
                  }
                }

                  if(b1['details'] != "" && b1["details"] != undefined) {
                if(cases(a[key]['cases'],element_id)) {
                  $('#id_'+b1['column']+'_'+element_id).parent().parent().find('button').remove();
                  $('#id_'+b1['column']+'_'+element_id).parent().parent().prepend(`<button type="button" class="btn btn-link fa fa-info-circle popoverclass float-right" data-container="body" data-toggle="popover" data-placement="top" data-content="${b1['details']}" style="color:${b1['details-bg']}" data-original-title="" title=""></button>`)
                  $('.popoverclass').popover({
                  trigger: 'focus'
                })
                } else {
                  $('#id_'+b1['column']+'_'+element_id).parent().parent().find('button').remove();
                }

              }
              if(b1['mandatoryfield'] != "" && b1["mandatoryfield"] != undefined) {
                    if(cases(a[key]['cases'],element_id) && b1['mandatoryfield'] == true) {
                      $('#id_'+b1['column']+'_'+element_id).prop('required',true);
                      $('#id_'+b1['column']+'_'+element_id).parent().parent().find('.asteriskField').text('*')
                    } else {
                      $('#id_'+b1['column']+'_'+element_id).prop('required','');
                      $('#id_'+b1['column']+'_'+element_id).parent().parent().find('.asteriskField').text('')
                    }
                }
              if(b1['title'] != "") {
                if(cases(a[key]['cases'],element_id)) {
                  $('#id_'+b1['column']+'_'+element_id).parent().css('border-radius','5px')
                  $('#id_'+b1['column']+'_'+element_id).parent().parent().parent().css('border-radius','5px')
                } else {
                  $('#id_'+b1['column']+'_'+element_id).parent().css('border-radius','0px')
                  $('#id_'+b1['column']+'_'+element_id).parent().parent().parent().css('border-radius','0px')
                }
                if(b1['instruction'] != "") {
                  if(cases(a[key]['cases'],element_id)) {
                    $('#id_'+b1['column']+'_'+element_id).parent().parent().find('small').remove()
                    $('#id_'+b1['column']+'_'+element_id).parent().parent().append(`<small class="form-text text-muted">${b1['instruction']}</small>`)
                  } else {
                    $('#id_'+b1['column']+'_'+element_id).parent().parent().find('small').remove()
                  }
                }
                if(b1['title'] != "") {
                  if(cases(a[key]['cases'],element_id)) {
                    $('#id_'+b1['column']+'_'+element_id).parent().parent().parent().attr('data-toggle','tooltip')
                    $('#id_'+b1['column']+'_'+element_id).parent().parent().parent().attr('title',`${b1['title']}`)
                  } else {
                    $('#id_'+b1['column']+'_'+element_id).parent().parent().parent().removeAttr('data-toggle')
                    $('#id_'+b1['column']+'_'+element_id).parent().parent().parent().removeAttr('title')
                  }
                }
                var b = b1
                var ele_id = element_id
                if(b && b['styleValidation'].length > 0) {
                  var b1 = b['styleValidation'];
                  for(let i1 = 0; i1 < b1.length; i1++) {
                    var b = b1[i1]
                    for(let i = 0; i < b['selectedColumn'].length; i++) {
                      if(ele_id == element_id) {
                        if(cases(a[key]['cases'],ele_id)) {
                          $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().parent().parent().css('border-radius',`5px`)
                          $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('border-radius',`5px`)
                          $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('border-radius',`5px`)
                        } else {
                          $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().parent().parent().css('border-radius',`0px`)
                          $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().css('border-radius',`0px`)
                          $('#id_'+b['selectedColumn'][i]+'_'+element_id).css('border-radius',`0px`)
                        }
                      }
                    }
                  }
                }
              }
          }
          if(a[key]['parentvalue'] == "Show-hide_link") {
            var insertData = a
            b1 = a[key]['finaljsattr'][2][0]["value"];
            var thiss = $(this)
            $.ajax({
              url:'/users/dynamicVal/',
              data: {
                'operation':'Show-hide_link',
                'table': JSON.stringify(b1[0]["masterTable"]),
                'value': JSON.stringify(b1[0]["value"]),
                'selectedColumn': JSON.stringify(b1[0]["selectedColumn"]),
                'sourceTable': a[key]['finaljsattr'][1][0]["value"],
                'element_id':element_id
              },
              type: 'POST',
              dataType: "json",
              success: function (data) {
                insertData[key]['finaljsattr'][2][0]["value"] = data['data']
                thiss.attr('data-jsattr',JSON.stringify(insertData))
                var b1 = data['data'];
                for(let i1 = 0; i1 < b1.length; i1++) {
                  var b = b1[i1]
                  for(let i = 0; i < b['selectedColumn'].length; i++) {
                    if(b['selectedColumn'][i].includes("__cbbutton") || button_ids.includes(b['selectedColumn'][i])){
                      $('#i'+b['selectedColumn'][i]+element_id).css('display','none')
                    } else{
                      if(ele_id == element_id && !($('#id_'+b['selectedColumn'][i]+'_'+element_id).prop('required'))) {
                        $('#id_'+b['selectedColumn'][i]+'_'+element_id).parent().parent().parent().css('display','none')
                      }
                    }
                  }
                }
              },
              error: ()=>{
                  alert("Error");
              }
            })
            var b = b1
            var ele_id = element_id

          }
        }
      }
    }

    </script>

    <script>
        var None = 'None';        var listViewTableDict={};        var listViewEditTemplate = {};        var createViewIdList = [];        var elementIDList=[];        var chartConfigDict={};        var crossFilterDict={};        var element_table_IDList = [];        var names = {};
        var app_code_home = '';        var user_home = '';        var item_code_list = [];        var grapejs = 1;        var m_col_basefilter = {};        var globalFuncList_scenario = [];        var variableList_scenario = [];        var mColBasefilter = {};        var button_ids = ["savebutton_","saveDraftbutton_","customValidationList","calculateComp","viewHistory_","button-id-back","resetDraft_","previewDraft_","rejectedRecords","viewTransactions"];        var enableSaveButton = function() {
 $(this).find('input[value=Save]').prop('disabled',false);
};

    </script>



        <script>
            $("#uploadButton2process08790576004318207").on('click',function() {
              localStorage.setItem('activeTabs',$(this).attr('data-elementid'))
              ;
            });
            // Add the following code if you want the name of the file appear on select
            $(".custom-file-input").on("change", function() {
              var fileName = $(this).val().split("\\").pop();
              $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
            });
        </script>
        <script>

        var row_edited_dict = {}
        $(document).on('focusout','.edit',function() {
          var row_id = $(this).parent().closest('tr').find('td').eq(1).find('div').text()
          var value = $(this).text();
          var field_name= $(this).parent('td').closest('table').find('th').eq($(this).parent().index()).text();

          if(row_edited_dict[row_id]){
            row_edited_dict[row_id][field_name] = value
          }else{
            row_edited_dict[row_id] = {}
          row_edited_dict[row_id][field_name] = value
          }


        })

        $('#saveEditListViewprocess08790576004318207').on('click',function(){

          let main_dict ={}
          let count = 0
          $('#example1process08790576004318207 tbody').find('tr').each(function(){
            var row_id = $(this).find('td').eq(1).find('div').text()
            var col_dict = {}
             if(Object.keys(row_edited_dict).includes(row_id)){
               $(this).find('td:not(:first-child)').each(function(){
                 var field_name =$(this).closest('table').find('th').eq($(this).index()).text().trim();
                 var value
                 if ($(this).find('div').find('button').attr('data-name') != undefined){
                   value = $(this).find('div').find('button').attr('data-name');
                 } else {
                  value=  $(this).find('div').text().trim()
                  if (value == "-") {
                    value = ""
                  }
                 }

                 col_dict[field_name] = value
               })
               main_dict[count] = col_dict
               count+=1
             }

          })



          var model_name = $(this).attr('data-table-name')
          var list_type = $(this).attr('data-list-type')
          var element_id = $(this).attr('data-element-id')
          var itemCode = window.location.pathname.split("/")[2];
          if(! itemCode.includes("Pr")) {
            var id_ele = element_id
            for(let z = 0; z < item_code_list.length; z++) {
              if(item_code_list[z].hasOwnProperty(id_ele)) {
                itemCode = item_code_list[z][id_ele]
                break
              }
            }
          };
          $.ajax({
          url: `/users/${itemCode}/`,
          data: { 'model_name': model_name,'list_type':list_type ,'editRowsDict': JSON.stringify(main_dict),'editFieldDict':JSON.stringify(row_edited_dict),'element_id':element_id,'operation': 'editMode_listview' },
          type: "POST",
          dataType: "json",
          success:function(data) {
          location.reload()
          },
          error: function () {
          alert("Error");
          }
          })
          })



        </script>


        <script>


            var mainid;
            var rowid = 1;
            var mainrowid;
            var columnidset;
            var maincolumnname=""
            var disall = "";

            $(document).ready(function() {$(`#select2multipleprocess08790576004318207`).select2({
                tags: true
            });$(`#select2multiple1process08790576004318207`).select2({
            tags: true
            });var setalerttable = $(`#example111process08790576004318207`).DataTable( {
            "autoWidth": true,
            "scrollY": 200,
            "scrollX": 500,
            "scrollCollapse": true,
            "sScrollXInner": "100%",
            "ordering":false,
            orderCellsTop: true,
            responsive: true,
            colReorder: {
            fixedColumnsLeft: 1
            },
            stateSave: true,
            "deferRender": true,
            "paging": true,
            "lengthMenu": [[1, 5, 50, -1], [1, 5, 50, "All"]],
            stripeClasses: false,
            "pageLength": 50,
            dom: 'lfBrtip',
            buttons: [
            {
                extend: 'collection',
                text: 'Export',
                buttons: [
                {
                    extend: 'copy', title: '', exportOptions: {
                    columns: ':visible:not(.noVis)'
                    }
                },
                {
                    extend: 'excel', title: '', exportOptions: {
                    columns: ':visible:not(.noVis)'
                    }
                },
                {
                    extend: 'csv', title: '', exportOptions: {
                    columns: ':visible:not(.noVis)'
                    }
                },
                {
                    extend: 'pdf', title: '', exportOptions: {
                    columns: ':visible:not(.noVis)'
                    }
                },
                ],
            },
            {
                extend: 'colvis',
                className: "scroller",
            }
            ],
            columnDefs: [
            {
            targets: "_all",
            className: 'dt-center allColumnClass all'
            },
            {
            targets: 0,
            width: "20%",
            className: 'noVis'
            }
            //{ 'visible': false, 'targets': [1,3] }
            ],
            } );
            } );$(`#example111process08790576004318207 thead tr:eq(0)`).clone(true).appendTo(`#example111process08790576004318207 thead`);
            $(`#example111process08790576004318207 thead tr:eq(1) th:eq(0)`).html('')
            $(`#example111process08790576004318207 thead tr:eq(0) th:eq(0)`).css('cursor', 'default');
            $(`#example111process08790576004318207 thead tr:eq(0) th:eq(0)`).css('background-image', 'none');
            $(`#example111process08790576004318207 thead tr:eq(1) th`).css('padding', '5px');
            $(`#example111process08790576004318207 thead tr:eq(1) th:gt(0)`).each(function (i){
            $(this).addClass('dt-center')
            var title = $(this).text();
            $(this).html('<input type="text" value="" data-input_value="" style="text-align:center;border-bottom:none;border:1px solid #ced4da;width:190px;"placeholder="Search ' + title + '" />');
            });$(`#displayalertprocess08790576004318207`).click(function(){element_id = $(this).attr('data-elementid')
            $(`#setalertcardprocess08790576004318207`).css('display','block')})

            function rowidset(rowid){
            var rowid = rowid;
            mainrowid = rowid;
            }

            function alertcondition(newcolheaderdef){
            var newcolheaderdef = newcolheaderdef;
            };$(`#icolprocess08790576004318207`).click(function(){ $(`#colprocess08790576004318207`).css("display","block")
 if($(`#colprocess08790576004318207`).val()){ var newcolheader = $(`#colprocess08790576004318207`).val();
            $(`#colprocess08790576004318207`).css("display","none")

            $(`#example111process08790576004318207 tr`).append($("<th id= temp>"));

            var newcolumn = $(`#colprocess08790576004318207`).val();
            var i, frags = newcolumn.split(' ');for (i=0; i<frags.length; i++) {
                frags[i] = frags[i].toLowerCase();
            }
            var originalname = frags.join('_');
            var columnid = parseInt($(this).closest('tr').attr('id')) + "-" + originalname ;$(`#example111process08790576004318207 tr`).find("#temp").attr("id", columnid);

            $(`#example111process08790576004318207 tbody tr`).each(function(){$(this).children('td:last')});$.ajax({
            url: "{% url 'users:alert_model' %}",
            data: {
                'operation': "setnewcol",
                'name': newcolumn,
                'originalname':originalname,
                },
                type: "POST",
                dataType: "json",
                success: function (data) {

                },
                error: function () {
                alert("Error");
                }
            });$(`#colprocess08790576004318207`).val('');
            $(`#setcolumnheadernameprocess08790576004318207`).val('');}
            });$(`#rowaddprocess08790576004318207`).on( 'click', function (){
            alert("Alert created")
            var element_id = $(this).attr('data-elementid');rowid = (parseInt($(`#example111${element_id} tbody tr:last`).attr('id'))+1);
            $( `#example111${element_id} tbody`).append($(`#example111${element_id} tbody tr:last`).clone().attr("id",rowid));
            var alertnames=document.getElementById(`alertname1${element_id}`).value;
            var alertdesc=document.getElementById(`alertdescription1${element_id}`).value;
            var str = "";
            var acmodel_name =  "test_table1"
            $(`#select2multiple1${element_id} option`).each(function()
            {
            str += ("," + this.text);
            });
            var trimstring = str.substring(1);
            var newstr = "[" + trimstring + "]";
            $(`#example111${element_id} tbody tr:last td:nth-child(3)`).html(rowid);
            $(`#example111${element_id} tbody tr:last td:nth-child(4)`).html(alertnames);
            $(`#example111${element_id} tbody tr:last td:nth-child(5)`).html(newstr);
            $(`#example111${element_id} tbody tr:last td:nth-child(6)`).html(alertdesc);$.ajax({
            url: "{% url 'users:alert_model' %}",

                data: {
                'operation': "setnewalert1",
                'row_id':rowid,
                'alertname': alertnames,
                'alerttag': newstr,
                'alertdescription':alertdesc,
                'acmodel_name':acmodel_name,
                },
                type: "POST",
                dataType: "json",
                success: function (data) {

            },
                error: function () {
                alert("Error");
                }
            })
            rowidset(rowid);
            });

            function deletecol(name){
            var name = name;
            var allength = $(`#example111process08790576004318207 tr:eq(0) th`)

            for(var i=0;i<(allength.length);i++)
            {if((($(`#example111process08790576004318207 tr:eq(0) th:eq(`+i+`)`)[0].outerText).trim())== (name.trim())){
            $('.dataTables_scrollHead table thead tr:eq(4) th:eq('+i+')').remove();
            $('.dataTables_scrollHead table thead tr:eq(5) th:eq('+i+')').remove();$(`#example111process08790576004318207 tr`).each(function() {
            $(this).children("td:eq("+i+")").remove();
            });
            }
            }

            $.ajax({
                url: "{% url 'users:alert_model' %}",
                data: {
                    'operation': "deletecol",
                    'name': name,
                    },
                    type: "POST",
                    dataType: "json",
                    success: function (data) {
                    alert("success")
                    },
                    error: function () {
                    }
                })
            };$(`#example111process08790576004318207 tbody`).on('click', 'td:first-child',function () {
            var nid = ($(this).closest('tr').attr('id'));
            $(this).closest('tr').remove();
            $.ajax({
            url: "{% url 'users:alert_model' %}",
                data: {
                    'operation': "deletelimit",
                    'nid': nid,
                },
                type: "POST",
                dataType: "json",
                success: function (data) {

                },
                error: function () {
                }
                })
            });$(`#setalertfunctionprocess08790576004318207`).on( 'click', function (){
            var element_id = $(this).attr('data-elementid')
            alert("Alert created");var acmodel_name = "test_table1"; var alertnames=document.getElementById(`alertname${element_id}`).value;
            var alertdesc=document.getElementById(`alertdescription${element_id}`).value;
            var str = ",";
            $(`#select2multiple${element_id} option`).each(function() {
            str += ("," + this.text);
            });
            var trimstring = str.substring(2);
            var newstr = "[" + trimstring + "]";
            var alerttags = newstr;

            $(`#example111${element_id} tbody tr:first-child td:nth-child(3)`).html("1");
            $(`#example111${element_id} tbody tr:first-child td:nth-child(4)`).html(alertnames);
            $(`#example111${element_id} tbody tr:first-child td:nth-child(5)`).html(alerttags);
            $(`#example111${element_id} tbody tr:first-child td:nth-child(6)`).html(alertdesc);

            $.ajax({
            url: "{% url 'users:alert_model' %}",

                data: {
                'operation': "setnewalert",
                'name': alertnames,
                'tag': alerttags,
                'description':alertdesc,
                'acmodel_name':acmodel_name,
                },
                type: "POST",
                dataType: "json",
                success: function (data) {

            },
                error: function () {
                alert("Error");
                }
            })
            disall="true"
            sessionStorage.reloadAfterPageLoad = true;
            location.reload();
            })

            $( function () {if('empty' == "empty"){    $(`#setalertcardprocess08790576004318207`).css('display','none')}
            else{    $(`#setalertcardprocess08790576004318207`).css('display','block')}
            });$(`#example111process08790576004318207 tbody`).on( 'dblclick', 'td:gt(2)', function (){
            var element_id = ($(this).closest('table').attr('data-elementid'))
            $(`#setcolumnname1${element_id}`).empty()
            $(`#setrowname1${element_id}`).empty()
            $(`#setcolumnheadername${element_id}`).empty()
            $(`#setconditionmodal${element_id}`).modal('show');

            var idval = $(this).closest('tr').attr('id');
            var idcol1 = ($(`#example111${element_id} thead tr th div`).eq($(this).index()).html());
            var idcol= idcol1.substr(0, idcol1.indexOf('<i class="fa fa-times"'));
            $(`#setrowname1${element_id}`).append(idval);

            var rowid = ($(this).closest("tr").attr('id'));var id = (idcol1.substr(0, idcol1.indexOf('<i class="fa fa-times"'))) + 'test_table1' + ($(this).closest("tr").attr('id'));var newid = $(this).attr('id',id)
            var columnname = $(this).attr(id);
            var rowname = $(`#example111${element_id} tr:last`).attr("id");

            $(`#setcolumnname1${element_id}`).append(idcol)

            $(`#setcolumnheadername${element_id}`).append(id)
            $(".setalert").empty();
            $(".setname").empty();
            $(`#setcolumnheadername${element_id}`).val('');
            myvariable(id);

            });

            function myvariable(id)
            {
            var id = id;
            mainid = id;
            };$(`.filter_btn1process08790576004318207`).click(function (){
            $(".setalert").empty();
            $(".setname").empty();
            var alertname = $(this).attr('name');
            maincolumnname = alertname
            var text = $(this).text();var form_fields = {'id': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Id</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=id data-verbose_name="Id" data-dropdown_purpose="select_filter_condition"><option value="Equal to">Equal to</option><option value="Greater than">Greater than</option><option value="Smaller than">Smaller than</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></td><td class="dt-center"><div class="" style="max-width:25em;"><input type="number"  data-tablename=\'test_table1\' placeholder=\'id\' name=id step="any" class="numberinput form-control" required=""></div></td>', 'name': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Name</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=name data-verbose_name="Name" data-dropdown_purpose="select_filter_condition"><option value="Starts with">Starts with</option><option value="Ends with">Ends with</option><option value="Contains">Contains</option><option value="Equal to">Equal to</option><option value="Not Starts with">Not Starts with</option><option value="Not Ends with">Not Ends with</option><option value="Not Contains">Not Contains</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></div></td><td class="dt-center"><div class="" style="max-width:25em;"><input type="text" placeholder=\'name\' name=name maxlength="100" class="textinput textInput form-control" required="" ></div></td>', 'pan': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Pan</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=pan data-verbose_name="Pan" data-dropdown_purpose="select_filter_condition"><option value="Starts with">Starts with</option><option value="Ends with">Ends with</option><option value="Contains">Contains</option><option value="Equal to">Equal to</option><option value="Not Starts with">Not Starts with</option><option value="Not Ends with">Not Ends with</option><option value="Not Contains">Not Contains</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></div></td><td class="dt-center"><div class="" style="max-width:25em;"><input type="text" placeholder=\'pan\' name=pan maxlength="100" class="textinput textInput form-control" required="" ></div></td>', 'created_by': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Created By</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=created_by data-verbose_name="Created By" data-dropdown_purpose="select_filter_condition"><option value="Starts with">Starts with</option><option value="Ends with">Ends with</option><option value="Contains">Contains</option><option value="Equal to">Equal to</option><option value="Not Starts with">Not Starts with</option><option value="Not Ends with">Not Ends with</option><option value="Not Contains">Not Contains</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></div></td><td class="dt-center"><div class="" style="max-width:25em;"><input type="text" placeholder=\'created_by\' name=created_by maxlength="100" class="textinput textInput form-control" required="" ></div></td>', 'created_date': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Created Date</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=created_date data-verbose_name="Created Date" data-dropdown_purpose="select_filter_condition"><option value="Equal to">Equal to</option><option value="Greater than">Greater than</option><option value="Smaller than">Smaller than</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></td><td class="dt-center"><div class="input-group date" style="max-width:25em;"><input type="datetime-local" placeholder="YYYY-MM-DD HH:MM" class="form-control datepickerinput form-control" required="" dp_config="{&quot;id&quot;: &quot;dp_4&quot;, &quot;picker_type&quot;: &quot;DATE&quot;, &quot;linked_to&quot;: null, &quot;options&quot;: {&quot;showClose&quot;: true, &quot;showClear&quot;: true, &quot;showTodayButton&quot;: true, &quot;format&quot;: &quot;DD-MM-YYYY&quot;}}"><div class="input-group-addon input-group-append" data-target="#datetimepicker1" data-toggle="datetimepickerv"><div class="input-group-text"><i class="fa fa-clock"></i></div></div></div></td>', 'modified_by': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Modified By</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=modified_by data-verbose_name="Modified By" data-dropdown_purpose="select_filter_condition"><option value="Starts with">Starts with</option><option value="Ends with">Ends with</option><option value="Contains">Contains</option><option value="Equal to">Equal to</option><option value="Not Starts with">Not Starts with</option><option value="Not Ends with">Not Ends with</option><option value="Not Contains">Not Contains</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></div></td><td class="dt-center"><div class="" style="max-width:25em;"><input type="text" placeholder=\'modified_by\' name=modified_by maxlength="100" class="textinput textInput form-control" required="" ></div></td>', 'modified_date': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Modified Date</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=modified_date data-verbose_name="Modified Date" data-dropdown_purpose="select_filter_condition"><option value="Equal to">Equal to</option><option value="Greater than">Greater than</option><option value="Smaller than">Smaller than</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></td><td class="dt-center"><div class="input-group date" style="max-width:25em;"><input type="datetime-local" placeholder="YYYY-MM-DD HH:MM" class="form-control datepickerinput form-control" required="" dp_config="{&quot;id&quot;: &quot;dp_4&quot;, &quot;picker_type&quot;: &quot;DATE&quot;, &quot;linked_to&quot;: null, &quot;options&quot;: {&quot;showClose&quot;: true, &quot;showClear&quot;: true, &quot;showTodayButton&quot;: true, &quot;format&quot;: &quot;DD-MM-YYYY&quot;}}"><div class="input-group-addon input-group-append" data-target="#datetimepicker1" data-toggle="datetimepickerv"><div class="input-group-text"><i class="fa fa-clock"></i></div></div></div></td>', 'approval_status': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">approval_status</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=approval_status data-verbose_name="approval_status" data-dropdown_purpose="select_filter_condition"><option value="Starts with">Starts with</option><option value="Ends with">Ends with</option><option value="Contains">Contains</option><option value="Equal to">Equal to</option><option value="Not Starts with">Not Starts with</option><option value="Not Ends with">Not Ends with</option><option value="Not Contains">Not Contains</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></div></td><td class="dt-center"><div class="" style="max-width:25em;"><input type="text" placeholder=\'approval_status\' name=approval_status maxlength="100" class="textinput textInput form-control" required="" ></div></td>', 'approved_by': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">approved_by</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=approved_by data-verbose_name="approved_by" data-dropdown_purpose="select_filter_condition"><option value="Starts with">Starts with</option><option value="Ends with">Ends with</option><option value="Contains">Contains</option><option value="Equal to">Equal to</option><option value="Not Starts with">Not Starts with</option><option value="Not Ends with">Not Ends with</option><option value="Not Contains">Not Contains</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></div></td><td class="dt-center"><div class="" style="max-width:25em;"><input type="text" placeholder=\'approved_by\' name=approved_by maxlength="100" class="textinput textInput form-control" required="" ></div></td>', 'active_from': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Active From</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=active_from data-verbose_name="Active From" data-dropdown_purpose="select_filter_condition"><option value="Equal to">Equal to</option><option value="Greater than">Greater than</option><option value="Smaller than">Smaller than</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></td><td class="dt-center"><div class="input-group date" style="max-width:25em;"><input type="datetime-local" placeholder="YYYY-MM-DD HH:MM" class="form-control datepickerinput form-control" required="" dp_config="{&quot;id&quot;: &quot;dp_4&quot;, &quot;picker_type&quot;: &quot;DATE&quot;, &quot;linked_to&quot;: null, &quot;options&quot;: {&quot;showClose&quot;: true, &quot;showClear&quot;: true, &quot;showTodayButton&quot;: true, &quot;format&quot;: &quot;DD-MM-YYYY&quot;}}"><div class="input-group-addon input-group-append" data-target="#datetimepicker1" data-toggle="datetimepickerv"><div class="input-group-text"><i class="fa fa-clock"></i></div></div></div></td>', 'active_to': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Active To</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=active_to data-verbose_name="Active To" data-dropdown_purpose="select_filter_condition"><option value="Equal to">Equal to</option><option value="Greater than">Greater than</option><option value="Smaller than">Smaller than</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></td><td class="dt-center"><div class="input-group date" style="max-width:25em;"><input type="datetime-local" placeholder="YYYY-MM-DD HH:MM" class="form-control datepickerinput form-control" required="" dp_config="{&quot;id&quot;: &quot;dp_4&quot;, &quot;picker_type&quot;: &quot;DATE&quot;, &quot;linked_to&quot;: null, &quot;options&quot;: {&quot;showClose&quot;: true, &quot;showClear&quot;: true, &quot;showTodayButton&quot;: true, &quot;format&quot;: &quot;DD-MM-YYYY&quot;}}"><div class="input-group-addon input-group-append" data-target="#datetimepicker1" data-toggle="datetimepickerv"><div class="input-group-text"><i class="fa fa-clock"></i></div></div></div></td>', 'transaction_id': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Transaction_Id</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=transaction_id data-verbose_name="Transaction_Id" data-dropdown_purpose="select_filter_condition"><option value="Starts with">Starts with</option><option value="Ends with">Ends with</option><option value="Contains">Contains</option><option value="Equal to">Equal to</option><option value="Not Starts with">Not Starts with</option><option value="Not Ends with">Not Ends with</option><option value="Not Contains">Not Contains</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></div></td><td class="dt-center"><div class="" style="max-width:25em;"><input type="text" placeholder=\'transaction_id\' name=transaction_id maxlength="100" class="textinput textInput form-control" required="" ></div></td>'};
            var STRING1 = form_fields[alertname]
            $(`#alert-tableprocess08790576004318207`).append(STRING1)});$(`#conditionsaveprocess08790576004318207`).click(function(){var element_id = $(this).attr('data-elementid')
            var mname = 'test_table1'
            var m_name = 'test_table1'
            var alerttablename = "users_test_table1"
            var alert_list_temp = [];var colname = $(`#setcolumnheadername${element_id}`)[0].innerHTML;
            var color1 = document.getElementById(`colorset${element_id}`).value;
            var conditionaltext = $(`#conditionaltext${element_id}`).val();
            var rowname = $(`#example111${element_id} tr:last`).attr("id");
            var filter_rows = $(`#alert-table${element_id}`).find("tr")
            if (filter_rows.length > 0) {
                if (filter_rows.length == 1) {  // if only 1 row exists then its a simple_single_column filter
                    filter_rows.each(function () {
                        var filter_condition_dropdown = $(this).find("select[data-dropdown_purpose='select_filter_condition']")
                        var col_verbose_name = filter_condition_dropdown.attr('data-verbose_name')
                        var col = filter_condition_dropdown.val();
                        var filter_condition_value_text = filter_condition_dropdown.val()
                        var limit_value = $(this).find('input').val()
                        var tempid = "#"+mainid;
                        var status;
                        var logical_operator_value = $(this).find("select[data-dropdown_purpose='select_logical_operator']").val()
                        var length = 0;
                        var counter = 0;
                        var columnname = filter_condition_dropdown.attr('data-verbose_name')
                        var cname = filter_condition_dropdown.val();
                        var condition = filter_condition_value_text;
                        var inputval =  $(this).find('input').val()
                        var colname = $(`#setcolumnheadername${element_id}`)[0].innerHTML;
                        var colname1 = $(`#setcolumnname1${element_id}`)[0].innerHTML;
                        var rowname1 = $(`#setrowname1${element_id}`)[0].innerHTML;
                        var colordata = color1;
                        var alertcolumn = filter_condition_dropdown.attr('name')
                        var alertcondition = filter_condition_value_text;
                        var alertinput = $(this).find('input').val()
                        $.ajax({
                        url: "{% url 'users:alert_model' %}",
                        data: {
                            'operation': "setcolumndatainfo",
                            'cname':alertcolumn,
                            'cond':alertcondition,
                            'inp':alertinput,
                            'tname':alerttablename,
                            'rowname': rowname1,
                            'colname': colname1,
                            'data': conditionaltext,
                            'colordata':colordata,
                            'condition':condition,
                            'columnname': maincolumnname,
                            'inputval': inputval,
                            'm_name':m_name,
                        },
                        type: "POST",
                        dataType: "json",
                        success: function (data) {
                            var alertstatus = data.alert
                            if(alertstatus == "breached")
                            {
                            $(tempid).css("background-color",''+ color1)
                            $(tempid).html(conditionaltext)
                            }
                            else{
                            $(tempid).css("background-color","white")
                            $(tempid).html("")
                            }
                        },
                        error: function () {
                        }
                        })
                    });
                    $(`#setcolumnheadername${element_id}`)[0].innerHTML="";
                    $(`#setcolumnname1${element_id}`)[0].innerHTML="";
                    $(`#setrowname1${element_id}`)[0].innerHTML="";
                }
                else { // if more than 1 row exists, then its a simple_multi_column filter with logical operators
                filter_rows.each(function () {
                    var filter_condition_dropdown = $(this).find("select[data-dropdown_purpose='select_filter_condition']")
                    var col_verbose_name = filter_condition_dropdown.attr('data-verbose_name')
                    var filter_condition_value_text = filter_condition_dropdown.val()
                    var limit_value = $(this).find('input').val()
                    var logical_operator_value = $(this).find("select[data-dropdown_purpose='select_logical_operator']").val()
                    alert_list_temp.push({
                    "column_verbose_name": col_verbose_name,
                    "condition": filter_condition_value_text,
                    "limit": limit_value,
                    "dependency": "true",
                    "operator": logical_operator_value
                    })
                })
                type_of_alert = "simple_multi_column"
                }
            }
            })
            </script>
            <!--show filter card in alert tab-->
            <script src="{% static 'js/Kore_TI_js/set_alert/show_filter_card_alert_tab.min.js' %}"></script>
            <!--show filter card in alert tab code ends-->

            <!--Filter By Alter tag in alert tab-->
            <script src="{% static 'js/Kore_TI_js/set_alert/filter_by_alert_tag_alert_tab.min.js' %}"></script>
            <!--code ends filter by alter tag in alter tab-->

            <!--delete base alert of column and condition-->
            <script src="{% static 'js/Kore_TI_js/set_alert/delete_base_alert.min.js' %}"></script>

            <!--code ends delete base alert of column and condition-->

            <!--delete inner alert of limit-->
            <script src="{% static 'js/Kore_TI_js/set_alert/delete_inner_alert_limit.min.js' %}"></script>
            <!--code ends delete inner alert of limit-->

            <!--Change status of alert from enable to disable or vice versa-->
            <script src="{% static 'js/Kore_TI_js/set_alert/change_alert_status.min.js' %}"></script>
            <!--code ends change status of alert from enable to disable or vice versa-->

            <!--Change color of alert-->
            <script src="{% static 'js/Kore_TI_js/set_alert/change_color_alert.min.js' %}"></script>
            <!--code ends change color of alert-->

            <!--Add new limit in alert tab-->
            <script src="{% static 'js/Kore_TI_js/set_alert/add_new_limit_alert.min.js' %}"></script>
            <!--code ends add new limit in alert tab-->

            <!--edit alert limit in alert tab-->
            <script src="{% static 'js/Kore_TI_js/set_alert/edit_alert_limit.min.js' %}"></script>
            <!--code ends edit alert limit in alert atb-->

            <!--toggle button in alert-->
            <script src="{% static 'js/Kore_TI_js/set_alert/toggle_set_alert_button.min.js' %}"></script>
            <!--toggle button in alert ends-->

            <!--alert datatable-->
            <script src="{% static 'js/Kore_TI_js/set_alert/alert_datatable.min.js' %}"></script>
             <script>
            //Custom View Starts Here
            var customViewIndex = {};customViewIndex["process08790576004318207"] = 'None' ; var element_id='process08790576004318207';  if (customViewIndex['process08790576004318207'].length > 0 && customViewIndex[element_id] != "None") {
            function viewDetails() {
                $.ajax({
                    url: '/users/customView/',

                    data: {
                    'custom_view_columns': JSON.stringify(customViewIndex['process08790576004318207']),
                    'id': JSON.stringify('process08790576004318207')
                    },
                    type: "POST",
                    dataType: "json",
                    success: function (data) {
                    },
                    error: function () {
                    alert("Error");
                    }
                })
                var lenTable = $("#example1"+'process08790576004318207').find('tbody').find('tr').length;

            };

            viewDetails();


            $("#example1"+'process08790576004318207').find('tbody').on('click','button',function(){
            function customViewTableDesign() {
            $("#customViewTable"+'process08790576004318207').DataTable( {
                    "autoWidth": true,
                    "scrollY": '60vh',
                    "scrollCollapse": true,
                    "scrollX": "110%",
                    // "serverSide":true,
                    orderCellsTop: true,
                    //fixedHeader: true,
                    responsive: true,
                    colReorder: {
                    fixedColumnsLeft: 1,
                    },
                    // stateSave: true,
                    "deferRender": true,
                    "paging": true,
                    "lengthMenu": [[1, 5, 50, -1], [1, 5, 50, "All"]],
                    stripeClasses: false,
                    "pageLength": 50,
                    dom: 'lfBrtip',
                    "sScrollX": "100%",
                    "scrollX": true,
                    buttons: [
                        {
                        extend: 'collection',
                        text: 'Export',
                        buttons: [
                            {
                            extend: 'copy', title: '', exportOptions: {
                                columns: ':visible:not(.noVis)'
                            }
                            },
                            {
                            extend: 'excel', title: '', exportOptions: {
                                columns: ':visible:not(.noVis)'
                            }
                            },
                            {
                            extend: 'csv', title: '', exportOptions: {
                                columns: ':visible:not(.noVis)'
                            }
                            },
                            {
                            extend: 'pdf', title: '', exportOptions: {
                                columns: ':visible:not(.noVis)'
                            }
                            },
                        ],
                        },
                        {
                        extend: 'colvis',
                        className: "scroller",
                        }
                    ],
                    columnDefs: [
                        {
                        targets: "_all",
                        className: 'dt-center allColumnClass all'
                        },
                        {
                        targets: 0,
                        width: "20%",
                        className: 'noVis'
                        }
                    ],


                    });
            };
            $("#customViewTable"+'process08790576004318207'+"_wrapper").remove();
            $("#customViewTable"+'process08790576004318207').remove();
            var customTable = `
            <table id="customViewTable${'process08790576004318207'}"  class="display compact" style="width:100%;"">
                <thead>
                </thead>

                <tbody>

                </tbody>

            </table>
            `
            $("#customShowDetailList"+'process08790576004318207').find('.modal-body').find('.card-body').append(customTable);
            $("#customShowDetailList"+'process08790576004318207').find('.modal-body').find('.card-header').html(`<h5 class="mb-0" style="text-align:center;">
                ${$(this).attr('data-name')}
            </h5>`)
            $("#customShowDetailList"+'process08790576004318207').css('display','block');
            var customViewData = JSON.parse($(this).attr('data-pop'));
            var customTableHtml = "<tr>";
            for (const [key, value] of Object.entries(customViewData["0"])) {
                customTableHtml = customTableHtml + `<th>${key}</th>`;
            }
            customTableHtml = customTableHtml + `</tr>`
            $("#customViewTable"+'process08790576004318207').find('thead').append(`
            ${customTableHtml}
            `)
            for (const [key, value] of Object.entries(customViewData)) {
                var html = "<tr>";
                for (const [key1, value1] of Object.entries(value)) {
                html = html + `<td>${value1}</td>`
                }
                html = html + `</tr>`;
                $("#customViewTable"+'process08790576004318207').find('tbody').append(`
                ${html}
                `)
            }
            customViewTableDesign();
            })
            $("#customShowDetailList"+'process08790576004318207').find('.close').on('click',function() {
            $("#customShowDetailList"+'process08790576004318207').css('display','none');
            })
            }
            // Ends Here

            </script>    <script>
        var reportingViewTemplate = {}; </script>
            <!-- Constriant  -->


            <script>listViewEditTemplate["process08790576004318207"]="Default";
            </script>

            <script type="text/javascript">


            var tab_constriant="['null']"
            var tables_names="None"
            var constraint_holder="None"
            var listConstraintID=  "process08790576004318207"

            var selectedFields = "None"
            var additionalCol ="None"
            selectedFields += additionalCol
if(listViewEditTemplate[listConstraintID] == "Model Definition"){
                    var listflowcolumnname = "None";

                    var htmlmodeldef= `
                    <ul class="nav nav-tabs nav-fill" id="myTab" role="tablist">

                    <li class="nav-item">
                    <a class="nav-link l3items active l3items" id="model_desc-tab" data-toggle="tab" href="#model_desc_tab_content" role="tab" aria-controls="list_user" aria-selected="false">Model Description</a>
                    </li>

                    <li class="nav-item">
                    <a class="nav-link l3items" id="model_method-tab" data-toggle="tab" href="#model_method_tab_content" role="tab" aria-controls="create_user" aria-selected="false">Model Methodology</a>
                    </li>

                    <li class="nav-item">
                    <a class="nav-link" id="model_stakeholders-tab" data-toggle="tab" href="#model_stakeholders_tab_content" role="tab" aria-controls="list_view" aria-selected="true">Model Stakeholders</a>
                    </li>

                    <li class="nav-item">
                    <a class="nav-link l3items" id="model_governance-tab" data-toggle="tab" href="#model_governance_tab_content" role="tab" aria-controls="create_view" aria-selected="false">Model Governance</a>
                    </li>
                </ul>

                    <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="model_desc_tab_content" role="tabpanel" aria-labelledby="model_desc-tab">
                    <br><br>
                    <div class="form-row form-row"> <div class="form-group col-md-3"> <div id="div_id_model_name" class="form-group"> <label for="id_model_name_processmodeldef" class=" requiredField">
                            Model name<span class="asteriskField">*</span> </label> <div class=""> <input type="text" name="model_name" value="" maxlength="255" id="id_model_name_processmodeldef" class="textinput textInput form-control is-invalid" required="" readonly> </div> </div> </div> <div class="form-group col-md-3"> <div id="div_id_model_description" class="form-group"> <label for="id_model_description_processmodeldef" class="">
                            Model description
                        </label> <div class=""> <input type="text" name="model_description" value="" maxlength="255" id="id_model_description_processmodeldef" class="textinput textInput form-control is-invalid" readonly> </div> </div> </div> <div class="form-group col-md-3"> <div id="div_id_model_type" class="form-group"> <label for="id_model_type_processmodeldef" class="">
                            Model type
                        </label> <div class=""> <input type="text" name="model_type" maxlength="255" id="id_model_type_processmodeldef" class="textinput textInput form-control"> </div> </div> </div> <div class="form-group col-md-3"> <div id="div_id_active_inactive" class="form-group"> <label for="id_active_inactive_processmodeldef" class="">
                            Active inactive
                        </label> <div class=""> <select name="active_inactive" class="form-control select2 form-control" id="id_active_inactive_processmodeldef"> <option value="Active">Active</option> <option value="Inactive">Inactive</option>

            </select> </div> </div> </div> </div>
                    </div>
                    <div class="tab-pane fade" id="model_method_tab_content" role="tabpanel" aria-labelledby="model_method-tab">
                    <br><br>
                    <div class="form-row"> <div class="form-group col-md-3"> <div id="div_id_model_methodology_mapping_description" class="form-group"> <label for="id_model_methodology_mapping_description_processmodeldef" class="">
                            Model methodology mapping description
                        </label> <div class=""> <input type="text" name="model_methodology_mapping_description" maxlength="255" id="id_model_methodology_mapping_description_processmodeldef" class="textinput textInput form-control"> </div> </div> </div> </div> <div class="form-row"> <div class="form-group col-md-3"> <div id="div_id_model_methodology_parameters" class="form-group"> <label for="id_model_methodology_parameters_processmodeldef" class="">
                            Model methodology parameters
                        </label> <div class=""> <input type="text" name="model_methodology_parameters" maxlength="255" id="id_model_methodology_parameters_processmodeldef" class="textinput textInput form-control"> </div> </div> </div> </div> <div class="form-row"><div class="form-group col-md-3"> <div id="div_id_model_inputs" class="form-group"> <label for="id_model_inputs_processmodeldef" class=" requiredField">
                            Model inputs<span class="asteriskField">*</span> </label> <div class=""> <input type="text" name="model_inputs" maxlength="255" id="id_model_inputs_processmodeldef" class="textinput textInput form-control is-invalid" required=""> <span id="error_1_id_model_inputs" class="invalid-feedback"><strong>This field is required.</strong></span> </div> </div> </div></div> <div class="form-row"> <div class="form-group col-md-3"> <div id="div_id_model_data_management_methods" class="form-group"> <label for="id_model_data_management_methods_processmodeldef" class="">
                            Model data management methods
                        </label> <div class=""> <input type="text" name="model_data_management_methods" maxlength="255" id="id_model_data_management_methods_processmodeldef" class="textinput textInput form-control"> </div> </div> </div> </div>
                        <div class="form-row">
                        <div class="form-group col-md-3"> <div id="div_id_model_variables" class="form-group"> <label for="id_model_variables_processmodeldef" class="">
                            Model variables
                        </label> <div class=""> <input type="text" name="model_variables" maxlength="255" id="id_model_variables_processmodeldef" class="textinput textInput form-control"> </div> </div> </div></div> <div class="form-row"> <div class="form-group col-md-3"> <div id="div_id_model_output_format" class="form-group"> <label for="id_model_output_format_processmodeldef" class="">
                            Model output format
                        </label> <div class=""> <input type="text" name="model_output_format" maxlength="255" id="id_model_output_format_processmodeldef" class="textinput textInput form-control"> </div> </div> </div> </div>
                        </div>
                        <div class="tab-pane fade" id="model_stakeholders_tab_content" role="tabpanel" aria-labelledby="model_stakeholders-tab">
                        <br><br>

                        <div class="form-row form-row">
                <div class="form-group col-md-6">
                    <label class="acies_label col-md-8">Workflow Steps</label>
                    <div class="row">
                    <div class="col-md-6">
                                    <select class="selectworkflowtemplate select2 form-control" name="table"><option style="display:none"></option>`
                var master_data_template = `None`
                master_data_template = JSON.parse(master_data_template.replace(/&quot;/g,'"'))
                for(i in master_data_template) {
                    htmlmodeldef = htmlmodeldef + `<option value="${master_data_template[i]}">${master_data_template[i]}</option>`
                }

                var htmlmodeldef = htmlmodeldef + `</select></div> &nbsp &nbsp &nbsp
                <div class="col-md-5">
                <input type="button" value="Load" class="btn btn-primary buttonstyling acies_btn acies_btn-primary" id="loadbuttontemplate">
                                </div></div></div></div>
                    <table id ="model_stakeholders_table">
                    <thead>
                        <tr>
                        <th>
                            <center>Workflow Steps</center>
                        </th>
                        <th>
                            <center>Stakeholders</center>
                        </th>
                        <th>
                            <center>Approvers</center>
                        </th>
                        </tr>
                        </thead>
                        <tbody id="modeldefstakeholders_table_body">
                        </tbody>
                    </table>
                    <br><br></div>
                        <div class="tab-pane fade" id="model_governance_tab_content" role="tabpanel" aria-labelledby="model_governance-tab">
                        <br>
                        <div id="card1" class="card card-default collapsed-card">
                <div class="card-header">
                    <h6 class="card-title" style="font-size: 0.8rem">Model Policy Applicability</h6>

                    <div class="card-tools">

                    <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-plus"></i></button>

                    </div>
                </div>
                <div class="card-body">
                    <div class="form-group col-md-3">
                    <select class="mdb-select md-form greyout_trig" id="model_policy_applicability" required>
                                <option value="" disabled selected>Select</option>
                            </select>
                            </div>
            </div>
            </div>
            <div id="card2" class="card card-default collapsed-card">
                <div class="card-header">
                    <h6 class="card-title" style="font-size: 0.8rem">Model Documentation</h6>

                    <div class="card-tools">

                    <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-plus"></i></button>

                    </div>
                </div>
                <div class="card-body">
                    <div id="edit_tablemodeldefdocument" class="table-editable" data-content="Please select the pool name"
                            data-toggle="popover" data-trigger="manual" data-placement="right">
                            <form id="documentform">
                            <table class="table table-responsive" id="test_tablemodeldefdocument">
                                <tr>
                        <th class="text-center">Model Document Type</th>
                        <th class="text-center">Upload</th>
                        <th class="text-center">Download</th>
                        <th class="text-center">Add</th>
                        <th class="text-center">Remove</th>
                        </tr>
                        <tr>
                            <td class="pt-3-half document_model_def" contenteditable="true" id="document_model_def" required>
                            <input type="text">
                            </td>
                            <td class="pt-3-half upload_model_defdocument" contenteditable="true" id="upload_model_defdocument" required>
                            <div class="custom-file">
                            <input type="file" id="myfile" name="myfile" class="custom-file-input modeldeffile">
                            <label class="custom-file-label">Choose file</label>
                        </div>
                            </td>
                            <td></td>
                            <td>
                                <span class="table-addmodeldefdocument"><button type="button"
                                        class="btn  btn-primary btn-rounded btn-sm my-0">+</button></span>
                            </td>
                            <td><center>
                                <span class="table-removemodeldefdocument"><button type="button" style="background-color:black"
                                        class="btn btn-danger btn-rounded btn-sm my-0">-</button></span>
                                        </center></td>
                            </tr>
                        </table>
                        </form>
                        </div>
            </div>
            </div>
            <div id="card3" class="card card-default collapsed-card">
                <div class="card-header">
                    <h6 class="card-title" style="font-size: 0.8rem">Model System Interactions</h6>

                    <div class="card-tools">

                    <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-plus"></i></button>

                    </div>
                </div>
                <div class="card-body">
                    <div id="edit_tablemodeldef" class="table-editable" data-content="Please select the pool name"
                            data-toggle="popover" data-trigger="manual" data-placement="right">
                            <table class="table table-responsive" id="test_tablemodeldef">
                                <tr>
                        <th class="text-center">System type</th>
                        <th class="text-center">System name</th>
                        <th class="text-center">Step</th>
                        <th class="text-center">Add</th>
                        <th class="text-center">Remove</th>
                        </tr>
                        <tr>
                            <td class="pt-3-half system_type_model_def" contenteditable="true" id="system_type_model_def" required>
                            <input type="text" pattern="^[a-zA-Z_.-]*$" title="Only Alphabets, _ ,- are accepted">
                            </td>
                            <td class="pt-3-half system_name_model_def" contenteditable="true" id="system_name_model_def" required>
                            <input type="text" pattern="^[a-zA-Z_.-]*$" title="Only Alphabets, _ ,- are accepted">
                            </td>
                            <td class="pt-3-half steps_model_def" contenteditable="true" id="steps_model_def" required>
                            <input type="text" pattern="^[a-zA-Z_.-]*$" title="Only Alphabets, _ ,- are accepted">
                            </td>
                            <td>
                                <span class="table-addmodeldef"><button type="button"
                                        class="btn  btn-primary btn-rounded btn-sm my-0">+</button></span>
                            </td>
                            <td><center>
                                <span class="table-removemodeldef"><button type="button" style="background-color:black"
                                        class="btn btn-danger btn-rounded btn-sm my-0">-</button></span>
                                        </center></td>
                            </tr>
                        </table>
                        </div>
            </div>
            </div>
            <div id="card4" class="card card-default collapsed-card">
                <div class="card-header">
                    <h6 class="card-title" style="font-size: 0.8rem">Ongoing Maintenance</h6>

                    <div class="card-tools">

                    <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-plus"></i></button>

                    </div>
                </div>
                <div class="card-body">
                    <div class="form-row form-row">
                    <div class="form-group col-md-3"> <div id="div_id_val_freq" class="form-group"> <label for="id_val_freq_processmodeldef" class="">
                    Model validation frequency
                        </label> <div class=""> <select name="model_validation_frequency" class="form-control select2 form-control" id="id_val_freq_processmodeldef"> <option value="Annually">Annually</option> <option value="Semi-Annual">Semi-Annual</option><option value="Quarterly">Quarterly</option><option value="Monthly">Monthly</option>

            </select> </div> </div> </div></div>
            <div class="form-row form-row">
            <div class="form-group col-md-3"> <div id="div_id_recalib_freq" class="form-group"> <label for="id_recalib_freq_processmodeldef" class="">
            Model recalibration frequency
                        </label> <div class=""> <select name="model_recalibration_frequency" class="form-control select2 form-control" id="id_recalib_freq_processmodeldef"> <option value="Annually">Annually</option> <option value="Semi-Annual">Semi-Annual</option><option value="Quarterly">Quarterly</option><option value="Monthly">Monthly</option>
            </select> </div> </div> </div>
            </div>
            </div>
            </div>
            </div>
                        </div>
                        <div class="row">
                        <input type="button" value="Save and send for approval" class="btn btn-primary buttonstyling acies_btn acies_btn-primary" id="saveapprovebuttontemplate"> &nbsp &nbsp &nbsp
                        <input type="button" value="Save" class="btn btn-primary buttonstyling acies_btn acies_btn-primary" id="savebuttontemplate"> &nbsp &nbsp &nbsp
                        <input type="button" value="Approve" class="btn btn-primary buttonstyling acies_btn acies_btn-primary" id="approvebuttontemplate"> &nbsp &nbsp &nbsp
                        </div>
                    </div>`
                    var users_template = `None`

            users_template = JSON.parse(users_template.replace(/&quot;/g,'"'))
                var htmlusers = `<select class="selectuserstemplate select2 form-control" name="table"><option style="display:none"></option>`
                for(i in users_template) {
                    htmlusers = htmlusers + `<option name="${users_template[i]}" value="${users_template[i]}">${users_template[i]}</option>`
                }

                var htmlusers = htmlusers + `</select>`
                }

            if(listViewEditTemplate[listConstraintID] == "Flow Definition"){
                var mastertableflow =  "None"
                var master_data_flow = None
                var master_data_flow = master_data_flow

                var htmlflow= `
                <div class="form-group col-3">
                                    <label class="acies_label col-md-8">None</label><br>
                                    <select class="selectflow select2 form-control" name="table"><option style="display:none"></option>`

                var listflowcolumn = "div_id_" + "None"

                var listflowcolumnname =  "None"

                var masterColumnflow =  "None" ;

                for(i in master_data_flow) {
                    htmlflow = htmlflow + `<option value="${master_data_flow[i]}">${master_data_flow[i]}</option>`
                }


                var htmlflow = htmlflow + `</select>
                                </div>
                    <table id ="flow_table">
                    <thead>
                        <tr>
                        <th>
                            <center>Workflow Steps</center>
                        </th>
                        <th>
                            <center>Actions</center>
                        </th>
                        </tr>
                        </thead>
                        <tbody id="flow_table_body">
                        </tbody>
                    </table>
                    <br><br>
                `
                    } </script>    <!--  -->
            <script>
            var element_id = "process08790576004318207"
            $('#printChartConfigButton'+'process08790576004318207').on('click', async function() {
                var element_id =  'process08790576004318207'
                $('#printChartConfigButton'+element_id).html(`<i class="fa fa-circle-o-notch fa-spin"></i> Loading`)
                function sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
                }
                $('#'+element_id+'_tab_content').find('.card').eq(0).css('display','none');

                $('#areaToPlotDifferentGraphs'+element_id).find('.charts').find('.card-header').find('.row').find('i').css('display','none')
                $(document).scrollTop(0);
                await sleep(2000);
                $(document).scrollTop(0);
                await html2canvas($('#plotSection'+element_id).find('#areaToPlotDifferentGraphs'+element_id)[0], { allowTaint: true }).then(function(canvas) {

                    var imgData = canvas.toDataURL('image/png',1.0);
                    var pdfWidth = $('#plotSection'+element_id).find('#areaToPlotDifferentGraphs'+element_id)[0].offsetWidth
                    var pdfHeight =$('#plotSection'+element_id).find('#areaToPlotDifferentGraphs'+element_id)[0].offsetHeight
                    var doc = new jsPDF("l","mm",[pdfWidth,pdfHeight]);
                    doc.addImage(canvas.toDataURL('image/png'), 'PNG',0,0,doc.internal.pageSize.width,(doc.internal.pageSize.height));
                    doc.save('list-main.pdf');
                    $('#areaToPlotDifferentGraphs'+element_id).find('.charts').find('.card-header').find('.row').find('i').css('display','block')
                    $('#'+element_id+'_tab_content').find('.card').eq(0).css('display','block');
                    //$(`#${tabDict["pdfButtonID"]}`).html(`<i class="fa fa-file-pdf-o"></i>&nbsp;PDF`)
                });
                $('#printChartConfigButton'+element_id).html(`<i class="fa fa-file-pdf-o"></i>&nbsp;PDF`)
            })
            var masterTableName = "None"
            </script>

        <script>
        function alertAgg(e){
            var selectedElement=$('.alertAgg');
            var tab1Header=$('#tab1Header1')[0].innerText;
            var tab2Header=$('#tab2Header2')[0].innerText;
            var tab3Header=$('#tab3Header3')[0].innerText;
            $( `<div class="dt-button-background displayclass" style=""></div>
            <div class="dt-button-collection displaynone" style="top: 5%; left:90%;"><div role="menu">
            <div class="row"><button type="button" class="btn btn-default alertDashboardmove" data-tab='Tab1' data-tab_ct='Tab1'">${tab1Header}</button></div>
            <div class="row"><button type="button" class="btn btn-default alertDashboardmove" data-tab='Tab2' data-tab_ct='Tab2'">${tab2Header}</button></div>
            <div class="row"><button type="button" class="btn btn-default alertDashboardmove" data-tab='Tab3' data-tab_ct='Tab3'">${tab3Header}</button></div>
            </div></div>` ).insertAfter(selectedElement);

            $('.alertDashboardmove').click(function () {
            if ($(this).attr('data-tab_ct') == 'Tab1') {$(`#setalertcardprocess08790576004318207`).appendTo("#alertChartsTab1");$('.displayclass').css("display","none")
            $('.displaynone').css("display","none")
            $('.alertAgg').css("display","none")
            document.getElementsByClassName("displayclass").style.position = "inherit";
            var div = document.getElementsByClassName("alertAgg");
            div.parentNode.removeChild(div);
            }
            if ($(this).attr('data-tab_ct') == 'Tab2') {$(`#setalertcardprocess08790576004318207`).appendTo("#alertChartsTab2")
            $('.displayclass').css("display","none")
            $('.displaynone').css("display","none")
            $('.alertAgg').css("display","none")
            document.getElementsByClassName("displayclass").style.position = "inherit";
            var div = document.getElementsByClassName("alertAgg");
            div.parentNode.removeChild(div);}
            if ($(this).attr('data-tab_ct') == 'Tab3') {$(`#setalertcardprocess08790576004318207`).appendTo("#alertChartsTab3")
            $('.displayclass').css("display","none")
            $('.displaynone').css("display","none")
            $('.alertAgg').css("display","none")
            document.getElementsByClassName("displayclass").style.position = "inherit";
            var div = document.getElementsByClassName("alertAgg");
            div.parentNode.removeChild(div);}
            })
            }

            function conditionset(){

            var condition=document.getElementById("condition").value;
            var colorset = document.getElementById("colorset").value;
            var text = document.getElementById("text").value;
            }
            </script>
            <script>
            table_data_dict={}; table_data_dict["original_verbose_column_names"]= [{'verboseName': 'Id', 'originalName': 'id'}, {'verboseName': 'Name', 'originalName': 'name'}, {'verboseName': 'Pan', 'originalName': 'pan'}, {'verboseName': 'Created By', 'originalName': 'created_by'}, {'verboseName': 'Modified By', 'originalName': 'modified_by'}, {'verboseName': 'Created Date', 'originalName': 'created_date'}, {'verboseName': 'Modified Date', 'originalName': 'modified_date'}, {'verboseName': 'Active From', 'originalName': 'active_from'}, {'verboseName': 'Active To', 'originalName': 'active_to'}, {'verboseName': 'Transaction_Id', 'originalName': 'transaction_id'}]
            table_data_dict["model_name"]= "test_table1";     table_data_dict["dataContainingColumnNames"] = [{"data": "Id"}, {"data": "Name"}, {"data": "Pan"}, {"data": "Transaction_Id"}, {"data": "Active From"}, {"data": "Active To"}, {"data": "Created By"}, {"data": "Created Date"}, {"data": "Modified By"}, {"data": "Modified Date"}];
            table_data_dict["dataLoadingFirstTime"] = [{"Id": 1, "Name": "Srijan Raychaudhuri", "Pan": "APX8999G", "Created By": "admin1", "Modified By": "admin1", "Created Date": "2022-01-26T20:06:14", "Modified Date": "2022-01-26T20:06:14", "Active From": "2022-01-26T20:06:14", "Active To": "2099-07-05T00:00:00", "Transaction_Id": "NULL"}]
            //Filter variables
            table_data_dict["table_name"] = "users_test_table1";
            table_data_dict["label_columns"] = {'id': 'Id', 'name': 'Name', 'pan': 'Pan', 'created_by': 'Created By', 'created_date': 'Created Date', 'modified_by': 'Modified By', 'modified_date': 'Modified Date', 'approval_status': 'approval_status', 'approved_by': 'approved_by', 'active_from': 'Active From', 'active_to': 'Active To', 'transaction_id': 'Transaction_Id'};
            table_data_dict["search_filters"] = {'id': ['Equal to', 'Greater than', 'Smaller than', 'Not Equal to', 'IN', 'NOT IN'], 'name': ['Starts with', 'Ends with', 'Contains', 'Equal to', 'Not Starts with', 'Not Ends with', 'Not Contains', 'Not Equal to', 'IN', 'NOT IN'], 'pan': ['Starts with', 'Ends with', 'Contains', 'Equal to', 'Not Starts with', 'Not Ends with', 'Not Contains', 'Not Equal to', 'IN', 'NOT IN'], 'created_by': ['Starts with', 'Ends with', 'Contains', 'Equal to', 'Not Starts with', 'Not Ends with', 'Not Contains', 'Not Equal to', 'IN', 'NOT IN'], 'created_date': ['Equal to', 'Greater than', 'Smaller than', 'Not Equal to', 'IN', 'NOT IN'], 'modified_by': ['Starts with', 'Ends with', 'Contains', 'Equal to', 'Not Starts with', 'Not Ends with', 'Not Contains', 'Not Equal to', 'IN', 'NOT IN'], 'modified_date': ['Equal to', 'Greater than', 'Smaller than', 'Not Equal to', 'IN', 'NOT IN'], 'approval_status': ['Starts with', 'Ends with', 'Contains', 'Equal to', 'Not Starts with', 'Not Ends with', 'Not Contains', 'Not Equal to', 'IN', 'NOT IN'], 'approved_by': ['Starts with', 'Ends with', 'Contains', 'Equal to', 'Not Starts with', 'Not Ends with', 'Not Contains', 'Not Equal to', 'IN', 'NOT IN'], 'active_from': ['Equal to', 'Greater than', 'Smaller than', 'Not Equal to', 'IN', 'NOT IN'], 'active_to': ['Equal to', 'Greater than', 'Smaller than', 'Not Equal to', 'IN', 'NOT IN'], 'transaction_id': ['Starts with', 'Ends with', 'Contains', 'Equal to', 'Not Starts with', 'Not Ends with', 'Not Contains', 'Not Equal to', 'IN', 'NOT IN']};
            table_data_dict["form_fields"] = {'id': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Id</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=id data-verbose_name="Id" data-dropdown_purpose="select_filter_condition"><option value="Equal to">Equal to</option><option value="Greater than">Greater than</option><option value="Smaller than">Smaller than</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></td><td class="dt-center"><div class="" style="max-width:25em;"><input type="number"  data-tablename=\'test_table1\' placeholder=\'id\' name=id step="any" class="numberinput form-control" required=""></div></td>', 'name': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Name</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=name data-verbose_name="Name" data-dropdown_purpose="select_filter_condition"><option value="Starts with">Starts with</option><option value="Ends with">Ends with</option><option value="Contains">Contains</option><option value="Equal to">Equal to</option><option value="Not Starts with">Not Starts with</option><option value="Not Ends with">Not Ends with</option><option value="Not Contains">Not Contains</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></div></td><td class="dt-center"><div class="" style="max-width:25em;"><input type="text" placeholder=\'name\' name=name maxlength="100" class="textinput textInput form-control" required="" ></div></td>', 'pan': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Pan</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=pan data-verbose_name="Pan" data-dropdown_purpose="select_filter_condition"><option value="Starts with">Starts with</option><option value="Ends with">Ends with</option><option value="Contains">Contains</option><option value="Equal to">Equal to</option><option value="Not Starts with">Not Starts with</option><option value="Not Ends with">Not Ends with</option><option value="Not Contains">Not Contains</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></div></td><td class="dt-center"><div class="" style="max-width:25em;"><input type="text" placeholder=\'pan\' name=pan maxlength="100" class="textinput textInput form-control" required="" ></div></td>', 'created_by': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Created By</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=created_by data-verbose_name="Created By" data-dropdown_purpose="select_filter_condition"><option value="Starts with">Starts with</option><option value="Ends with">Ends with</option><option value="Contains">Contains</option><option value="Equal to">Equal to</option><option value="Not Starts with">Not Starts with</option><option value="Not Ends with">Not Ends with</option><option value="Not Contains">Not Contains</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></div></td><td class="dt-center"><div class="" style="max-width:25em;"><input type="text" placeholder=\'created_by\' name=created_by maxlength="100" class="textinput textInput form-control" required="" ></div></td>', 'created_date': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Created Date</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=created_date data-verbose_name="Created Date" data-dropdown_purpose="select_filter_condition"><option value="Equal to">Equal to</option><option value="Greater than">Greater than</option><option value="Smaller than">Smaller than</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></td><td class="dt-center"><div class="input-group date" style="max-width:25em;"><input type="datetime-local" placeholder="YYYY-MM-DD HH:MM" class="form-control datepickerinput form-control" required="" dp_config="{&quot;id&quot;: &quot;dp_4&quot;, &quot;picker_type&quot;: &quot;DATE&quot;, &quot;linked_to&quot;: null, &quot;options&quot;: {&quot;showClose&quot;: true, &quot;showClear&quot;: true, &quot;showTodayButton&quot;: true, &quot;format&quot;: &quot;DD-MM-YYYY&quot;}}"><div class="input-group-addon input-group-append" data-target="#datetimepicker1" data-toggle="datetimepickerv"><div class="input-group-text"><i class="fa fa-clock"></i></div></div></div></td>', 'modified_by': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Modified By</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=modified_by data-verbose_name="Modified By" data-dropdown_purpose="select_filter_condition"><option value="Starts with">Starts with</option><option value="Ends with">Ends with</option><option value="Contains">Contains</option><option value="Equal to">Equal to</option><option value="Not Starts with">Not Starts with</option><option value="Not Ends with">Not Ends with</option><option value="Not Contains">Not Contains</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></div></td><td class="dt-center"><div class="" style="max-width:25em;"><input type="text" placeholder=\'modified_by\' name=modified_by maxlength="100" class="textinput textInput form-control" required="" ></div></td>', 'modified_date': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Modified Date</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=modified_date data-verbose_name="Modified Date" data-dropdown_purpose="select_filter_condition"><option value="Equal to">Equal to</option><option value="Greater than">Greater than</option><option value="Smaller than">Smaller than</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></td><td class="dt-center"><div class="input-group date" style="max-width:25em;"><input type="datetime-local" placeholder="YYYY-MM-DD HH:MM" class="form-control datepickerinput form-control" required="" dp_config="{&quot;id&quot;: &quot;dp_4&quot;, &quot;picker_type&quot;: &quot;DATE&quot;, &quot;linked_to&quot;: null, &quot;options&quot;: {&quot;showClose&quot;: true, &quot;showClear&quot;: true, &quot;showTodayButton&quot;: true, &quot;format&quot;: &quot;DD-MM-YYYY&quot;}}"><div class="input-group-addon input-group-append" data-target="#datetimepicker1" data-toggle="datetimepickerv"><div class="input-group-text"><i class="fa fa-clock"></i></div></div></div></td>', 'approval_status': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">approval_status</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=approval_status data-verbose_name="approval_status" data-dropdown_purpose="select_filter_condition"><option value="Starts with">Starts with</option><option value="Ends with">Ends with</option><option value="Contains">Contains</option><option value="Equal to">Equal to</option><option value="Not Starts with">Not Starts with</option><option value="Not Ends with">Not Ends with</option><option value="Not Contains">Not Contains</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></div></td><td class="dt-center"><div class="" style="max-width:25em;"><input type="text" placeholder=\'approval_status\' name=approval_status maxlength="100" class="textinput textInput form-control" required="" ></div></td>', 'approved_by': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">approved_by</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=approved_by data-verbose_name="approved_by" data-dropdown_purpose="select_filter_condition"><option value="Starts with">Starts with</option><option value="Ends with">Ends with</option><option value="Contains">Contains</option><option value="Equal to">Equal to</option><option value="Not Starts with">Not Starts with</option><option value="Not Ends with">Not Ends with</option><option value="Not Contains">Not Contains</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></div></td><td class="dt-center"><div class="" style="max-width:25em;"><input type="text" placeholder=\'approved_by\' name=approved_by maxlength="100" class="textinput textInput form-control" required="" ></div></td>', 'active_from': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Active From</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=active_from data-verbose_name="Active From" data-dropdown_purpose="select_filter_condition"><option value="Equal to">Equal to</option><option value="Greater than">Greater than</option><option value="Smaller than">Smaller than</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></td><td class="dt-center"><div class="input-group date" style="max-width:25em;"><input type="datetime-local" placeholder="YYYY-MM-DD HH:MM" class="form-control datepickerinput form-control" required="" dp_config="{&quot;id&quot;: &quot;dp_4&quot;, &quot;picker_type&quot;: &quot;DATE&quot;, &quot;linked_to&quot;: null, &quot;options&quot;: {&quot;showClose&quot;: true, &quot;showClear&quot;: true, &quot;showTodayButton&quot;: true, &quot;format&quot;: &quot;DD-MM-YYYY&quot;}}"><div class="input-group-addon input-group-append" data-target="#datetimepicker1" data-toggle="datetimepickerv"><div class="input-group-text"><i class="fa fa-clock"></i></div></div></div></td>', 'active_to': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Active To</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=active_to data-verbose_name="Active To" data-dropdown_purpose="select_filter_condition"><option value="Equal to">Equal to</option><option value="Greater than">Greater than</option><option value="Smaller than">Smaller than</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></td><td class="dt-center"><div class="input-group date" style="max-width:25em;"><input type="datetime-local" placeholder="YYYY-MM-DD HH:MM" class="form-control datepickerinput form-control" required="" dp_config="{&quot;id&quot;: &quot;dp_4&quot;, &quot;picker_type&quot;: &quot;DATE&quot;, &quot;linked_to&quot;: null, &quot;options&quot;: {&quot;showClose&quot;: true, &quot;showClear&quot;: true, &quot;showTodayButton&quot;: true, &quot;format&quot;: &quot;DD-MM-YYYY&quot;}}"><div class="input-group-addon input-group-append" data-target="#datetimepicker1" data-toggle="datetimepickerv"><div class="input-group-text"><i class="fa fa-clock"></i></div></div></div></td>', 'transaction_id': '<tr><td class="dt-center"><div class="" style="max-width:15em;"><a href="javascript:void(0)" class="remove_filter fa fa-times" style="color:#b58d2b;">&nbsp;<b style="font-family:Arial;font-size:12px;font-weight:200;">Transaction_Id</b></a></div></td><td class="dt-center"><div class="" style="max-width:25em;"><select class="form-control select2bs4" onchange="InOperationTag.call(this)" name=transaction_id data-verbose_name="Transaction_Id" data-dropdown_purpose="select_filter_condition"><option value="Starts with">Starts with</option><option value="Ends with">Ends with</option><option value="Contains">Contains</option><option value="Equal to">Equal to</option><option value="Not Starts with">Not Starts with</option><option value="Not Ends with">Not Ends with</option><option value="Not Contains">Not Contains</option><option value="Not Equal to">Not Equal to</option><option value="IN">IN</option><option value="NOT IN">NOT IN</option></select></div></td><td class="dt-center"><div class="" style="max-width:25em;"><input type="text" placeholder=\'transaction_id\' name=transaction_id maxlength="100" class="textinput textInput form-control" required="" ></div></td>'};

            listViewTableDict["process08790576004318207"]=table_data_dict;
            element_table_IDList.push("process08790576004318207");$(`#example1process08790576004318207 tbody`).on( 'click', 'td', function (){    $('#download_pdf').remove()
                var table = $(`#example1process08790576004318207`).DataTable();
                var t_data = $(this.closest("tr"))
                var tab = table.row( t_data ).data();
                var primaryKeyId = (tab[Object.keys(tab)[1]])
                var idx = table.cell( this ).index().column;
                var title = table.column( idx ).header();
                var table_name=$(this).closest('tr').find('a').attr('data-table_model_name')
                var column_name = $(title).html()
                var filename =  $(this)[0].innerText

                var url = window.location.pathname;
                var url1;

                url1 = url + table_name + '/download_file/' + primaryKeyId
                var filefields = [];    if(filefields.includes(column_name) == true){
                my_form=document.createElement('FORM');
                my_form.name='myForm';
                my_form.id="download_pdf"
                my_form.method='POST';
                my_form.enctype="multipart/form-data";
                var ctoken = $('form').find("input[name='csrfmiddlewaretoken']").attr('value')
                my_form.innerHTML = `<input type="hidden" name="csrfmiddlewaretoken" value=${ctoken}><input type="hidden" name="listOrDelete" value="download_uploaded_file"><input type="hidden" name="filename" value='${filename}'>`
                $('.container-fluid').append(my_form)
                $('#download_pdf').trigger("submit")
                $('#download_pdf').remove()
                }


            } );$(`button[name='List_view__Data_table__Multi_selectprocess08790576004318207']`).on("click", function ()     {
                if ($(this).val() == "List_view__Data_table__Multi_select_show_checkboxes") {$(`#example1process08790576004318207 input.multi_column_select_checkbox`).each(function (){
                    $(this).show()
                })
                $(this).html("Select")

                $(this).val("List_view__Data_table__Multi_select_open_modal")

                return
                }; dataContainingColumnNames_sel = listViewTableDict["process08790576004318207"]['dataContainingColumnNames']
                var table = $(`#example1process08790576004318207`).DataTable() ;
                table_name = 'users_test_table1';  if ($(this).val() == "List_view__Data_table__Multi_select_open_modal") {
                    pk_list = [];    $(`#example1process08790576004318207 input.multi_column_select_checkbox:checked`).each(function (){
                    var cellIndex = this.parentElement._DT_CellIndex
                    var rowData = table.row(cellIndex.row).data();
                    var primaryKeyColumnName = dataContainingColumnNames_sel[0].data
                    var primaryKeyId = rowData[primaryKeyColumnName]
                    pk_list.push(primaryKeyId)
                    });$(`#example1process08790576004318207 input.multi_column_select_checkbox`).each(function () {
                    $(this).prop("checked", false)
                    $(this).hide()
                })

                $(this).html("Multi select")
                $(this).val("List_view__Data_table__Multi_select_show_checkboxes")
                return
                }
            })
            </script>
            <script>
            var elementIDList=[]
            </script>
            <script>
            elementIDList.push("process08790576004318207")
              </script>
            <script src="/static/js/Kore_TI_js/plot_charts/plot_charts.js"></script>
            <script>masterPlotFunc(elementIDList);</script>


        <script type="text/javascript" src="/static/js/Kore_TI_js/datatables/upload_table.min.js"></script>
        <script>try{masterUploadFunc(element_table_IDList)}catch(err){}</script>
        <!-- Upload Modal code ends-->



        <!--Multi edit in list view datatable-->
        <script src="/static/js/Kore_TI_js/datatables/multi_edit_datatables.js"></script>
        <!--Multi edit in list view datatable code ends-->

        <!--add/create button in list view-->
        <!--on clicking add/create button in list view, create view tab opens-->
        <script src="/static/js/Kore_TI_js/create_view_form.js/add_button_list_view_open_create_view.min.js}"></script>
        <!--add/create button in list view code ends-->

        <!--create view save form data-->
        <script src="/static/js/Kore_TI_js/create_view_form.js/plo.min.js"></script>

        <!--Standardized form JS-->
        <script src="/static/js/Kore_TI_js/Standardized_JS/Standard_JS.js"></script>
        <!--ocr js-->

<script>
 createViewIdList.push('whiteSpacewrap07924047665288709')
$('.search_create_view').find('form').find(('.search_enabled')).keyup(function(){
 value = $(this).val()
$('.search_results_display').empty()
name = $(this).attr('name')
$.ajax({
url: '/users/search_create_view/',
data: {
'operation': 'create_view',
'name': name,
'value': value,
},
type: 'POST',
dataType: 'json',
success: function (data) {
for (const property in data['data']) {
 $('.search_results_display').append(`<p style='padding:1em;background-color:aliceblue;'>${data['data'][property]}</p>`)
}
},
error: function () {
alert('Error');
}
})
})            </script>
        <script>
        $('.span_content_editable').each(function () {
        $(this).on('click', function () {
        $(this).attr("contenteditable", "true")
        $(this).focus()
        })
        $(this).focusout(function () {
        var tab_header = this.innerText
        tab_header = tab_header.trim()
        if (tab_header.length == 0){
            this.innerText = "Set Name"
            $(this).removeAttr("contenteditable");
            $(this).addClass("bg-danger")
            $(this).trigger("click")

        }
        else{
        $(this).removeAttr("contenteditable");
        $(this).removeClass("bg-danger")
        $.ajax({
            url: '/users/ajax/tabConfig/',

            data: {
            'operation': "update_tab_header_name",
            'id': $(this).parent().parent().attr('data-tab_pk'),
            'tab_header_name': tab_header,

            },
            type: "POST",
            dataType: "json",
            success: function (data) {
            if($('.breadcrumblist').last() != tab_header){
                $(document).ready(function(){
                $('.breadcrumblist').remove()
                $('#dynamic').append(`<li class="breadcrumb-item breadcrumblist"><b>${tab_header}</b></li>`)
                })
                }

            },
            error: function () {
            alert("Error");
            }
        })
        }

        })
    })
    var populateTabFuctionalities = function() {
    var tab_data = JSON.parse($(this).attr('data-data_list'));
    var tab_data_ordered = {};
    var count = 0;
    for(let [key,value] of Object.entries(tab_data)) {
      count++;
      for(let [key1,value1] of Object.entries(tab_data)) {
        if(count == parseInt(value1["order"])) {
          tab_data_ordered[key1] = {}
          tab_data_ordered[key1]["order"] = count
          tab_data_ordered[key1]["show"] = value1["show"]
        }
      }
    };
    $('#tabsMultiFuncBodyTable').find('tbody').empty();

    html_tab = ''
    id_gen = 0
    for(let [key,value] of Object.entries(tab_data_ordered)) {
      id_gen++
      html_tab = html_tab + `<tr style="text-align:center" data-element_id='${key}'>`
      html_tab = html_tab + `<td><span>${$('#'+key+'-tab').text()}</span></td>`
      html_tab = html_tab + `<td><input oninput='validation.call(this)' class='input form-control' style='width:55px;margin:auto;text-align:center' minimum=1 maximum='${count}' type="integer" value="${value["order"]}"</span></td>`
      if(value["show"] == "1") {
        html_tab = html_tab + `<td><div class="custom-control custom-checkbox" style="display: flex;justify-content: center;"><input type="checkbox" class='aciescustom-control-label checkboxinput custom-control-input' id="input${id_gen}" checked><label for="input${id_gen}"  class="custom-control-label"></label></div></td>`
      } else {
        html_tab = html_tab + `<td><div class="custom-control custom-checkbox" style="display: flex;justify-content: center;"><input type="checkbox" class='aciescustom-control-label checkboxinput custom-control-input' id="input${id_gen}"><label for="input${id_gen}"  class="custom-control-label"></label></div></td>`
      }
      html_tab = html_tab +`</tr>`
    }
   $('#tabsMultiFuncBodyTable').find('tbody').append(html_tab)
  }
  var validation = function() {
    if(parseInt($(this).val()) < 1) {
      $(this).val(1).trigger('change')
    }
    if(parseInt($(this).val()) > parseInt($(this).attr('maximum'))) {
      $(this).val(parseInt($(this).attr('maximum'))).trigger('change')
    }
  }
  var saveTabsFunc = function() {
    $('#tabsMultiFunc').find('.modal-footer').find('button').html(`<i class="fa fa-circle-o-notch fa-spin"></i>`)
    var order_data = {}
    var validation = 0
    var len = $('#tabsMultiFuncBodyTable').find('tbody').find('tr').length;
    for(let j = 0; j < len; j++) {
      validation = 0
      var dummy = parseInt($('#tabsMultiFuncBodyTable').find('tbody').find('tr').eq(j).find('td').eq(1).find('input').val());
      for(let i = 0; i < len; i++) {
        var dummy1 = parseInt($('#tabsMultiFuncBodyTable').find('tbody').find('tr').eq(i).find('td').eq(1).find('input').val())
        if (dummy == dummy1) {
          validation = validation + 1;
          if(validation > 1) {
            break;
          }
        }
      }
      if(validation > 1) {
        break;
      }
      if(!dummy){
        validation = 2;
        break;
      }
    }
    if(validation < 2) {
      $('#tabsMultiFuncBodyTable').find('tbody').find('tr').each(function() {
        var ele_ids = $(this).attr('data-element_id')
        var show
        if ($(this).find('td').eq(2).find('input').prop('checked')){
          show = "1"
        } else {
          show = "0"
        }
        order_data[ele_ids] = {'tab_name':$(this).find('td').eq(0).text(),
            'data': {
              'order': String($(this).find('td').eq(1).find('input').val()),
              'show': show
            }
        }
      });
      $.ajax({
       url: '/users/processGraphModule/',
      data: {
          'operation': 'saveTabOrder',
          'order_data': JSON.stringify(order_data),
          'pr_code':window.location.pathname.split('/')[2],
        },
        type: "POST",
        dataType:"json",
        success:function(data){
          $('#tabsMultiFunc').find('.modal-footer').html(`<button onclick="saveTabsFunc.call(this)" type="button" class="btn btn-primary">Save</button>`)
          window.location.reload();
        },
        error: function () {
          $('#tabsMultiFunc').find('.modal-footer').html(`<button onclick="saveTabsFunc.call(this)" type="button" class="btn btn-primary">Save</button>`)
          alert("Error");
        }
      })
    } else {
      $('#tabsMultiFunc').find('.modal-footer').html(`<button onclick="saveTabsFunc.call(this)" type="button" class="btn btn-primary">Save</button>`)
      alert('Order cannot be blank or cannot be same')
    }

  }
    </script>
    <script>
      CKEDITOR.replace(`text_editor`,{height: 60});
      CKEDITOR.config.extraPlugins = 'tableresize,tableresizerowandcolumn';
      CKEDITOR.config.skin = 'moonocolor';
      var form_rtf = ['CreateDiv,Anchor,Language,About,PasteText,PasteFromWord,Find,Replace,SelectAll,Scayt,Blockquote,Outdent,Indent,BulletedList,NumberedList,CopyFormatting,RemoveFormat,Bold,Italic,Underline,Strike,Subscript,Superscript,TextColor,BidiLtr,BidiRtl,Templates,Link,Unlink,Source,Save,NewPage,ExportPdf,Preview,Print,Styles,Format,Font,FontSize,BGColor,ShowBlocks,Maximize,JustifyLeft,JustifyCenter,JustifyRight,JustifyBlock,HorizontalRule,SpecialChar,PageBreak,Iframe,Flash,Table,Image,Smiley'];
      var home_rtf =['Source,Save,Templates,CreateDiv,Unlink,Anchor,Language,Link,Image,Flash,Table,HorizontalRule,SpecialChar,PageBreak,Iframe,ShowBlocks,Maximize,About,Print,Preview,ExportPdf,NewPage,Form,Checkbox,Radio,TextField,Textarea,Select,Button,ImageButton,HiddenField,Smiley'];
      var tools_rtf =['Flash,About,Templates,Cut,Copy,Paste,PasteText,PasteFromWord,Redo,Undo,Find,Replace,SelectAll,Scayt,Form,Checkbox,Radio,TextField,Textarea,Select,Button,ImageButton,HiddenField,Bold,Italic,Underline,Strike,Subscript,Superscript,CopyFormatting,RemoveFormat,Outdent,NumberedList,BulletedList,Indent,Blockquote,JustifyLeft,CreateDiv,JustifyCenter,JustifyRight,JustifyBlock,Language,BidiRtl,BidiLtr,Link,Unlink,Anchor,Image,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,Styles,Format,Font,FontSize,TextColor,BGColor'];
      var insert_rtf2 =['Source,Save,NewPage,ExportPdf,Preview,Print,Templates,PasteText,PasteFromWord,Replace,Find,SelectAll,Scayt,Form,Checkbox,Radio,TextField,Textarea,Select,Button,ImageButton,HiddenField,Bold,BidiLtr,BidiRtl,Language,JustifyRight,JustifyBlock,JustifyCenter,CreateDiv,Indent,BulletedList,NumberedList,Outdent,Blockquote,JustifyLeft,CopyFormatting,RemoveFormat,Styles,Format,Font,FontSize,TextColor,BGColor,ShowBlocks,Maximize,About,Italic,Underline,Strike,Subscript,Superscript'];
      $(".rtf_action_tab").find('li').each(function(){
        $(this).find('button').on('click',function(){
          $(".rtf_action_tab").find('li').find('button').removeClass('active')
          $(this).addClass('active')
          if($(this).attr('data-bs-target') == "Form"){
            var editor = CKEDITOR.instances[`text_editor`];
            var editor_data = CKEDITOR.instances[`text_editor`].getData()
            if (editor) { editor.destroy(true); }
            CKEDITOR.replace(`text_editor`,{height: 60,removeButtons:form_rtf[0] });
            CKEDITOR.instances[`text_editor`].setData(editor_data)

          }
          else if ($(this).attr('data-bs-target') == "Text"){
            var editor = CKEDITOR.instances[`text_editor`];
            var editor_data = CKEDITOR.instances[`text_editor`].getData()
            if (editor) { editor.destroy(true); }
            CKEDITOR.replace(`text_editor`,{height: 60,removeButtons:home_rtf[0] });
            CKEDITOR.instances[`text_editor`].setData(editor_data)

          }
          else if ($(this).attr('data-bs-target') == "Insert"){
            var editor = CKEDITOR.instances[`text_editor`];
            var editor_data = CKEDITOR.instances[`text_editor`].getData()
            if (editor) { editor.destroy(true); }
            CKEDITOR.replace(`text_editor`,{height: 60,removeButtons:insert_rtf2[0] });
            CKEDITOR.instances[`text_editor`].setData(editor_data)

          }
          else if ($(this).attr('data-bs-target') == "Page Layout"){
            var editor = CKEDITOR.instances[`text_editor`];
            var editor_data = CKEDITOR.instances[`text_editor`].getData()
            if (editor) { editor.destroy(true); }
            CKEDITOR.replace(`text_editor`,{height: 60,removeButtons:tools_rtf[0] });
            CKEDITOR.instances[`text_editor`].setData(editor_data)
          }
        })

      })
    </script>
        <script src="/static/js/Kore_TI_js/create_view_form.js/create_view_save_form.min.js">
        </script><script src="/static/js/Kore_TI_js/datatables/base_datatable_filter.js">
        </script>
        <script>masterBaseDataFilter(element_table_IDList)</script>
        <script src="/static/js/Kore_TI_js/plot_charts/user_config_plot_charts.js"></script>
        <script>
            $.ajax({
                url: '/users/userConfigSave/',

                data: {
                'operation': "loadPlotHomePage",
                'screen_path': window.location.pathname

                },
                type: "POST",
                dataType: "json",
                success: function (data) {
                chartConfigDict = data
                masterUserConfigPlot(chartConfigDict)
                },
                error: function () {
                alert("Error");
                }
            })
        </script>
