
    <!DOCTYPE html>

    {% extends extend_template %}
    {% load crispy_forms_tags %}
    {{ form.media }}
    {% load static %}
    {% block body_block %}
    <link rel="stylesheet" href="{% static 'css/KoreD/jquery.dataTables.css' %}">
    <link rel="stylesheet" href="{% static 'vendor/Base_theme/datatables-responsive/css/responsive.bootstrap4.min.css' %}">
    <link rel="stylesheet" href="{% static 'vendor/Base_theme/datatables-colreorder/css/colReorder.bootstrap4.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/KoreD/buttons.dataTables.min.css' %}">
    <!-- DataTables -->
    <script src="{% static 'vendor/Base_theme/datatables/jquery.dataTables.js' %}"></script>
    <script src="{% static 'vendor/Base_theme/datatables-responsive/js/dataTables.responsive.min.js' %}"></script>
    <script src="{% static 'vendor/Base_theme/datatables-fixedheader/js/dataTables.fixedHeader.min.js' %}"></script>
    <script src="{% static 'vendor/Base_theme/datatables-colreorder/js/dataTables.colReorder.min.js' %}"></script>
    <script src="{%static 'vendor/Base_theme/datatables-bs4/js/dataTables.bootstrap4.js'%}"></script>
    <script src="{%static 'vendor/Base_theme/datatables-fixedcolumns/js/dataTables.fixedColumns.min.js'%}"></script>
    <link rel="stylesheet" href="{% static 'vendor/Base_theme/datatables-fixedcolumns/css/fixedColumns.dataTables.min.css'%}">
    <!-- Treant JS -->
    <!-- Timepicker -->
    <!--Bokeh-->
    <script src="{%static 'vendor/Base_theme/datatables-buttons/js/dataTables.buttons.min.js'%}"></script>
    <script src="{%static 'vendor/Base_theme/jszip/jszip.min.js'%}"></script>
    <script src="{%static 'vendor/Base_theme/pdfmake/pdfmake.min.js'%}"></script>
    <script src="{%static 'vendor/Base_theme/pdfmake/vfs_fonts.js'%}"></script>

    <script src="{%static 'vendor/Base_theme/datatables-buttons/js/buttons.html5.min.js'%}"></script>
    <script src="{%static 'vendor/Base_theme/datatables-buttons/js/buttons.colVis.min.js'%}"></script>
    <script src="{%static 'vendor/Base_theme/datatables-buttons/js/buttons.print.min.js'%}"></script>
    <script src="{%static 'vendor/Base_theme/datatables-buttons/js/buttons.print.js'%}"></script>
    <script src="{%static 'vendor/Base_theme/datatables-buttons/js/buttons.flash.min.js'%}"></script>
    <script src="{%static 'vendor/Base_theme/datatables-rowreorder/js/dataTables.rowReorder.min.js'%}"></script>
    <link rel="stylesheet" href="{% static 'vendor/Base_theme/datatables-rowreorder/css/rowReorder.bootstrap4.min.css' %}">
    <!-- Pivot Table JS -->

    <script src="{%static 'vendor/Plotly/plotly-basic-latest.min.js'%}"></script>

    <!-- Plotly -->
    <script src="{%static 'vendor/Plotly/plotly-latest.min.js'%}"></script>
    <link href="{%static 'vendor/Plotly/mapbox-gl.css'%}" rel='stylesheet' />
    <link href="{%static 'vendor/Tabulator/tabulator.min.css'%}" rel="stylesheet">
    <script type="text/javascript" src="{%static 'vendor/Tabulator/tabulator.min.js'%}"></script>
    <!-- jsPDF -->
    <script src="{%static 'js/jsPDF/dist/jspdf.umd.min.js'%}"></script>
    <!-- html2Canvas -->
    <script src="{%static 'js/html2canvas/html2canvas.min.js'%}"></script>


    <link rel="stylesheet" href="{%static 'bootstrap-datepicker/bootstrap-datetimepicker.min.css'%}">
    <link rel="stylesheet" href="{%static 'bootstrap_datepicker_plus/css/datepicker-widget.min.css'%}">
    <script type="text/javascript" src="{%static 'moment/moment-with-locales.min.js'%}"></script>
    <script type="text/javascript" src="{%static 'bootstrap-datetimepicker/bootstrap-datetimepicker.min.js'%}"></script>
    <script type="text/javascript" src="{%static 'bootstrap_datepicker_plus/js/datepicker-widget.js'%}"></script>

  <!-- XLSX/XML Table Export -->
    <script src="{%static 'js/tableExport/libs/js-xlsx/xlsx.core.min.js'%}"></script>
    <script src="{%static 'js/tableExport/tableExport.min.js'%}" ></script>
    <script src="{% static 'js/ckeditor/ckeditor.js' %}"></script>
    <script>
      var id1 = []
      var { jsPDF } = window.jspdf;
    </script>

  <section class='content' style='opacity: 1;'><div class='container-fluid'> <form id='form1' method='post'>{% csrf_token %}</form>
    <aside class="main-sidebar sidebar-dark-primary sidebar-bg elevation-4" style="pointer-events: none;">
      <div class=" d-flex">
        {% if dashboard_sidebar_icon  %}
          <a href="/users/selectApplication/" class="brand-link">
            <img id="imageAciesLogo" src="/media/{{tenant}}/dashboard/{{dashboard_sidebar_icon}}" alt="Brand Logo"
              class="brand-image img-responsive" align="left" style="float:left">
          </a>
        {% else %}
        <a href="/users/selectDashboard/" class="brand-link">
          <img id="imageAciesLogo" src="{% static 'images/Base_theme/A.png' %}" alt="Acies Logo"
            class="brand-image img-responsive" align="left" style="float:left">
        </a>
        {% endif %}
      </div>
      <!-- Sidebar -->
      <div class="sidebar" style="padding:0px 4px;">

        <!-- Sidebar Menu -->
        <nav class="mt-2" style="height: 82%;width: 105%;" id="mainSideNavBar" data-app_id="{{current_application_code}}">
          <!--style="margin-right:8px;"-->
          <script>
            $("#mainSideNavBar").attr("data-app_id", currentAppCode);
          </script>

          <!-- Hide navbar elements in selectAppliation screen -->

          <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false" >

            <li class="nav-item">
              <a class="nav-link outerAnchorTag" href="/users/selectDashboard/">
                <i class="fas fa-home static mainicon1" style="font-size: 1.5rem;"></i>
                <p class="fontclass textCollapsed collapse-left" style="text-align:center; margin: auto;">Home</p>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link outerAnchorTag" href="/users/selectDashboard/">
                <i class="fas fa-chart-bar static mainicon1"></i>
                <p class="fontclass textCollapsed collapse-left" style="text-align:center; margin: auto;">Dashboard</p>
              </a>
            </li>

            <li class="nav-item has-treeview">
              <a href="#" class="nav-link outerAnchorTag" data-navsidebarouteranchortaggroupcode="Prg1MfE0Z4WOPuxkh79" data-code="Prg1MfE0Z4WOPuxkh79" style="text-align: center; width: 100%;">
                <i class="sortableHandleWithinNavBar mainicon fa fa-edit nav-icon ui-sortable-handle" style=""></i>
                <p class="fontclass2 fontclass">
                  Recently viewed

                  </p><div class="dropdown1">
                    <!-- <i class="fa fa-gear gearClass display1" onclick="openDropdown.call(this)"></i> -->
                    <div class="dropdown-content1" style="margin-left: auto; display: none;">

                      <i class="fas fa-remove" onclick="removeNavbar.call(this,'process')" style="float: right; margin-left: 7px;" data-toggle="tooltip" title="Remove navpoint"></i>

                  <i class="fas fa-plus iconClass" onclick="addNavbar.call(this,'process','Prg1MfE0Z4WOPuxkh79')" style="float: right;" data-toggle="tooltip" title="Add navpoint"></i>
                    </div>
                  </div>

                <p></p>
                 <p class="fontclass1" check="Comp" style="margin-left: auto; margin-right: auto; font-family: Arial, Helvetica, sans-serif; font-size: 10px; position: relative; text-align: center; display: none;">Recent</p>
                 <i class="right fas fa-angle-left" style="display: block; margin-right: 18px;"></i>

              </a>

              <ul class="nav nav-treeview ui-sortable" style="display: none;padding-left: 1rem;">
                {% for i in list %}
                  <li class="nav-item">
                    <a class="nav-link outerAnchorTag" href='/users/dashboard/?app_code={{i.app_code}}&pr_code={{i.pr_code}}&type={{i.dashboard_type}}&tab_id={{i.tab_id}}&share_type={{i.shared_type}}&element_id={{i.element_id}}&dashboard_config_id={{i.dashboard_config_id}}'>
                      <i class="fas fa-chart-bar static mainicon1"></i>
                      <p class="fontclass textCollapsed collapse-left" style="text-align:center; margin: auto;">{{i.name}}</p>
                    </a>
                  </li>
                {% endfor %}
              </ul>
            </li>

            <li class="nav-item has-treeview">
              <a href="#" class="nav-link outerAnchorTag" data-navsidebarouteranchortaggroupcode="Prg1MfE0Z4WOPuxkh79" data-code="Prg1MfE0Z4WOPuxkh79" style="text-align: center; width: 100%;">
                <i class="sortableHandleWithinNavBar mainicon fa fa-edit nav-icon ui-sortable-handle" style=""></i>
                <p class="fontclass2 fontclass">
                  Shared with me
                  </p><div class="dropdown1">
                    <!-- <i class="fa fa-gear gearClass display1" onclick="openDropdown.call(this)"></i> -->
                    <div class="dropdown-content1" style="margin-left: auto; display: none;">

                      <i class="fas fa-remove" onclick="removeNavbar.call(this,'process')" style="float: right; margin-left: 7px;" data-toggle="tooltip" title="Remove navpoint"></i>

                  <i class="fas fa-plus iconClass" onclick="addNavbar.call(this,'process','Prg1MfE0Z4WOPuxkh79')" style="float: right;" data-toggle="tooltip" title="Add navpoint"></i>
                    </div>
                  </div>

                <p></p>
                 <p class="fontclass1" check="Comp" style="margin-left: auto; margin-right: auto; font-family: Arial, Helvetica, sans-serif; font-size: 10px; position: relative; text-align: center; display: none;">Shared with me</p>
                 <i class="right fas fa-angle-left" style="display: block; margin-right: 18px;"></i>

              </a>

              <ul class="nav nav-treeview ui-sortable shared_with_me" style="display: none;padding-left: 1rem;">
              </ul>
            </li>
            <li class="nav-item has-treeview">
              <a href="#" class="nav-link outerAnchorTag" data-navsidebarouteranchortaggroupcode="Prg1MfE0Z4WOPuxkh79" data-code="Prg1MfE0Z4WOPuxkh79" style="text-align: center; width: 100%;">
                <i class="sortableHandleWithinNavBar mainicon fa fa-edit nav-icon ui-sortable-handle" style=""></i>
                <p class="fontclass2 fontclass">
                  Shared by me
                  </p><div class="dropdown1">
                    <!-- <i class="fa fa-gear gearClass display1" onclick="openDropdown.call(this)"></i> -->
                    <div class="dropdown-content1" style="margin-left: auto; display: none;">

                      <i class="fas fa-remove" onclick="removeNavbar.call(this,'process')" style="float: right; margin-left: 7px;" data-toggle="tooltip" title="Remove navpoint"></i>

                  <i class="fas fa-plus iconClass" onclick="addNavbar.call(this,'process','Prg1MfE0Z4WOPuxkh79')" style="float: right;" data-toggle="tooltip" title="Add navpoint"></i>
                    </div>
                  </div>

                <p></p>
                 <p class="fontclass1" check="Comp" style="margin-left: auto; margin-right: auto; font-family: Arial, Helvetica, sans-serif; font-size: 10px; position: relative; text-align: center; display: none;">Shared by me</p>
                 <i class="right fas fa-angle-left" style="display: block; margin-right: 18px;"></i>

              </a>

              <ul class="nav nav-treeview ui-sortable shared_by_me" style="display: none;padding-left: 1rem;">
              </ul>
            </li>
            </span>
          </ul>

        </nav>
        <br>

      </div>
      <!-- /.sidebar -->
    </aside>
  <div id="sidebar-overlay"></div>
    <style>
      .commentboxcard {
        height: 400px;
        width: 500px;
        flex-wrap:wrap;
      }
      strong {
        font-weight: bold;
      }
      .select2-container{
        width:auto;
      }
      .row {
        flex-wrap: wrap;
      }
    </style>

    <style>
      h2 {
        font-size: medium;
      }
      .ebDataElementsDiv {
        margin-bottom: 5px;
      }
      .popup {
        height:80%;
      }
      .select2-dropdown {
        z-index:9999
      }
    </style>

    <div class='tab-content'>

       <style>

       .analysisWraptext td{
         white-space: break-spaces;
       }

       .linkCard {
        width: 95%;
        height: 4rem;
        border-radius: 1.2rem;
        margin: 1rem;
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        transition: all 0.2s cubic-bezier(0.165, 0.84, 0.44, 1);
        cursor: pointer;
      }
      .linkCard a{
        color:white;
        }
      .linkCard:hover {
        transform: scale(1.05);
      }
      .linkCard:active {
        transform: scale(1.0);
      }
      .scroll-link {
        min-width : 17rem;
      }
      .scroll-nav {
        flex-wrap: nowrap !important;
        overflow-x: scroll !important;
        overflow-y: hidden !important;
      }
      #tabLinks{
        overflow-x:hidden;
      }

      .nav-sidebar .nav-link>.right, .nav-sidebar .nav-link>p>.right {
        position: relative !important;
      }

      .arrow-tab {
        border-style: dashed;
        border-color: transparent;
        border-width: 0.45em;
        display: -moz-inline-box;
        display: inline-block;
        font-size: 130px;
        height: 0;
        line-height: 0;
        position: relative;
        vertical-align: middle;
        width: 0;
        background-color: #fff;
        left: -14px;
        top: 0px;
        border: 0.45em dashed transparent;
        border-left: 66px dashed var(--primary-color);
      }


       .index-no-column{
          display: flex;
          align-items: center;
          justify-content: center;
          border-top-right-radius: 40px;
          border-bottom-right-radius: 40px;
          background:  var(--primary-color);
          height: 4rem;
        }
        .editTabIcon{
          display: none;
          position: absolute;
          right: 0;
          z-index: 1;
          background: #f7f7f7;
          padding: 7px;
          border-radius: 50%;
          box-shadow: rgb(0 0 0 / 35%) 0px 5px 15px;
          cursor: pointer;
        }
        .tab-icons, .tab-header-name, .colored-text{
              color: #fff;
            }
            .TabIcons{
              margin:1rem;
              height:4rem;
              font-size:2rem;
            }
          .index-rows-temp2{
        border-bottom: 8px solid var(--primary-color);
      }
      .index-column-temp2{
        border: 5px solid  var(--primary-color);
      }
        .dropIndex{
          border-radius: 25px 25px 0px 25px !important;
          height: 4rem;
          width: 4rem;
          z-index: 1;
          margin-top: -70px;
          margin-left: 30px;
          margin-right: -25px;
          display: flex;
          justify-content: center;
          align-items: center;
          background: var(--primary-color) linear-gradient(to bottom right, var(--primary-color) 25%, #fff);
        }
        .boxIndex{
              border-radius: 25px !important;
              height: 7rem;
              z-index: 1;
              margin-left: 30px;
              margin-right: -25px;
              display: flex;
              justify-content: center;
              align-items: center;
              background: var(--primary-color) linear-gradient(to bottom right, var(--primary-color) 25%, #fff);
              box-shadow: rgb(0 0 0 / 35%) 0px 5px 15px;
            }

        .defaultTabTheme{
              background-color:  var(--primary-color);
            }

    </style>


    <div class="tab"  id="ellipse06740877683828901_tab_content">
    <div class="analysisClass">

        <div class="container-fluid" style="padding-right:3.5px;">
          <div class="font-weight-light">

            <div class="card ">
              <div class="card-header">

                <div style="    float: right;">      <div class="pt-1 pr-1" style="display:inline-block;">

              <div id="share_with_groups" class="modal fade" role="dialog">
                  <div class="modal-dialog">

                    <!-- Modal content-->
                    <div class="modal-content">
                      <div class="modal-header">
                        <h6 class="modal-title" style="color:var(--primary-color);">Share with groups</h6>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                      </div>
                      <div class="modal-body">
                        <div class="col-6">
                          <label for="select2multiple_groupellipse06740877683828901">Select Groups to share:</label>

                          <select class="select2 form-control js-example-basic-multiple" id="select2multiple_groupellipse06740877683828901" multiple="multiple">

                          </select>
                        </div>
                      </div>
                      <div class="modal-footer">
                        <button type="button" value="share" id='analysisshareellipse06740877683828901' class=" btn btn-primary btn-xs rounded px-2 button_standard_save" data-elementID='ellipse06740877683828901'>&nbsp;<i class="fas fa-share"></i>&nbsp;Share</button>
                        <button type="button" class="btn btn-primary btn-xs rounded px-2" data-dismiss="modal">Close</button>
                      </div>
                    </div>

                  </div>
                </div>
                <div id="select_version_modal" class="modal fade" role="dialog">
                  <div class="modal-dialog">

                    <!-- Modal content-->
                    <div class="modal-content">
                      <div class="modal-header">
                        <h6 class="modal-title" style="color:var(--primary-color);">View versions</h6>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                      </div>
                      <div class="modal-body">
                        <div class="row">
                        <label class="pl-1" for="selectversionellipse06740877683828901">Select Version:</label>
                        <div class="col-6">
                          <select id="selectversionellipse06740877683828901" class="select2">
                            <option value="" disabled selected>--------------------</option>
                          </select>
                        </div>
                      </div>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                      </div>
                    </div>

                  </div>
                </div>   <a style ='' onMouseOver='' onMouseOut='' type="button" class="btn btn-primary btn-xs mx-2 rounded px-2"  style="margin-right:0px !important;" href="/users/selectDashboard/">Back </a>          <button style ='' onMouseOver='' onMouseOut='' type="button" class="btn btn-primary btn-xs mx-2 rounded px-2" id="globalButtonellipse06740877683828901" style="margin-right:0px !important;" value="versions" data-toggle="modal" data-target="#select_global_settings">Global Setting </button>        <div id="select_global_settings" class="modal fade" role="dialog">
                      <div class="modal-dialog modal-lg">

                        <!-- Modal content-->
                        <div class="modal-content">

                          <div class="modal-header" style="background:#565a5e; color:white; text-align:center;padding-bottom:2%;padding-top:3%;">
                            <h5 class="modal-title" style="margin-left:auto;" >Pick canvas and plot colors</h5>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                          </div>
                          <div class="modal-body" style="overflow:auto;max-height:36.25rem;">
                            <div>
                              <div>
                                <div class="row" style="margin-bottom:-0.5em">
                                <div class="col-6">
                                <div id="accordion">
                              <div class="card" id="collapseExample">
                              <div class="card-header" style="color:var(--primary-color);padding:0.5em;font-size:1rem;font-weight:700; margin-left: auto;">
                                    Select Themes
                                    <a class="card-link card_global" data-toggle="collapse" href="#collapseThemes">
                                    <i class="fas fa-minus float-right" style="padding-top:0.2em;color: #adb5bd;"></i>
                                  </a>
                            </div>
                          <div id="collapseThemes" class="collapse show" data-parent="#accordion">
                          <div class="card-body" style="margin-bottom:1.2em;">
                          <div class="row">
                          <div class="col-6">
                            <b style="font-weight:700">Select Background:</b></p>
                             <select id="global_bgellipse06740877683828901" class="select2 global_bg_selection" name="border_style" style="font-size:1.1rem" >
                              <option value="background_color">Background Color</option>
                              <option value="background_image">Background Image</option>
                             </select>
                          </div>
                          <div class="col-6 global_bg_image" style="display:none;">
                          <p>
                          <b style="font-weight:700">Background Image </b></p>
                              <form method="post" class="uploadbgimage" enctype="multipart/form-data">
                                <div class="custom-file" style="margin-bottom:1em">
                                  <input type="file" class="custom-file-input" class="upload_bg_image_class" id="bg_image_ellipse06740877683828901" style="border-bottom-color:white;" name="upload_bg_image" accept="image/*">
                                  <label class="custom-file-label">Choose file</label>
                                </div>
                              </form>
                          </div>
                          <div class="bg_image_url" id="bg_image_urlellipse06740877683828901" value="" style="display:none;"></div>
                          <div class="bg_image_name" id="bg_image_nameellipse06740877683828901" value="" style="display:none;"></div>
                          <div class="col-6 global_bg_color" style="display:block">
                            <div>
                            <p>
                          <b style="font-weight:700">Canvas Background </b></p>
                          <input type="color" id="myColorellipse06740877683828901" name="favcolor" value="#ffffff"><br><br>
                          </div>
                        </div>
                        </div>
                          <div class="row">
                          <div class="col-6">
                          <p> <b style="font-weight:700">Plot Background</b></p>
                          <input type="color" id="themeColorellipse06740877683828901" class="themeColor" name="favcolor" value="#ffffff"><br><br>
                          </div>
                          <div class="col-6">
                          <p> <b style="font-weight:700">Plot Color </b></p>
                          <input type="color" id="themeColor1ellipse06740877683828901" class="themeColor1" name="favcolor" value="#b8860b"><br><br>
                          </div>
                          </div>
                          <br>

                          <div class="row">
                          <div class="col-6">
                          <p> <b style="font-weight:700 background-color:white">index-card Background</b></p>
                          <input type="color" id="indextabBGellipse06740877683828901" class="indextabBG" name="favcolor" value="#b8860b" ><br><br>
                          </div>
                          <div class="col-6">
                          <p> <b style="font-weight:700">index-card Font Color </b></p>
                          <input type="color" id="indextabFCellipse06740877683828901" class="indextabFC" value="#ffffff" name="favcolor" ><br><br>
                          </div>
                          </div>
                          <br>

                        <div class="row">
                        <div class="col-6">
                          <div class="custom-control custom-checkbox">
                                  <input type="checkbox" checked="checked" name="defaultValueColorConfig" id="global_gradient_colorellipse06740877683828901" class="global_gradient_color checkboxinput custom-control-input">
                                  <label for="global_gradient_colorellipse06740877683828901" class="custom-control-label">
                                  Gradient Color
                                  </label>
                              </div>
                              </div>

                              </div>
                        </div>

                        </div>

                        </div>
                          </div>
                        </div>
                        <div class="col-6">
                        <div id="accordion_header">

                            <div class="card" id="collapse_header">
                            <div class="card-header" style="color:var(--primary-color);padding:0.5em;font-size:1rem;font-weight:700" >
                                    Select Header Settings
                                    <a class="card-link card_global" data-toggle="collapse" href="#collapseHeader">
                                    <i class="fas fa-minus float-right" style="padding-top:0.2em;color: #adb5bd;"></i>
                                  </a>
                            </div>
                          <div id="collapseHeader" class="collapse show" data-parent="#accordion_header">
                          <div class="card card-body" style="box-shadow:none;">
                          <div class="row">
                          <div class="col-6">
                          <label>Color:</label>
                              <input type="color" name="favcolor" class="global_header_color" value="#000000"><br>
                          </div>
                          <div class="col-6">
                          <label>Background Color:</label>
                              <input type="color" name="favcolor1" class="global_header_bgcolor" value="#ffffff"><br>
                              </div>
                          </div>
                            <br>
                              <div class="row">
                              <div class="col-6">
                              <label>Font size:</label>
                              <input type="number" placeholder="Font size" class="global_header_fontsize" style="width:10em;height:2em;" value="16" size="7" ><br>
                              </div>
                              <div class="col-6">
                              <label>Font weight:</label>
                              <select class="select2 global_header_fontweight" name="border_style" style="font-size:1.1rem" >
                              <option value="100">100</option>
                              <option value="200">200</option>
                              <option value="300">300</option>
                              <option value="400">400</option>
                              <option value="500">500</option>
                              <option value="600">600</option>
                              <option value="700">700</option>
                              <option value="800">800</option>
                              <option value="900">900</option>
                              <option value="bold">Bold</option>
                              <option value="bolder">Bolder</option>
                              <option value="inherit">Inherit</option>
                              <option value="lighter">Lighter</option>
                              <option value="Normal">Normal</option>
                              </select></div>
                              </div>

                              <br>
                              <div class="row">
                              <div class="col-6">
                              <label>Font style:</label>
                                <select class="select2 global_header_fontstyle" name="border_style" style="font-size:1.1rem" >
                              <option value="">----------</option>
                              <option value="Arial">Arial</option>
                              <option value="Times New Roman">Times New Roman</option>
                              <option value="Helvetica">Helvetica</option>
                              <option value="Lucida Console">Lucida Console</option>
                              <option value="Courier New">Courier New</option>
                              <option value="Verdana">Verdana</option>
                              <option value="Trebuchet MS">Trebuchet MS</option>
                              <option value="auto">auto</option>
                              <option value="emoji">emoji</option>
                              <option value="cursive">cursive</option>
                              <option value="inherit">inherit</option>
                              <option value="initial">initial</option>
                              <option value="none">none</option>
                              <option value="math">math</option>
                              <option value="monospace">monospace</option>
                              <option value="serif">serif</option>
                              <option value="fangsong">fangsong</option>
                              <option value="fantasy">fantasy</option>
                              <option value="revert">revert</option>
                              <option value="FontAwesome">FontAwesome</option>
                              <option value="system-ui">system-ui</option>
                              <option value="ui-monospace">ui-monospace</option>
                              <option value="-webkit-pictograph">-webkit-pictograph</option>
                              <option value="-webkit-body">-webkit-body</option>
                              <option value="Trebuchet MS">Trebuchet MS</option>
                              <option value="Courier New">Courier New</option>
                              <option value="Andale Mono">Andale Mono</option>
                              <option value="Trebuchet MS">Trebuchet MS</option>
                              <option value="Comic Sans MS">Comic Sans MS</option>
                              </select>
                              </div>
                              <div class="col-6">
                              <label>Alignment:</label>
                              <select class="select2 global_header_alignment" name="border_style" style="font-size:1.1rem" >
                              <option value="left">Left</option>
                              <option value="center">Center</option>
                              <option value="right">Right</option>
                              </select>
                              </div>
                              </div>

                          </div>
                          </div>
                        </div>
                          </div>
                          </div>
                        </div>
                        <div class="row" style="margin-bottom:-0.5em;">
                          <div class="col-6">
                            <div id="accordion_border">
                              <div class="card">
                                <div class="card-header" style="color:var(--primary-color);padding:0.5em;font-size:1rem;font-weight:700">
                                    Border Settings
                                    <a class="card-link collapsed card_global" data-toggle="collapse" href="#collapseOne">
                                    <i class="fas fa-plus float-right" style="padding-top:0.2em;color: #adb5bd;"></i>
                                  </a>
                                </div>
                                <div id="collapseOne" class="collapse" data-parent="#accordion_border">
                                  <div class="card-body" style="margin-bottom:5em;">
                                  <div class="row">
                                  <div class="col-6">
                                  <label>Box Border</label>
                                  <label class="switch"><input type="checkbox" class="global_border" value="false"><span class="slider round" style="border-radius: 30px"></span></label>
                                  </div>
                                  <div class="col-6">
                                  <label>Choose the border color:</label>
                                  <input  type="color" name="favcolor3" value="#000000" class="global_border_color"></div>
                                  </div>
                                  <br>
                                   <div class="row">
                                  <div class="col-6">
                                  <label>Set border thickness</label>
                                  <input type="number" class="global_border_thickness" placeholder="Thickness" size="7" value= "2" min = "1"></div>
                                  <div class="col-6">
                                 <label>Choose border style:</label>
<select class="select2 global_border_style" name="border_style" style="font-size:1.1rem" >
<option value="solid">Solid</option>
<option value="dotted">Dotted</option>
<option value="double">Double</option>
<option value="dashed">Dashed</option>
</select>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              </div>
                          </div>
                          </div>
                          <div class="col-6">
                             <div id="accordion_shadow">
                              <div class="card">
                                <div class="card-header" style="color:var(--primary-color);padding:0.5em;font-size:1rem;font-weight:700">
                                    Shadow Settings
                                    <a class="card-link collapsed card_global" data-toggle="collapse" href="#collapseTwo_global">
                                    <i class="fas fa-plus float-right" style="padding-top:0.2em;color: #adb5bd;"></i>
                                  </a>
                                </div>
                                <div id="collapseTwo_global" class="collapse" data-parent="#accordion_shadow">
                                  <div class="card-body">
                                    <div class="row">
                                    <div class="col-6">
                                    <label>Box Shadow</label>
                                    <label class="switch"><input type="checkbox" value="false" class="global_shadow"><span class="slider round" style="border-radius: 30px"></span></label>
                                    </div>
                                    <div class="col-6">
                                    <label>Shadow Color:</label>
                                    <input type="color" value="#7A7575" class="global_shadow_color" name="favcolor3" ></div>
                                    </div>
                                    <br>
                                    <div class="row">
                                    <div class="col-6">
                                    <label>Set Shadow X-Offset:</label>
                                    <input type="number" placeholder="X-Offset" class="global_shadow_x" value="2" size="7" >
                                    </div>
                                    <div class="col-6">
                                    <label>Set Shadow Y-Offset:</label>
                                    <input type="number" placeholder="Y-Offset" class="global_shadow_y" value= "1" size="7" ></div>
                                    </div>
                                    <br>
                                    <div class="row">
                                    <div class="col-6">
                                    <label>Set Shadow Blur Radius:</label>
                                    <input type="number" placeholder="Radius value" class="global_shadow_blur" value= "10" size="7" min = "0" ></div>
                                    <div class="col-6">
                                    <label>Set Shadow Thickness:</label>
                                    <input type="number" placeholder="Thickness value" class="global_shadow_thickness" value= "6" size="7" ></div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              </div>
                          </div>
                        </div>
                        <div class="card" id="collapse_header_prev">
                            <div class="card-header" style="color:var(--primary-color);padding:0.5em;font-size:1rem;font-weight:700" >
                              Preview
                            </div>
                          <div class="card card-body" style="box-shadow:none;">
                          <div class="col-4">
                        <div class="mainDiv" id="main_themeellipse06740877683828901" style="background-color: rgb(0,0,0);border-radius: 5%;">
                          <div class="myDiv" id="theme1ellipse06740877683828901" style="background-color: rgb(255,255,255);border-radius: 2%;">
                            <div class="inner-div_header" style= "background-color: white;border-radius: 5%;">
                            <div class="inner-div_title" style= "color: black;border-radius: 5%;text-align: left;font-size:16px;font-weight:100;width:100%;padding-right:1em;">
                            Chart Header
                            </div>
                            </div>
                            <div class="inner-div" id="themegradellipse06740877683828901" style= "background-color: rgb(184, 134, 11);border-radius: 5%;"></div>
                          </div></div><br>
                          </div>
                          </div>
                        </div>

                      </div>

                          </div>

                        </div>
                        <div class="modal-footer">
                            <button type="button" id="applyButton" data_elementid=ellipse06740877683828901 class="global_applyButton btn btn-primary btn-xs rounded px-2" data-dismiss="modal">Apply</button>

                        </div>
                        </div></div></div>

                               <button type="button"  value="AddTab" class="btn btn-primary btn-xs rounded px-2" data-toggle="tooltip" title="Add new tab" id='analysisAddTabellipse06740877683828901' style="display: none;"><i class="fa fa-plus"></i>&nbsp;Tab</button>   <button type="button" value="PDF" class="btn btn-primary btn-xs rounded px-2 mx-2" id='analysisPDFellipse06740877683828901'><i class="fa fa-file-pdf-o"></i>&nbsp;PDF</button></div>
                </div>
              </div>
              <div class="card-body bodyAnalysis" style="overflow:auto"  id='analysisDashboardellipse06740877683828901'>
                <ul class="nav nav-tabs nav-fill analysis-nav" id="analysisTabellipse06740877683828901" role="tablist">
      <li class="nav-item navtab scroll-link" style="display: none;">
        <a class="nav-link" id="indexTab" href="#indexTabContent" role="tab" data-toggle="tab" aria-controls="#indexTab" aria-selected="true">
          <div class="row  flex-nowrap">
            <div class="col-md-11" style="padding-right: 0.1rem">
              <span class="tabname1" id="indexTab" data-tab="indexTab" data-tab_ct="indexTab">
                Index
              </span>
            </div>
          </div>
        </a>
      </li>
                </ul>
                <div class="tab-content" id="analysisTabContentellipse06740877683828901">
      <div class="tab-pane fade" id="indexTabContent" role="tabpanel" aria-labelledby="indexTab" style="display: none;">
        <div id="tabLinks" style="width: 1125px; margin: auto; border: 0.1px solid black; overflow-y: scroll; min-height: 715px; max-height: 715px;">
        <div class="row" style="border-bottom: 1px solid black;align-items: center;justify-content: center;display: flex;">

        </div>



        </div>
      </div>
      <div class="tab-pane fade" id="tabellipse067408776838289011" role="tabpanel" aria-labelledby="analysistabellipse067408776838289011">
                    <div class="d-flex justify-content-between" style="padding-top:1%">
                    <div class="card-tools tabCardTools row col-12" style="background:whitesmoke; padding-bottom: 2px;margin:auto"> <button type="button" value="AddComment" class="btn btn-primary commentButton btn-xs" id="AddCommentellipse067408776838289011"  data-toggle="tooltip" title="Add comment" style="height: 25px;border-radius:5px;border-color:none;color:white;margin-top:10px; margin-bottom:10px"><i class='far fa-comment-dots' style="font-size:1rem;"></i></button>&nbsp; <button type="button" value="PDF" class=" btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289011" id='analysisPDFellipse067408776838289011' style="color:#ffffff;background-color:rgba(86,90,94,0);border-style:none;border-width:;border-color:#000000;font-size:none;border-radius:5px;margin-right:5px;margin-top:10px; margin-bottom:10px" onMouseOver='' onMouseOut=''><i class='fas fa-file-invoice listoficons' style='color:#1d3b58'></i> </button> <button type="button" value="slicerConfig" class="btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289011" id='slicerConfigellipse067408776838289011' data-toggle="modal" data-target="#slicerConfigModalellipse067408776838289011" style="height: 25px;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px; margin-right:10px; margin-top:10px; margin-bottom:10px"><i class="fas fa-filter"></i>&nbsp;Slicer</button>
         <button type="button" value="gridLines" class="btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289011" id='gridLinesellipse067408776838289011' style="color:#ffffff;background-color:rgba(86,90,94,0);border-style:none;border-width:;border-color:#000000;font-size:none;border-radius:5px; margin-right:10px; margin-top:10px; margin-bottom:10px" onclick="gridLine.call(this)" onMouseOver=this.style.backgroundColor='#d6d6d6' onMouseOut=this.style.backgroundColor='rgba(86,90,94,0)' ><i class='fas fa-th listoficons' style='color:#1d3b58'></i> </button>
               </div>
                    </div>

                    <div class="col-lg-12 row chartDivSection" data-layout="Landscape" id="analysisrowellipse067408776838289011" ondblclick="resetCrossFilter.call(this)"></div></div>

                    {%csrf_token%}
                    <div class="modal" id="slicerConfigModalellipse067408776838289011">
                      <div class="modal-dialog modal-md modal-dialog-centered">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h6 class="modal-title" style="text-align:center;">Configure slicer</h6>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                          </div>
                          <div class="modal-body">
                            <div class="card">
                              <div class="card-body">
                                <div class="card-tools" style="display:flex; flex-direction:row; align-items:center; justify-content:space-between; color:var(--primary-color)">
                                  <label for="">Add slicer</label>
                                  <button type="button" class="btn addOptionBtn" onclick="addSlicers('ellipse06740877683828901', '1')"><i class="fas fa-plus" style="color:var(--primary-color);"></i></button>
                                </div>
                                <div id="slicerConfigCardellipse067408776838289011" style="max-height: 15.25rem; overflow-y: scroll; overflow-x: hidden;">
                                  <div class="card" data-slicer_class="selectSlicerConfig_ellipse067408776838289011">
                                    <div class="card-body">
                                      <div class="form-group">
                                        <label for="analysisSlicerTable">Source table:
                                        </label>
                                        <select class="select2 form-control analysisSlicerTable" name="analysisSlicerTable">
                                          <option value="">Select source table</option>   <option value="Asset_Class_Master">Asset_Class_Master</option>   <option value="Test_date_table">Test_date_table</option>   <option value="City_Master">City_Master</option>   <option value="Dummy_concat_tabble">Dummy_concat_tabble</option>   <option value="loss_data2">loss_data2</option>   <option value="Loss_data">Loss_data</option>   <option value="Trade_value">Trade_value</option>   <option value="Bank_loss_data">Bank_loss_data</option>   <option value="dummy_concat_table2">dummy_concat_table2</option>   <option value="attribute_master">attribute_master</option>   <option value="Test_table_23">Test_table_23</option>   <option value="Product_Master_2">Product_Master_2</option>   <option value="Loss_data2_replica">Loss_data2_replica</option>   <option value="Simulated_loss_amount_Final">Simulated_loss_amount_Final</option>   <option value="UserProfile">UserProfile</option>   <option value="Complain_Register_Table">Complain_Register_Table</option>   <option value="loss_data2_scenario">loss_data2_scenario</option>   <option value="Loss_dataset">Loss_dataset</option>   <option value="pool_master">pool_master</option>   <option value="Aggreagted_bank_loss_data">Aggreagted_bank_loss_data</option>   <option value="Product_Master">Product_Master</option>   <option value="Onboarding_details">Onboarding_details</option>   <option value="Trade_entry">Trade_entry</option>   <option value="concat_table">concat_table</option>   <option value="Measures_Master">Measures_Master</option>                 </select>
                                      </div>
                                      <div class="form-group">
                                        <label for="analysisSlicerParameter">Slicer parameter:
                                        </label>
                                        <select  class="select2 form-control analysisSlicerParameter" name="analysisSlicerParameter">
                                          <option value="">Select slicer parameter</option>
                                        </select>
                                      </div>
                                      <div class = "form-group">
                                        <label for="analysisSlicerBoolean">
                                        <input type="checkbox" class="analysisSlicerBoolean" name="analysisSlicerBoolean" value="True">
                                        Add default option for all values</label>
                                      </div>
                                      <div class="form-group">
                                        <label>
                                        <input class="mulcheckbox" type="checkbox">
                                        Multiselect Slicer</label>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="modal-footer">
                              <button type="button" id="saveTabSlicerConfigellipse067408776838289011" data-analysis_id="ellipse06740877683828901" data-tab_id="1" class="btn btn-primary btn-xs mx-2 rounded px-2" data-dismiss="modal">Save</button>
                          </div>
                        </div>
                      </div>
                    </div>  <div class="tab-pane fade" id="tabellipse067408776838289012" role="tabpanel" aria-labelledby="analysistabellipse067408776838289012">
                    <div class="d-flex justify-content-between" style="padding-top:1%">
                    <div class="card-tools tabCardTools row col-12" style="background:whitesmoke; padding-bottom: 2px;margin:auto"> <button type="button" value="AddComment" class="btn btn-primary commentButton btn-xs" id="AddCommentellipse067408776838289012"  data-toggle="tooltip" title="Add comment" style="height: 25px;border-radius:5px;border-color:none;color:white;margin-top:10px; margin-bottom:10px"><i class='far fa-comment-dots' style="font-size:1rem;"></i></button>&nbsp; <button type="button" value="PDF" class=" btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289012" id='analysisPDFellipse067408776838289012' style="color:#ffffff;background-color:rgba(86,90,94,0);border-style:none;border-width:;border-color:#000000;font-size:none;border-radius:5px;margin-right:5px;margin-top:10px; margin-bottom:10px" onMouseOver='' onMouseOut=''><i class='fas fa-file-invoice listoficons' style='color:#1d3b58'></i> </button> <button type="button" value="slicerConfig" class="btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289012" id='slicerConfigellipse067408776838289012' data-toggle="modal" data-target="#slicerConfigModalellipse067408776838289012" style="height: 25px;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px; margin-right:10px; margin-top:10px; margin-bottom:10px"><i class="fas fa-filter"></i>&nbsp;Slicer</button>
         <button type="button" value="gridLines" class="btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289012" id='gridLinesellipse067408776838289012' style="color:#ffffff;background-color:rgba(86,90,94,0);border-style:none;border-width:;border-color:#000000;font-size:none;border-radius:5px; margin-right:10px; margin-top:10px; margin-bottom:10px" onclick="gridLine.call(this)" onMouseOver=this.style.backgroundColor='#d6d6d6' onMouseOut=this.style.backgroundColor='rgba(86,90,94,0)' ><i class='fas fa-th listoficons' style='color:#1d3b58'></i> </button>
               </div>
                    </div>

                    <div class="col-lg-12 row chartDivSection" data-layout="Landscape" id="analysisrowellipse067408776838289012" ondblclick="resetCrossFilter.call(this)"></div></div>

                    {%csrf_token%}
                    <div class="modal" id="slicerConfigModalellipse067408776838289012">
                      <div class="modal-dialog modal-md modal-dialog-centered">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h6 class="modal-title" style="text-align:center;">Configure slicer</h6>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                          </div>
                          <div class="modal-body">
                            <div class="card">
                              <div class="card-body">
                                <div class="card-tools" style="display:flex; flex-direction:row; align-items:center; justify-content:space-between; color:var(--primary-color)">
                                  <label for="">Add slicer</label>
                                  <button type="button" class="btn addOptionBtn" onclick="addSlicers('ellipse06740877683828901', '2')"><i class="fas fa-plus" style="color:var(--primary-color);"></i></button>
                                </div>
                                <div id="slicerConfigCardellipse067408776838289012" style="max-height: 15.25rem; overflow-y: scroll; overflow-x: hidden;">
                                  <div class="card" data-slicer_class="selectSlicerConfig_ellipse067408776838289012">
                                    <div class="card-body">
                                      <div class="form-group">
                                        <label for="analysisSlicerTable">Source table:
                                        </label>
                                        <select class="select2 form-control analysisSlicerTable" name="analysisSlicerTable">
                                          <option value="">Select source table</option>   <option value="Asset_Class_Master">Asset_Class_Master</option>   <option value="Test_date_table">Test_date_table</option>   <option value="City_Master">City_Master</option>   <option value="Dummy_concat_tabble">Dummy_concat_tabble</option>   <option value="loss_data2">loss_data2</option>   <option value="Loss_data">Loss_data</option>   <option value="Trade_value">Trade_value</option>   <option value="Bank_loss_data">Bank_loss_data</option>   <option value="dummy_concat_table2">dummy_concat_table2</option>   <option value="attribute_master">attribute_master</option>   <option value="Test_table_23">Test_table_23</option>   <option value="Product_Master_2">Product_Master_2</option>   <option value="Loss_data2_replica">Loss_data2_replica</option>   <option value="Simulated_loss_amount_Final">Simulated_loss_amount_Final</option>   <option value="UserProfile">UserProfile</option>   <option value="Complain_Register_Table">Complain_Register_Table</option>   <option value="loss_data2_scenario">loss_data2_scenario</option>   <option value="Loss_dataset">Loss_dataset</option>   <option value="pool_master">pool_master</option>   <option value="Aggreagted_bank_loss_data">Aggreagted_bank_loss_data</option>   <option value="Product_Master">Product_Master</option>   <option value="Onboarding_details">Onboarding_details</option>   <option value="Trade_entry">Trade_entry</option>   <option value="concat_table">concat_table</option>   <option value="Measures_Master">Measures_Master</option>                 </select>
                                      </div>
                                      <div class="form-group">
                                        <label for="analysisSlicerParameter">Slicer parameter:
                                        </label>
                                        <select  class="select2 form-control analysisSlicerParameter" name="analysisSlicerParameter">
                                          <option value="">Select slicer parameter</option>
                                        </select>
                                      </div>
                                      <div class = "form-group">
                                        <label for="analysisSlicerBoolean">
                                        <input type="checkbox" class="analysisSlicerBoolean" name="analysisSlicerBoolean" value="True">
                                        Add default option for all values</label>
                                      </div>
                                      <div class="form-group">
                                        <label>
                                        <input class="mulcheckbox" type="checkbox">
                                        Multiselect Slicer</label>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="modal-footer">
                              <button type="button" id="saveTabSlicerConfigellipse067408776838289012" data-analysis_id="ellipse06740877683828901" data-tab_id="2" class="btn btn-primary btn-xs mx-2 rounded px-2" data-dismiss="modal">Save</button>
                          </div>
                        </div>
                      </div>
                    </div>  <div class="tab-pane fade" id="tabellipse067408776838289013" role="tabpanel" aria-labelledby="analysistabellipse067408776838289013">
                    <div class="d-flex justify-content-between" style="padding-top:1%">
                    <div class="card-tools tabCardTools row col-12" style="background:whitesmoke; padding-bottom: 2px;margin:auto"> <button type="button" value="AddComment" class="btn btn-primary commentButton btn-xs" id="AddCommentellipse067408776838289013"  data-toggle="tooltip" title="Add comment" style="height: 25px;border-radius:5px;border-color:none;color:white;margin-top:10px; margin-bottom:10px"><i class='far fa-comment-dots' style="font-size:1rem;"></i></button>&nbsp; <button type="button" value="PDF" class=" btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289013" id='analysisPDFellipse067408776838289013' style="color:#ffffff;background-color:rgba(86,90,94,0);border-style:none;border-width:;border-color:#000000;font-size:none;border-radius:5px;margin-right:5px;margin-top:10px; margin-bottom:10px" onMouseOver='' onMouseOut=''><i class='fas fa-file-invoice listoficons' style='color:#1d3b58'></i> </button> <button type="button" value="slicerConfig" class="btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289013" id='slicerConfigellipse067408776838289013' data-toggle="modal" data-target="#slicerConfigModalellipse067408776838289013" style="height: 25px;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px; margin-right:10px; margin-top:10px; margin-bottom:10px"><i class="fas fa-filter"></i>&nbsp;Slicer</button>
         <button type="button" value="gridLines" class="btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289013" id='gridLinesellipse067408776838289013' style="color:#ffffff;background-color:rgba(86,90,94,0);border-style:none;border-width:;border-color:#000000;font-size:none;border-radius:5px; margin-right:10px; margin-top:10px; margin-bottom:10px" onclick="gridLine.call(this)" onMouseOver=this.style.backgroundColor='#d6d6d6' onMouseOut=this.style.backgroundColor='rgba(86,90,94,0)' ><i class='fas fa-th listoficons' style='color:#1d3b58'></i> </button>
               </div>
                    </div>

                    <div class="col-lg-12 row chartDivSection" data-layout="Landscape" id="analysisrowellipse067408776838289013" ondblclick="resetCrossFilter.call(this)"></div></div>

                    {%csrf_token%}
                    <div class="modal" id="slicerConfigModalellipse067408776838289013">
                      <div class="modal-dialog modal-md modal-dialog-centered">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h6 class="modal-title" style="text-align:center;">Configure slicer</h6>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                          </div>
                          <div class="modal-body">
                            <div class="card">
                              <div class="card-body">
                                <div class="card-tools" style="display:flex; flex-direction:row; align-items:center; justify-content:space-between; color:var(--primary-color)">
                                  <label for="">Add slicer</label>
                                  <button type="button" class="btn addOptionBtn" onclick="addSlicers('ellipse06740877683828901', '3')"><i class="fas fa-plus" style="color:var(--primary-color);"></i></button>
                                </div>
                                <div id="slicerConfigCardellipse067408776838289013" style="max-height: 15.25rem; overflow-y: scroll; overflow-x: hidden;">
                                  <div class="card" data-slicer_class="selectSlicerConfig_ellipse067408776838289013">
                                    <div class="card-body">
                                      <div class="form-group">
                                        <label for="analysisSlicerTable">Source table:
                                        </label>
                                        <select class="select2 form-control analysisSlicerTable" name="analysisSlicerTable">
                                          <option value="">Select source table</option>   <option value="Asset_Class_Master">Asset_Class_Master</option>   <option value="Test_date_table">Test_date_table</option>   <option value="City_Master">City_Master</option>   <option value="Dummy_concat_tabble">Dummy_concat_tabble</option>   <option value="loss_data2">loss_data2</option>   <option value="Loss_data">Loss_data</option>   <option value="Trade_value">Trade_value</option>   <option value="Bank_loss_data">Bank_loss_data</option>   <option value="dummy_concat_table2">dummy_concat_table2</option>   <option value="attribute_master">attribute_master</option>   <option value="Test_table_23">Test_table_23</option>   <option value="Product_Master_2">Product_Master_2</option>   <option value="Loss_data2_replica">Loss_data2_replica</option>   <option value="Simulated_loss_amount_Final">Simulated_loss_amount_Final</option>   <option value="UserProfile">UserProfile</option>   <option value="Complain_Register_Table">Complain_Register_Table</option>   <option value="loss_data2_scenario">loss_data2_scenario</option>   <option value="Loss_dataset">Loss_dataset</option>   <option value="pool_master">pool_master</option>   <option value="Aggreagted_bank_loss_data">Aggreagted_bank_loss_data</option>   <option value="Product_Master">Product_Master</option>   <option value="Onboarding_details">Onboarding_details</option>   <option value="Trade_entry">Trade_entry</option>   <option value="concat_table">concat_table</option>   <option value="Measures_Master">Measures_Master</option>                 </select>
                                      </div>
                                      <div class="form-group">
                                        <label for="analysisSlicerParameter">Slicer parameter:
                                        </label>
                                        <select  class="select2 form-control analysisSlicerParameter" name="analysisSlicerParameter">
                                          <option value="">Select slicer parameter</option>
                                        </select>
                                      </div>
                                      <div class = "form-group">
                                        <label for="analysisSlicerBoolean">
                                        <input type="checkbox" class="analysisSlicerBoolean" name="analysisSlicerBoolean" value="True">
                                        Add default option for all values</label>
                                      </div>
                                      <div class="form-group">
                                        <label>
                                        <input class="mulcheckbox" type="checkbox">
                                        Multiselect Slicer</label>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="modal-footer">
                              <button type="button" id="saveTabSlicerConfigellipse067408776838289013" data-analysis_id="ellipse06740877683828901" data-tab_id="3" class="btn btn-primary btn-xs mx-2 rounded px-2" data-dismiss="modal">Save</button>
                          </div>
                        </div>
                      </div>
                    </div>  <div class="tab-pane fade" id="tabellipse067408776838289014" role="tabpanel" aria-labelledby="analysistabellipse067408776838289014">
                    <div class="d-flex justify-content-between" style="padding-top:1%">
                    <div class="card-tools tabCardTools row col-12" style="background:whitesmoke; padding-bottom: 2px;margin:auto"> <button type="button" value="AddComment" class="btn btn-primary commentButton btn-xs" id="AddCommentellipse067408776838289014"  data-toggle="tooltip" title="Add comment" style="height: 25px;border-radius:5px;border-color:none;color:white;margin-top:10px; margin-bottom:10px"><i class='far fa-comment-dots' style="font-size:1rem;"></i></button>&nbsp; <button type="button" value="PDF" class=" btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289014" id='analysisPDFellipse067408776838289014' style="color:#ffffff;background-color:rgba(86,90,94,0);border-style:none;border-width:;border-color:#000000;font-size:none;border-radius:5px;margin-right:5px;margin-top:10px; margin-bottom:10px" onMouseOver='' onMouseOut=''><i class='fas fa-file-invoice listoficons' style='color:#1d3b58'></i> </button> <button type="button" value="slicerConfig" class="btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289014" id='slicerConfigellipse067408776838289014' data-toggle="modal" data-target="#slicerConfigModalellipse067408776838289014" style="height: 25px;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px; margin-right:10px; margin-top:10px; margin-bottom:10px"><i class="fas fa-filter"></i>&nbsp;Slicer</button>
         <button type="button" value="gridLines" class="btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289014" id='gridLinesellipse067408776838289014' style="color:#ffffff;background-color:rgba(86,90,94,0);border-style:none;border-width:;border-color:#000000;font-size:none;border-radius:5px; margin-right:10px; margin-top:10px; margin-bottom:10px" onclick="gridLine.call(this)" onMouseOver=this.style.backgroundColor='#d6d6d6' onMouseOut=this.style.backgroundColor='rgba(86,90,94,0)' ><i class='fas fa-th listoficons' style='color:#1d3b58'></i> </button>
               </div>
                    </div>

                    <div class="col-lg-12 row chartDivSection" data-layout="Landscape" id="analysisrowellipse067408776838289014" ondblclick="resetCrossFilter.call(this)"></div></div>

                    {%csrf_token%}
                    <div class="modal" id="slicerConfigModalellipse067408776838289014">
                      <div class="modal-dialog modal-md modal-dialog-centered">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h6 class="modal-title" style="text-align:center;">Configure slicer</h6>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                          </div>
                          <div class="modal-body">
                            <div class="card">
                              <div class="card-body">
                                <div class="card-tools" style="display:flex; flex-direction:row; align-items:center; justify-content:space-between; color:var(--primary-color)">
                                  <label for="">Add slicer</label>
                                  <button type="button" class="btn addOptionBtn" onclick="addSlicers('ellipse06740877683828901', '4')"><i class="fas fa-plus" style="color:var(--primary-color);"></i></button>
                                </div>
                                <div id="slicerConfigCardellipse067408776838289014" style="max-height: 15.25rem; overflow-y: scroll; overflow-x: hidden;">
                                  <div class="card" data-slicer_class="selectSlicerConfig_ellipse067408776838289014">
                                    <div class="card-body">
                                      <div class="form-group">
                                        <label for="analysisSlicerTable">Source table:
                                        </label>
                                        <select class="select2 form-control analysisSlicerTable" name="analysisSlicerTable">
                                          <option value="">Select source table</option>   <option value="Asset_Class_Master">Asset_Class_Master</option>   <option value="Test_date_table">Test_date_table</option>   <option value="City_Master">City_Master</option>   <option value="Dummy_concat_tabble">Dummy_concat_tabble</option>   <option value="loss_data2">loss_data2</option>   <option value="Loss_data">Loss_data</option>   <option value="Trade_value">Trade_value</option>   <option value="Bank_loss_data">Bank_loss_data</option>   <option value="dummy_concat_table2">dummy_concat_table2</option>   <option value="attribute_master">attribute_master</option>   <option value="Test_table_23">Test_table_23</option>   <option value="Product_Master_2">Product_Master_2</option>   <option value="Loss_data2_replica">Loss_data2_replica</option>   <option value="Simulated_loss_amount_Final">Simulated_loss_amount_Final</option>   <option value="UserProfile">UserProfile</option>   <option value="Complain_Register_Table">Complain_Register_Table</option>   <option value="loss_data2_scenario">loss_data2_scenario</option>   <option value="Loss_dataset">Loss_dataset</option>   <option value="pool_master">pool_master</option>   <option value="Aggreagted_bank_loss_data">Aggreagted_bank_loss_data</option>   <option value="Product_Master">Product_Master</option>   <option value="Onboarding_details">Onboarding_details</option>   <option value="Trade_entry">Trade_entry</option>   <option value="concat_table">concat_table</option>   <option value="Measures_Master">Measures_Master</option>                 </select>
                                      </div>
                                      <div class="form-group">
                                        <label for="analysisSlicerParameter">Slicer parameter:
                                        </label>
                                        <select  class="select2 form-control analysisSlicerParameter" name="analysisSlicerParameter">
                                          <option value="">Select slicer parameter</option>
                                        </select>
                                      </div>
                                      <div class = "form-group">
                                        <label for="analysisSlicerBoolean">
                                        <input type="checkbox" class="analysisSlicerBoolean" name="analysisSlicerBoolean" value="True">
                                        Add default option for all values</label>
                                      </div>
                                      <div class="form-group">
                                        <label>
                                        <input class="mulcheckbox" type="checkbox">
                                        Multiselect Slicer</label>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="modal-footer">
                              <button type="button" id="saveTabSlicerConfigellipse067408776838289014" data-analysis_id="ellipse06740877683828901" data-tab_id="4" class="btn btn-primary btn-xs mx-2 rounded px-2" data-dismiss="modal">Save</button>
                          </div>
                        </div>
                      </div>
                    </div>  </div>
            </div>
             <!-- Modal data-target="#PlotElements" -->  <div class="modal fade plotlyModal" id="PlotElementsellipse06740877683828901" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header" style="background:#565a5e; color:white; text-align:center;padding-bottom:2%;padding-top:3%;padding-left: 11.8rem;">
              <h5 class="modal-title" id="exampleModalLongTitleellipse06740877683828901">Insert Chart</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body" style="max-height:45em;overflow-x:scroll;">
              <div class="row">
                <div class="form-group col-12">
                  <label class="acies_label col-md-12">Select Table:</label>
                  <select id="selectTableellipse06740877683828901" class="select2 form-control" name="selectTable">
                    <option value="" disabled selected>--------------------</option>   <option value="Asset_Class_Master">Asset_Class_Master</option>   <option value="Test_date_table">Test_date_table</option>   <option value="City_Master">City_Master</option>   <option value="Dummy_concat_tabble">Dummy_concat_tabble</option>   <option value="loss_data2">loss_data2</option>   <option value="Loss_data">Loss_data</option>   <option value="Trade_value">Trade_value</option>   <option value="Bank_loss_data">Bank_loss_data</option>   <option value="dummy_concat_table2">dummy_concat_table2</option>   <option value="attribute_master">attribute_master</option>   <option value="Test_table_23">Test_table_23</option>   <option value="Product_Master_2">Product_Master_2</option>   <option value="Loss_data2_replica">Loss_data2_replica</option>   <option value="Simulated_loss_amount_Final">Simulated_loss_amount_Final</option>   <option value="UserProfile">UserProfile</option>   <option value="Complain_Register_Table">Complain_Register_Table</option>   <option value="loss_data2_scenario">loss_data2_scenario</option>   <option value="Loss_dataset">Loss_dataset</option>   <option value="pool_master">pool_master</option>   <option value="Aggreagted_bank_loss_data">Aggreagted_bank_loss_data</option>   <option value="Product_Master">Product_Master</option>   <option value="Onboarding_details">Onboarding_details</option>   <option value="Trade_entry">Trade_entry</option>   <option value="concat_table">concat_table</option>   <option value="Measures_Master">Measures_Master</option>   </select>
                </div>
              </div>
              <!--<div id="plotTypes">-->  <div class="row">
                <div class="col-4">
                  <form id="plotlyFormellipse06740877683828901" method="post">
                    {% csrf_token %}
                    <div class="row">
                      <div class="form-group col-12" style="height:35em;overflow-x:scroll;">
                        <!--<label class="acies_label col-md-12">Plot Category:</label>-->
                        <table>
                          <tr>
                            <th>
                              <center>Chart Category</center>
                            </th>
                          </tr>
                          <tr>
                            <td><br></td>
                          </tr>
                          <tbody id="myTableellipse06740877683828901">  <tr>
                              <td>
                                <button type="button" value="Image"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fa fa-picture-o"></i>&nbsp;&nbsp;Image
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Scatter"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fas fa-grip-vertical"></i>&nbsp;&nbsp;Scatter
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Bar"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fa fa-bar-chart"></i>&nbsp;&nbsp;Bar
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Line"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fa fa-line-chart"></i>&nbsp;&nbsp;Line
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Pie"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fas fa-chart-pie"></i>&nbsp;&nbsp;Pie
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Sunburst"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fas fa-chart-pie"></i>&nbsp;&nbsp;Sunburst
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Area"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fa fa-area-chart"></i>&nbsp;&nbsp;Area
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Waterfall"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fas fa-water"></i>&nbsp;&nbsp;Waterfall
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Treemap"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fas fa-th-large"></i>&nbsp;&nbsp;Treemap
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Funnel"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fa fa-filter"></i>&nbsp;&nbsp;Funnel
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Boxplot"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fas fa-boxes"></i>&nbsp;&nbsp;Boxplot
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Bubble"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fas fa-circle"></i>&nbsp;&nbsp;Bubble
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Histogram"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fa fa-signal"></i>&nbsp;&nbsp;Histogram
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Violin"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fa fa-thermometer-0"></i>&nbsp;&nbsp;Violin
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Heatmap"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fas fa-chess-board"></i>&nbsp;&nbsp;Heatmap
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Gauge"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fa fa-tachometer"></i>&nbsp;&nbsp;Gauge
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Map"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fa fa-map-marker"></i>&nbsp;&nbsp;Map
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="3D plots"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fa fa-cubes"></i>&nbsp;&nbsp;3D plots
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Aggregation"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fas fa-percentage"></i>&nbsp;&nbsp;Aggregation
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Combo"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fas fa-shapes"></i>&nbsp;&nbsp;Combo
                                </button>
                                <br>
                              </td>
                            </tr>  <tr>
                              <td>
                                <button type="button" value="Table"
                                  class=" btn mb-2 btn-primary plotlyCategoryellipse06740877683828901" data-elementID="ellipse06740877683828901"
                                  style="height: 25px;width:7rem;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px;"
                                  data-toggle="modal">
                                  <i class="fa fa-table"></i>&nbsp;&nbsp;Table
                                </button>
                                <br>
                              </td>
                            </tr>  </tbody>
                        </table>
                      </div>
                    </div>
                  </form>
                </div>
                <div class="col-8" style="border-left:solid;">

                    <div class="row">
                      <div class="form-group col-12">
                        <label class="acies_label col-md-12">Select Chart Type:</label>
                        <select id="selectPlotlyellipse06740877683828901" class="select2 plotlyTypeellipse06740877683828901 form-control" data-elementID="ellipse06740877683828901" name="sel">
                          <option value="" disabled selected>--------------------</option>
                        </select>
                      </div>
                    </div>
            <div class="font-weight-light">
              <div class="card col-12" id="chartTypesellipse06740877683828901" style="display: none">

                <div class="card-body" style="display:block;">
                  <div id="inputsellipse06740877683828901">
                  <!-- XY-AXIS -->
                  <div id="XY_AXISellipse06740877683828901" style="display:none">
                    <!--Scatter, Scatter with straight lines and markers,2D histogram contour-->
                    <div class=" form-row">
                      <div class="col-12" id="XYlabelellipse06740877683828901">
                        <div class="form-group">
                          <label class="acies_label col-md-12">Select X Axis:</label>
                          <select id="selectXellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                            required>
                            <option value="" disabled selected>--------------------</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-12" id="selectYXellipse06740877683828901">
                        <div class="form-group">
                          <label class="acies_label col-md-12">Select Y Axis:</label>
                          <select id="selectYellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                            required>
                            <option value="" disabled selected>--------------------</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-12" id="Ybarlabelscatterellipse06740877683828901">
                        <div class="form-group">
                          <label class="acies_label col-md-12">Select Filters:</label>
                          <select id="selectfilter6ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                            required multiple>
                          </select>
                        </div>
                      </div>
                      <div class="col-12" id="XYTabellipse06740877683828901">
                        <div class="form-group">
                          <label class="acies_label col-md-12">Select Tab:</label>
                          <select id="selectXYTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                            <option value="" disabled selected>--------------------</option>
                          </select>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- XY-AXIS END -->
                       <!-- XYZ-AXIS -->
                       <div id="XYZ_AXISellipse06740877683828901" style="display:none">
                        <!--3D Scatter Plots,3D Mesh Plots-->
                        <div class=" form-row">
                          <div class="col-12" id="XYlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select X Axis:</label>
                              <select id="select_X1ellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="YHbarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Y Axis:</label>
                              <select id="select_Y11ellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Z Axis:</label>
                              <select id="select_Z1ellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybarlabelvertical_3dellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Filters:</label>
                              <select id="selectfilter14ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                required multiple>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="XYZTabellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Tab:</label>
                              <select id="selectXYZTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- XYZ-AXIS END -->
                       <!-- XYOP-AXIS -->
                       <div id="XYOP_AXISellipse06740877683828901" style="display:none">
                        <!--Horizontal Dot Plot ,Vertical Box,Horizontal Box,Violin Plot,Horizontal Violin Plot,-->
                        <div class=" form-row">
                          <div class="col-12" id="XYlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select X Axis:</label>
                              <select id="selectXaxisellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="YHbarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Y Axis:</label>
                              <select id="selectYaxisellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybarlabelverticalellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Filters:</label>
                              <select id="selectfilter7ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                required multiple>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="XYOPTabellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Tab:</label>
                              <select id="selectXYOPTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- XYOP-AXIS END -->
                       <!-- Value-AXIS -->
                       <div id="Value_AXISellipse06740877683828901" style="display:none">
                        <!--Histogram,Cumulative Histogram,Horizontal Histogram-->
                        <div class=" form-row">
                          <div class="col-12" id="XYlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Value:</label>
                              <select id="select_histovalueellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="YbarlabelHistoellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Filters:</label>
                              <select id="selectfilter2ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                required multiple>
                              </select>
                            </div>
                          </div>
                            <div class="col-12" id="ValueTabellipse06740877683828901">
                              <div class="form-group">
                                <label class="acies_label col-md-12">Select Tab:</label>
                                <select id="selectValueTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                  <option value="" disabled selected>--------------------</option>
                                </select>
                              </div>
                          </div>
                        </div>
                      </div>
                      <!-- Value-AXIS END -->
                       <!-- ValueOp-AXIS -->
                       <div id="ValueOp_AXISellipse06740877683828901" style="display:none">
                        <!--Bubble Map,Chloropath Map-->
                        <div class=" form-row">
                          <div class="col-12" id="XYlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Value:</label>
                              <select id="select_valueopellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="XYlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Operation:</label>
                              <select id="select_operationellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybarlabelvertical_mapellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Filters:</label>
                              <select id="selectfilter13ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                required multiple>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="ValueOPTabellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Tab:</label>
                              <select id="selectValueOPTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- ValueOp-AXIS END -->
                        <!-- XX-AXIS -->
                        <div id="XX_AXISellipse06740877683828901" style="display:none">
                          <!--Stacked Histogram-->
                          <div class=" form-row">
                            <div class="col-12" id="XYlabelellipse06740877683828901">
                              <div class="form-group">
                                <label class="acies_label col-md-12">Select X Axis:</label>
                                <select id="select_xxaxisellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                  required>
                                  <option value="" disabled selected>--------------------</option>
                                </select>
                              </div>
                            </div>
                            <div class="col-12" id="XYlabelellipse06740877683828901">
                              <div class="form-group">
                                <label class="acies_label col-md-12">Select X1 Axis:</label>
                                <select id="select_xx1axisellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                  required>
                                  <option value="" disabled selected>--------------------</option>
                                </select>
                              </div>
                            </div>
                            <div class="col-12" id="YbarlabelStackHistoellipse06740877683828901">
                              <div class="form-group">
                                <label class="acies_label col-md-12">Select Filters:</label>
                                <select id="selectfilter3ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                  required multiple>
                                </select>
                              </div>
                            </div>
                            <div class="col-12" id="XXTabellipse06740877683828901">
                              <div class="form-group">
                                <label class="acies_label col-md-12">Select Tab:</label>
                                <select id="selectXXTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                  <option value="" disabled selected>--------------------</option>
                                </select>
                              </div>
                            </div>

                          </div>
                        </div>
                        <!-- XX-AXIS END -->
                       <!-- XYYOP-AXIS -->
                       <div id="XYYOP_AXISellipse06740877683828901" style="display:none">
                        <!--Vertical Grouped Box,Grouped Violin Plot-->
                        <div class=" form-row">
                          <div class="col-12" id="XYlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select X Axis:</label>
                              <select id="selectX_axisellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="YHbarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Y Axis:</label>
                              <select id="selectY_axisellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="YHbarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Y1 Axis:</label>
                              <select id="selectY1_axisellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybarlabelvertical_groupedellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Filters:</label>
                              <select id="selectfilter10ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                required multiple>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="YYOPTabellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Tab:</label>
                              <select id="selectYYOPTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- XYYOP-AXIS END -->
                      <div id="XYYHOP_AXISellipse06740877683828901" style="display:none">
                        <!--Horizontal Grouped Box,Horizontal Grouped Violin Plot-->
                        <div class=" form-row">
                          <div class="col-12" id="XYlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select X Axis:</label>
                              <select id="selectXH_axisellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="YHbarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select X1 Axis:</label>
                              <select id="selectX1H_axisellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="YHbarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Y Axis:</label>
                              <select id="selectYH_axisellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybarlabelvertical_grpoudellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Filters:</label>
                              <select id="selectfilter12ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                required multiple>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="YYOPTabellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Tab:</label>
                              <select id="selectXXHOPTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                       <!-- XYfloatOP-AXIS -->
                       <div id="XYfloatOP_AXISellipse06740877683828901" style="display:none">
                        <!--Vertical Bar,Line,Stepped Line Graph,Vertical Area Chart,Vertical Waterfall-->
                        <div class=" form-row">
                          <div class="col-12" id="XYlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select X Axis:</label>
                              <select id="selectXHellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="YHbarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Y Axis:</label>
                              <select id="selectYfloatellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Operations:</label>
                              <select id="selectoperationsellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Filters:</label>
                              <select id="selectfilterellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                required multiple>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="XYOPETabellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Tab:</label>
                              <select id="selectXYOPETabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- XYfloatOP-AXIS END -->
                       <!-- MultipleLine-AXIS -->
                       <div id="MultipleLine_AXISellipse06740877683828901" style="display:none">
                        <!--MultipleLine-->
                        <div class=" form-row">
                          <div class="col-12" id="Multiplelabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select X Axis:</label>
                              <select id="selectX_multipleellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="multiple_valueellipse06740877683828901">
                              <div class="form-group">
                                <label class="acies_label col-md-12">Select N:</label>
                                <input id="select_multiple_yellipse06740877683828901" type="number" value="1" min="1" style="width:19em;height:2.2em;">
                              </div>
                          </div>
                          <div class="col-12" id="YHbar_multiple_labelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Y1 Axis:</label>
                              <select id="selectY1_multiplefloatellipse06740877683828901" class="multiple_line_dropbox select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12 multiple_line_chart_yaxisellipse06740877683828901" style="padding:0;margin:0;">
                          </div>
                          <div class="col-12" id="Multiple_operationsellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Operations:</label>
                              <select id="select_multiple_operationsellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybar_multiple_labelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Filters:</label>
                              <select id="selectfilter23ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                required multiple>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="XYOPETabellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Tab:</label>
                              <select id="selectXYOPE_multipleTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- MultipleLine-AXIS END -->
                        <!-- XfloatYOP-AXIS -->
                       <div id="XfloatYOP_AXISellipse06740877683828901" style="display:none">
                        <!--Horizontal Bar,Horizontal Area,Horizontal Waterfall,Funnel Chart,Funnel Area Chart-->
                        <div class=" form-row">
                          <div class="col-12" id="XYlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select X Axis:</label>
                              <select id="selectXfloatellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="YHbarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Y Axis:</label>
                              <select id="selectYHellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Operations:</label>
                              <select id="optellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Filters:</label>
                              <select id="selectfilter1ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                required multiple>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="XFloatTabellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Tab:</label>
                              <select id="selectXFloatTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- XfloatYOP-AXIS END -->
                      <!-- XYfloatYfloatOP-AXIS -->
                      <div id="XYfloatYfloatOP_AXISellipse06740877683828901" style="display:none">
                        <!--Vertical Line Stacked,Vertical Area Stacked,Vertical Waterfall Grouped-->
                        <div class=" form-row">
                          <div class="col-12" id="XYlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select X Axis:</label>
                              <select id="select_Xellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="YHbarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Y Axis:</label>
                              <select id="select_Yellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="YHbarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Y1 Axis:</label>
                              <select id="select_Y1ellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Operations:</label>
                              <select id="select_OPellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>  </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybarlabelvertical_stackedellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Filters:</label>
                              <select id="selectfilter8ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                required multiple>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="XYY1OPTabellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Tab:</label>
                              <select id="selectXYY1OPTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- XYfloatYfloatOP-AXIS END-->
                      <!-- XYMultipleOP-AXIS -->
                      <div id="XYMultipleOP_AXISellipse06740877683828901" style="display:none">
                        <!--Vertical Bar Stacked,Vertical Bar Grouped-->
                        <div class=" form-row">
                          <div class="col-12" id="XYlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select X Axis:</label>
                              <select id="select_Xmellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="multiple_valueellipse06740877683828901">
                              <div class="form-group">
                                <label class="acies_label col-md-12">Select number of Y Axes:</label>
                                <input id="select_YMultiple_noellipse06740877683828901" type="number" value="1" min="1" style="width:19em;height:2.2em;">
                              </div>
                          </div>
                          <div class="col-12" id="YHbarMultiplelabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Y1:</label>
                              <select id="select_Y1Multipleellipse06740877683828901" class="YMultiple_dropbox select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12 multiple_yaxisellipse06740877683828901" style="padding:0;margin:0;">
                          </div>
                          <div class="col-12" id="Ybarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Operations:</label>
                              <select id="select_YMultipleOPellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>  </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybarlabelvertical_stackedellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Filters:</label>
                              <select id="selectfilter26ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                required multiple>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="XYY1OPTabellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Tab:</label>
                              <select id="selectXYMultipleOPTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- XYMultipleOP-AXIS -->
                      <div id="XYfloatYComboOP_AXISellipse06740877683828901" style="display:none">
                        <!--Vertical Bar Grouped Combo with Line and Vertical Bar Stacked Combo with Line-->
                        <div class=" form-row">
                          <div class="col-12" id="XYCombolabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select X Axis:</label>
                              <select id="select_XmultipleComboellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="multiple_valueellipse06740877683828901">
                              <div class="form-group">
                                <label class="acies_label col-md-12">Select number of Y Axes:</label>
                                <input id="select_YmultipleCombo_noellipse06740877683828901" type="number" value="1" min="1" style="width:19em;height:2.2em;">
                              </div>
                          </div>
                          <div class="col-12" id="YHbarComboMultiplelabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Y1:</label>
                              <select id="select_Y1multipleComboellipse06740877683828901" class="YmultipleCombo_dropbox select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12 multiple_yaxis_comboellipse06740877683828901" style="padding:0;margin:0;">
                          </div>
                          <div class="col-12" id="YHbarCombolabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Line:</label>
                              <select id="select_LineComboellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="YbarlabelComboellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Operation for Y Axis:</label>
                              <select id="select_OPComboellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>  </select>
                            </div>
                          </div>
                          <div class="col-12" id="LinebarlabelComboellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Operation for Line:</label>
                              <select id="select_OPCombo_2ellipse06740877683828901" class="select2 plotAjax form-control" name="sel">
                                <option value="" disabled selected>--------------------</option>  </select>
                            </div>
                          </div>
                          <div class="col-12" id="Combo_labelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Filters:</label>
                              <select id="selectfilter17ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel" required multiple>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="XYY1OPComboTabellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Tab:</label>
                              <select id="selectXYY1OPComboTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- XYfloatYComboOP_AXIS END -->
                       <!-- MultipleLine_Combo_AXIS  -->
                      <div id="MultipleLine_Combo_AXISellipse06740877683828901" style="display:none">
                        <!--Bar stacked with MultipleLine-->
                        <div class=" form-row">
                          <div class="col-12" id="MultipleLinelabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select X Axis:</label>
                              <select id="select_XmultipleLineComboellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="multiple_line_valueellipse06740877683828901">
                              <div class="form-group">
                                <label class="acies_label col-md-12">Select number of Y Axes:</label>
                                <input id="select_YmultipleLineCombo_noellipse06740877683828901" type="number" value="1" min="1" style="width:19em;height:2.2em;">
                              </div>
                          </div>
                          <div class="col-12" id="YHbarComboMultipleLinelabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Y1:</label>
                              <select id="select_Y1multipleLineComboellipse06740877683828901" class="YmultipleLineCombo_dropbox select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12 multiple_yaxis_line_comboellipse06740877683828901" style="padding:0;margin:0;">
                          </div>
                          <div class="col-12" id="multiple_combo_valueellipse06740877683828901">
                              <div class="form-group">
                                <label class="acies_label col-md-12">Select number of Lines:</label>
                                <input id="select_multiple_combo_lineellipse06740877683828901" type="number" value="1" min="1" style="width:19em;height:2.2em;">
                              </div>
                          </div>
                          <div class="col-12" id="YHbarComboMultiplelabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Line 1:</label>
                              <select id="select_L1multipleComboellipse06740877683828901" class="combo_multiple_line_dropbox select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12 multiple_line_combo_chart_lineellipse06740877683828901" style="padding:0;margin:0;">
                          </div>
                          <div class="col-12" id="YHbarComboMultiplelabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Operations for Y Axis:</label>
                              <select id="select_multipleComboellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>  </select>
                            </div>
                          </div>
                          <div class="col-12" id="Multiple_combo_operationsellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Operations for Line:</label>
                              <select id="select_multipleCombo_lineellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybar_multiple_comboellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Filters:</label>
                              <select id="selectfilter25ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                required multiple>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="XYOPETabellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Tab:</label>
                              <select id="selectXYOPE_multipleComboTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- MultipleLine_Combo_AXIS  end-->

                      <!-- XfloatXfloatYOP-AXIS -->
                      <div id="XfloatXfloatYOP_AXISellipse06740877683828901" style="display:none">
                        <!--Horizontal Area Stacked,Horizontal Waterfall Grouped,Funnel Stacked-->
                        <div class=" form-row">
                          <div class="col-12" id="XYlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select X Axis:</label>
                              <select id="select_xfellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="YHbarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select X1 Axis:</label>
                              <select id="select_xf1ellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="YHbarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Y Axis:</label>
                              <select id="select_ynellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>  </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Operations:</label>
                              <select id="select_xxyellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybarlabelvertical_groupedellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Filters:</label>
                              <select id="selectfilter11ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                required multiple>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="XX1YOPTabellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Tab:</label>
                              <select id="selectXX1OPTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- XfloatXfloatYOP-AXIS END -->
                      <!-- XMultipleYOP-AXIS -->
                      <div id="XMultipleYOP_AXISellipse06740877683828901" style="display:none">
                        <!--Horizontal Bar Stacked, Horizontal Bar Grouped-->
                        <div class=" form-row">
                          <div class="col-12" id="multiple_x_valueellipse06740877683828901">
                              <div class="form-group">
                                <label class="acies_label col-md-12">Select number of X Axes:</label>
                                <input id="select_XMultiple_noellipse06740877683828901" type="number" value="1" min="1" style="width:19em;height:2.2em;">
                              </div>
                          </div>
                          <div class="col-12" id="XHbarMultiplelabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select X1:</label>
                              <select id="select_X1Multipleellipse06740877683828901" class="XMultiple_dropbox select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12 multiple_xaxisellipse06740877683828901" style="padding:0;margin:0;">
                          </div>
                          <div class="col-12" id="YHbarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Y Axis:</label>
                              <select id="select_Ymellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>  </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybarlabelellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Operations:</label>
                              <select id="select_XMultipleOPellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="Ybarlabelvertical_groupedellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Filters:</label>
                              <select id="selectfilter29ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                required multiple>
                              </select>
                            </div>
                          </div>
                          <div class="col-12" id="XX1YOPTabellipse06740877683828901">
                            <div class="form-group">
                              <label class="acies_label col-md-12">Select Tab:</label>
                              <select id="selectXMultipleYOPTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                <option value="" disabled selected>--------------------</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- XMultipleYOP-AXIS END -->
                        <!-- Image-AXIS -->
                        <div id="Image_ellipse06740877683828901" style="display:none">
                          <!--Image-->
                          <div class=" form-row">
                            <div class="col-12" id="Imagelabelellipse06740877683828901">
                              <form method="post" class="uploadimage" enctype="multipart/form-data">
                                <div class="custom-file" style="margin-bottom:1em">
                                  <input type="file" class="custom-file-input" class="upload_image_class" id="image_ellipse06740877683828901" style="border-bottom-color:white;" name="upload_image" accept="image/*">
                                  <label class="custom-file-label">Choose file</label>
                                </div>
                              </form>


                            </div>
                            <br>

                            <div class="col-12" id="ImageTabellipse06740877683828901">
                              <div class="form-group">
                                <label class="acies_label col-md-12">Select Tab:</label>
                                <select id="image_Tabellipse06740877683828901" class="select2 plotAjax tabTypes" name="sel" required>
                                  <option value="" disabled selected>--------------------</option>
                                </select>
                              </div>
                            </div>
                          </div>
                        </div>
                        <!-- Image END -->

                        <!-- CVfloatO-AXIS -->
                        <div id="CVfloatO_AXISellipse06740877683828901" style="display:none">
                          <!--Pie chart,Donut Chart,Treemap-->
                          <div class=" form-row">
                            <div class="col-12" id="XYlabelellipse06740877683828901">
                              <div class="form-group">
                                <label class="acies_label col-md-12">Select Category:</label>
                                <select id="select_categoryellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                  required>
                                  <option value="" disabled selected>--------------------</option>
                                </select>
                              </div>
                            </div>
                            <div class="col-12" id="YHbarlabelellipse06740877683828901">
                              <div class="form-group">
                                <label class="acies_label col-md-12">Select Value:</label>
                                <select id="select_valueellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                  required>
                                  <option value="" disabled selected>--------------------</option>
                                </select>
                              </div>
                            </div>
                            <div class="col-12" id="Ybarlabelellipse06740877683828901">
                              <div class="form-group">
                                <label class="acies_label col-md-12">Operations:</label>
                                <select id="select_optionsellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                  required>
                                  <option value="" disabled selected>--------------------</option>
                                </select>
                              </div>
                            </div>
                            <div class="col-12" id="Ybarlabelpiechartellipse06740877683828901">
                              <div class="form-group">
                                <label class="acies_label col-md-12">Select Filters:</label>
                                <select id="selectfilter5ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                  required multiple>
                                </select>
                              </div>
                            </div>
                            <div class="col-12" id="CVOPTabellipse06740877683828901">
                              <div class="form-group">
                                <label class="acies_label col-md-12">Select Tab:</label>
                                <select id="selectCVOPTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                  <option value="" disabled selected>--------------------</option>
                                </select>
                              </div>
                            </div>
                          </div>
                        </div>
                        <!-- CVfloatO-AXIS END -->
                        <!-- Aggregation card  min max -->
                        <div id="aggcard_ellipse06740877683828901" style="display:none">
                              <!--Aggregation(max,min)-->
                              <div class=" form-row">

                                <div class="col-12" id="  Aggbarlabel_min_maxellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Value:</label>
                                    <select id="select_agg_valellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                      required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                                <div id="div_id_header" class="custom-control custom-checkbox" style="padding-bottom:1em;padding-left:2.5em;">
                                    <input type="checkbox" id="agg_headerellipse06740877683828901" class="checkboxinput custom-control-input">
                                    <label for="agg_headerellipse06740877683828901" class="custom-control-label">Title</label>
                                </div>
                                <input type="text" placeholder="Title" class="textInput textinput form-control" id="agg_header_valueellipse06740877683828901" style="display:none;margin-left:0.5em;margin-bottom:1em;">
                                <div class="col-12" id="Agglabel_valellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Filters:</label>
                                    <select id="selectfilter21ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                      required multiple>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="AggIconellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Choose icon image:</label>
                                    <select class="select2 plotAjax form-control" name="sel" id="selectAggIconellipse06740877683828901">
                                    <option value="" disabled selected>--------------------</option>
                                    <option value="/static/images/Base_theme/barchart.png" selected>Bar Chart</option>
                                    <option value="/static/images/Base_theme/piechart.png">Pie Chart</option>
                                    <option value="/static/images/Base_theme/linechart.png">Line Chart</option>
                                    <option value="/static/images/Base_theme/histogram.png">Histogram</option>
                                    <option value="/static/images/Base_theme/doughnutchart.png">Doughnut Chart</option>
                                    <option value="/static/images/Base_theme/scatterplot.png">Scatter Plot</option>
                                    <option value="/static/images/Base_theme/radarplot.png">Radar Plot</option>
                                    <option value="/static/images/Base_theme/ganttchart.png">Gantt Chart Plot</option>
                                    <option value="/static/images/Base_theme/flowchart.png">Flow Chart</option>
                                    <option value="/static/images/Base_theme/combochart.png">Combo Chart</option>
                                    <option value="/static/images/Base_theme/hierarchy.png">Hierarchy</option>
                                    <option value="/static/images/Base_theme/normaldistribution.png">Normal Distribution</option>
                                    <option value="/static/images/Base_theme/sum.png">Sum</option>
                                    <option value="/static/images/Base_theme/average.png">Average</option>
                                    <option value="/static/images/Base_theme/counter.png">Counter</option>
                                    <option value="/static/images/Base_theme/alphabeticalsorting.png">Alphabetical Sorting</option>
                                    <option value="/static/images/Base_theme/reversealphabeticalsorting.png">Reverse Alphabetical Sorting</option>
                                    <option value="/static/images/Base_theme/numericalsorting.png">Numerical Sorting</option>
                                    <option value="/static/images/Base_theme/reversednumericalsorting.png">Reverse Numerical Sorting</option>
                                    <option value="/static/images/Base_theme/increasing.png">Increasing</option>
                                    <option value="/static/images/Base_theme/decreasing.png">Decreasing</option>
                                    <option value="/static/images/Base_theme/updownarrow.png">Up and Down Arrow</option>
                                    <option value="/static/images/Base_theme/venndiagram.png">Venn Diagram</option>
                                    <option value="/static/images/Base_theme/schedule.png">Schedule</option>
                                    <option value="/static/images/Base_theme/unavailable.png">Unavailable</option>
                                    <option value="/static/images/Base_theme/clock.png">Waitng</option>
                                    <option value="/static/images/Base_theme/approved_2.png">Approved</option>
                                    <option value="/static/images/Base_theme/disapproved.png">Disapproved</option>
                                    <option value="/static/images/Base_theme/expired.png">Expired</option>
                                    <option value="/static/images/Base_theme/highpriority.png">High Priority</option>
                                    <option value="/static/images/Base_theme/notification.png">Notification</option>
                                    <option value="/static/images/Base_theme/idea.png">Idea</option>
                                    <option value="/static/images/Base_theme/filter.png">Filter</option>
                                    <option value="/static/images/Base_theme/privacy.png">Privacy</option>
                                    <option value="/static/images/Base_theme/questionmark.png">Question Mark</option>
                                    <option value="/static/images/Base_theme/conflict.png">Conflict</option>
                                    <option value="/static/images/Base_theme/feedback.png">Feedback</option>
                                    <option value="/static/images/Base_theme/settings.png">Setting</option>
                                    <option value="/static/images/Base_theme/menu.png">Menu</option>
                                    <option value="/static/images/Base_theme/bookmark.png">Bookmark</option>
                                    <option value="/static/images/Base_theme/synchronize.png">Synchronize</option>
                                    <option value="/static/images/Base_theme/share.png">Share</option>
                                    <option value="/static/images/Base_theme/search.png">Search</option>
                                    <option value="/static/images/Base_theme/users.png">Users</option>
                                    <option value="/static/images/Base_theme/process.png">Process Flow</option>
                                    <option value="/static/images/Base_theme/slider.png">Slider</option>
                                    <option value="/static/images/Base_theme/document.png">Document</option>
                                    <option value="/static/images/Base_theme/file.png">File</option>
                                    <option value="/static/images/Base_theme/folder.png">Folder</option>
                                    <option value="/static/images/Base_theme/broadcasting.png">Broadcasting</option>
                                    <option value="/static/images/Base_theme/blockchain.png">Blockchain</option>
                                    <option value="/static/images/Base_theme/datasheet.png">Datasheet</option>

                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="AggTab_ellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Tab:</label>
                                    <select id="selectAggTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- Aggregation card min max  end -->
                         <!-- Aggregation card  top bottom -->
                        <div id="aggcard_nellipse06740877683828901" style="display:none">
                              <!--Aggregation(top,bottom)-->
                              <div class=" form-row">
                                <div class="col-12" id="  Aggbarlabel_top_bottom_valueellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select N:</label>
                                    <input id="computed_numberellipse06740877683828901" type="number" value="0" min="0" style="width:19em;height:2.2em;">
                                  </div>
                                </div>
                                <div class="col-12" id="  Aggbarlabel_top_bottomellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Value:</label>
                                    <select id="selectval_nellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                      required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                                <div id="div_id_header" class="custom-control custom-checkbox" style="padding-bottom:1em;padding-left:2.5em;">
                                    <input type="checkbox" id="agg_header_sumellipse06740877683828901" class="checkboxinput custom-control-input">
                                    <label for="agg_header_sumellipse06740877683828901" class="custom-control-label">Title</label>
                                </div>
                                <br>
                                <input type="text" placeholder="Title" class="textInput textinput form-control" id="agg_header_value_sumellipse06740877683828901" style="display:none;margin-left:0.5em;margin-bottom:1em;">
                                <div class="col-12" id="  Aggbarlabel_operationellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Operation:</label>
                                    <select id="selectop_nellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                      required>
                                      <option value="" disabled selected>--------------------</option>
                                      <option value="Sum">Sum</option>
                                      <option value="Maximum">Maximum</option>
                                      <option value="Minimum">Minimum</option>
                                      <option value="Count">Count</option>
                                      <option value="Count Distinct">Count Distinct</option>
                                      <option value="Average">Average</option>
                                      <option value="Median">Median</option>
                                      <option value="Variance">Variance</option>
                                      <option value="Skewness">Skewness</option>
                                      <option value="Kurtosis">Kurtosis</option>
                                      <option value="Standard Deviation">Standard Deviation</option>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" style="padding-bottom:1em;" id="Aggbarlabel_distinctellipse06740877683828901">
                                 <div id="div_id_active" class="custom-control custom-checkbox">
                                    <input type="checkbox" id="agg_distinctellipse06740877683828901" class="checkboxinput custom-control-input">
                                    <label for="agg_distinctellipse06740877683828901" class="custom-control-label">Distinct</label>
                                  </div>
                                </div>
                                <div class="col-12" id="Agglabel_nellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Filters:</label>
                                    <select id="selectfilter22ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                      required multiple>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="AggIcon_nellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Choose icon image:</label>
                                    <select class="select2 plotAjax form-control" name="sel" id="selectAggIcon_nellipse06740877683828901" style="font-size:1.1rem">
                                    <option value="" disabled selected>--------------------</option>
                                    <option value="/static/images/Base_theme/barchart.png" selected>Bar Chart</option>
                                    <option value="/static/images/Base_theme/piechart.png">Pie Chart</option>
                                    <option value="/static/images/Base_theme/linechart.png">Line Chart</option>
                                    <option value="/static/images/Base_theme/histogram.png">Histogram</option>
                                    <option value="/static/images/Base_theme/doughnutchart.png">Doughnut Chart</option>
                                    <option value="/static/images/Base_theme/scatterplot.png">Scatter Plot</option>
                                    <option value="/static/images/Base_theme/radarplot.png">Radar Plot</option>
                                    <option value="/static/images/Base_theme/ganttchart.png">Gantt Chart Plot</option>
                                    <option value="/static/images/Base_theme/flowchart.png">Flow Chart</option>
                                    <option value="/static/images/Base_theme/combochart.png">Combo Chart</option>
                                    <option value="/static/images/Base_theme/hierarchy.png">Hierarchy</option>
                                    <option value="/static/images/Base_theme/normaldistribution.png">Normal Distribution</option>
                                    <option value="/static/images/Base_theme/sum.png">Sum</option>
                                    <option value="/static/images/Base_theme/average.png">Average</option>
                                    <option value="/static/images/Base_theme/counter.png">Counter</option>
                                    <option value="/static/images/Base_theme/alphabeticalsorting.png">Alphabetical Sorting</option>
                                    <option value="/static/images/Base_theme/reversealphabeticalsorting.png">Reverse Alphabetical Sorting</option>
                                    <option value="/static/images/Base_theme/numericalsorting.png">Numerical Sorting</option>
                                    <option value="/static/images/Base_theme/reversednumericalsorting.png">Reverse Numerical Sorting</option>
                                    <option value="/static/images/Base_theme/increasing.png">Increasing</option>
                                    <option value="/static/images/Base_theme/decreasing.png">Decreasing</option>
                                    <option value="/static/images/Base_theme/updownarrow.png">Up and Down Arrow</option>
                                    <option value="/static/images/Base_theme/venndiagram.png">Venn Diagram</option>
                                    <option value="/static/images/Base_theme/schedule.png">Schedule</option>
                                    <option value="/static/images/Base_theme/unavailable.png">Unavailable</option>
                                    <option value="/static/images/Base_theme/clock.png">Waitng</option>
                                    <option value="/static/images/Base_theme/approved_2.png">Approved</option>
                                    <option value="/static/images/Base_theme/disapproved.png">Disapproved</option>
                                    <option value="/static/images/Base_theme/expired.png">Expired</option>
                                    <option value="/static/images/Base_theme/highpriority.png">High Priority</option>
                                    <option value="/static/images/Base_theme/notification.png">Notification</option>
                                    <option value="/static/images/Base_theme/idea.png">Idea</option>
                                    <option value="/static/images/Base_theme/filter.png">Filter</option>
                                    <option value="/static/images/Base_theme/privacy.png">Privacy</option>
                                    <option value="/static/images/Base_theme/questionmark.png">Question Mark</option>
                                    <option value="/static/images/Base_theme/conflict.png">Conflict</option>
                                    <option value="/static/images/Base_theme/feedback.png">Feedback</option>
                                    <option value="/static/images/Base_theme/settings.png">Setting</option>
                                    <option value="/static/images/Base_theme/menu.png">Menu</option>
                                    <option value="/static/images/Base_theme/bookmark.png">Bookmark</option>
                                    <option value="/static/images/Base_theme/synchronize.png">Synchronize</option>
                                    <option value="/static/images/Base_theme/share.png">Share</option>
                                    <option value="/static/images/Base_theme/search.png">Search</option>
                                    <option value="/static/images/Base_theme/users.png">Users</option>
                                    <option value="/static/images/Base_theme/process.png">Process Flow</option>
                                    <option value="/static/images/Base_theme/slider.png">Slider</option>
                                    <option value="/static/images/Base_theme/document.png">Document</option>
                                    <option value="/static/images/Base_theme/file.png">File</option>
                                    <option value="/static/images/Base_theme/folder.png">Folder</option>
                                    <option value="/static/images/Base_theme/broadcasting.png">Broadcasting</option>
                                    <option value="/static/images/Base_theme/blockchain.png">Blockchain</option>
                                    <option value="/static/images/Base_theme/datasheet.png">Datasheet</option>

                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="AggTab_nellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Tab:</label>
                                    <select id="selectAggTabnellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- Aggregation card top bottom  end -->
                        <!-- Aggregation card count count distinct -->
                        <div id="agg_card_AXISellipse06740877683828901" style="display:none">
                              <!--Aggregation(Sum,max,min,average,count,count distinct,skewness,kurtosis)-->
                              <div class=" form-row">

                                <div class="col-12" id="  Aggbarlabelellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Value:</label>
                                    <select id="select_allvalellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                      required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                                <div id="div_id_header" class="custom-control custom-checkbox" style="padding-bottom:1em;padding-left:2.5em;">
                                    <input type="checkbox" id="agg_header_countellipse06740877683828901" class="checkboxinput custom-control-input">
                                    <label for="agg_header_countellipse06740877683828901" class="custom-control-label">Title</label>
                                </div>
                                <br>
                                <input type="text" placeholder="Title" class="textInput textinput form-control" id="agg_header_value_countellipse06740877683828901" style="display:none;margin-left:0.5em;margin-bottom:1em;">
                                <div class="col-12" id="Agglabelellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Filters:</label>
                                    <select id="selectfilter20ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                      required multiple>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="AggIcon_axisellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Choose icon image:</label>
                                    <select class="select2 plotAjax form-control" name="sel"id="selectAggIcon_axisellipse06740877683828901" style="font-size:1.1rem">
                                    <option value="" disabled selected>--------------------</option>
                                    <option value="/static/images/Base_theme/barchart.png" selected>Bar Chart</option>
                                    <option value="/static/images/Base_theme/piechart.png">Pie Chart</option>
                                    <option value="/static/images/Base_theme/linechart.png">Line Chart</option>
                                    <option value="/static/images/Base_theme/histogram.png">Histogram</option>
                                    <option value="/static/images/Base_theme/doughnutchart.png">Doughnut Chart</option>
                                    <option value="/static/images/Base_theme/scatterplot.png">Scatter Plot</option>
                                    <option value="/static/images/Base_theme/radarplot.png">Radar Plot</option>
                                    <option value="/static/images/Base_theme/ganttchart.png">Gantt Chart Plot</option>
                                    <option value="/static/images/Base_theme/flowchart.png">Flow Chart</option>
                                    <option value="/static/images/Base_theme/combochart.png">Combo Chart</option>
                                    <option value="/static/images/Base_theme/hierarchy.png">Hierarchy</option>
                                    <option value="/static/images/Base_theme/normaldistribution.png">Normal Distribution</option>
                                    <option value="/static/images/Base_theme/sum.png">Sum</option>
                                    <option value="/static/images/Base_theme/average.png">Average</option>
                                    <option value="/static/images/Base_theme/counter.png">Counter</option>
                                    <option value="/static/images/Base_theme/alphabeticalsorting.png">Alphabetical Sorting</option>
                                    <option value="/static/images/Base_theme/reversealphabeticalsorting.png">Reverse Alphabetical Sorting</option>
                                    <option value="/static/images/Base_theme/numericalsorting.png">Numerical Sorting</option>
                                    <option value="/static/images/Base_theme/reversednumericalsorting.png">Reverse Numerical Sorting</option>
                                    <option value="/static/images/Base_theme/increasing.png">Increasing</option>
                                    <option value="/static/images/Base_theme/decreasing.png">Decreasing</option>
                                    <option value="/static/images/Base_theme/updownarrow.png">Up and Down Arrow</option>
                                    <option value="/static/images/Base_theme/venndiagram.png">Venn Diagram</option>
                                    <option value="/static/images/Base_theme/schedule.png">Schedule</option>
                                    <option value="/static/images/Base_theme/unavailable.png">Unavailable</option>
                                    <option value="/static/images/Base_theme/clock.png">Waitng</option>
                                    <option value="/static/images/Base_theme/approved_2.png">Approved</option>
                                    <option value="/static/images/Base_theme/disapproved.png">Disapproved</option>
                                    <option value="/static/images/Base_theme/expired.png">Expired</option>
                                    <option value="/static/images/Base_theme/highpriority.png">High Priority</option>
                                    <option value="/static/images/Base_theme/notification.png">Notification</option>
                                    <option value="/static/images/Base_theme/idea.png">Idea</option>
                                    <option value="/static/images/Base_theme/filter.png">Filter</option>
                                    <option value="/static/images/Base_theme/privacy.png">Privacy</option>
                                    <option value="/static/images/Base_theme/questionmark.png">Question Mark</option>
                                    <option value="/static/images/Base_theme/conflict.png">Conflict</option>
                                    <option value="/static/images/Base_theme/feedback.png">Feedback</option>
                                    <option value="/static/images/Base_theme/settings.png">Setting</option>
                                    <option value="/static/images/Base_theme/menu.png">Menu</option>
                                    <option value="/static/images/Base_theme/bookmark.png">Bookmark</option>
                                    <option value="/static/images/Base_theme/synchronize.png">Synchronize</option>
                                    <option value="/static/images/Base_theme/share.png">Share</option>
                                    <option value="/static/images/Base_theme/search.png">Search</option>
                                    <option value="/static/images/Base_theme/users.png">Users</option>
                                    <option value="/static/images/Base_theme/process.png">Process Flow</option>
                                    <option value="/static/images/Base_theme/slider.png">Slider</option>
                                    <option value="/static/images/Base_theme/document.png">Document</option>
                                    <option value="/static/images/Base_theme/file.png">File</option>
                                    <option value="/static/images/Base_theme/folder.png">Folder</option>
                                    <option value="/static/images/Base_theme/broadcasting.png">Broadcasting</option>
                                    <option value="/static/images/Base_theme/blockchain.png">Blockchain</option>
                                    <option value="/static/images/Base_theme/datasheet.png">Datasheet</option>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="CSV_AggTabellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Tab:</label>
                                    <select id="selectAggCSVTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- Aggregation card count count distinct end -->
                            <!-- CSVfloat-AXIS -->
                            <div id="CSVfloat_AXISellipse06740877683828901" style="display:none">
                              <!--Aggregation(Sum,max,min,average,skewness,kurtosis)-->
                              <div class=" form-row">

                                <div class="col-12" id="Ybarlabelellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Value:</label>
                                    <select id="selectvalellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                      required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                                <div id="div_id_header" class="custom-control custom-checkbox" style="padding-bottom:1em;padding-left:2.5em;">
                                    <input type="checkbox" id="agg_header_maxellipse06740877683828901" class="checkboxinput custom-control-input">
                                    <label for="agg_header_maxellipse06740877683828901" class="custom-control-label">Title</label>
                                </div>
                                <br>
                                <input type="text" placeholder="Title" class="textInput textinput form-control" id="agg_header_value_maxellipse06740877683828901" style="display:none;margin-left:0.5em;margin-bottom:1em">
                                <div class="col-12" id="Agglabelellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Filters:</label>
                                    <select id="selectfilter16ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                      required multiple>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="AggIcon_floatellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Choose icon image:</label>
                                    <select class="select2 plotAjax form-control" name="sel" id="selectAggIcon_floatellipse06740877683828901" style="font-size:1.1rem">
                                    <option value="" disabled selected>--------------------</option>
                                    <option value="/static/images/Base_theme/barchart.png" selected>Bar Chart</option>
                                    <option value="/static/images/Base_theme/piechart.png">Pie Chart</option>
                                    <option value="/static/images/Base_theme/linechart.png">Line Chart</option>
                                    <option value="/static/images/Base_theme/histogram.png">Histogram</option>
                                    <option value="/static/images/Base_theme/doughnutchart.png">Doughnut Chart</option>
                                    <option value="/static/images/Base_theme/scatterplot.png">Scatter Plot</option>
                                    <option value="/static/images/Base_theme/radarplot.png">Radar Plot</option>
                                    <option value="/static/images/Base_theme/ganttchart.png">Gantt Chart Plot</option>
                                    <option value="/static/images/Base_theme/flowchart.png">Flow Chart</option>
                                    <option value="/static/images/Base_theme/combochart.png">Combo Chart</option>
                                    <option value="/static/images/Base_theme/hierarchy.png">Hierarchy</option>
                                    <option value="/static/images/Base_theme/normaldistribution.png">Normal Distribution</option>
                                    <option value="/static/images/Base_theme/sum.png">Sum</option>
                                    <option value="/static/images/Base_theme/average.png">Average</option>
                                    <option value="/static/images/Base_theme/counter.png">Counter</option>
                                    <option value="/static/images/Base_theme/alphabeticalsorting.png">Alphabetical Sorting</option>
                                    <option value="/static/images/Base_theme/reversealphabeticalsorting.png">Reverse Alphabetical Sorting</option>
                                    <option value="/static/images/Base_theme/numericalsorting.png">Numerical Sorting</option>
                                    <option value="/static/images/Base_theme/reversednumericalsorting.png">Reverse Numerical Sorting</option>
                                    <option value="/static/images/Base_theme/increasing.png">Increasing</option>
                                    <option value="/static/images/Base_theme/decreasing.png">Decreasing</option>
                                    <option value="/static/images/Base_theme/updownarrow.png">Up and Down Arrow</option>
                                    <option value="/static/images/Base_theme/venndiagram.png">Venn Diagram</option>
                                    <option value="/static/images/Base_theme/schedule.png">Schedule</option>
                                    <option value="/static/images/Base_theme/unavailable.png">Unavailable</option>
                                    <option value="/static/images/Base_theme/clock.png">Waitng</option>
                                    <option value="/static/images/Base_theme/approved_2.png">Approved</option>
                                    <option value="/static/images/Base_theme/disapproved.png">Disapproved</option>
                                    <option value="/static/images/Base_theme/expired.png">Expired</option>
                                    <option value="/static/images/Base_theme/highpriority.png">High Priority</option>
                                    <option value="/static/images/Base_theme/notification.png">Notification</option>
                                    <option value="/static/images/Base_theme/idea.png">Idea</option>
                                    <option value="/static/images/Base_theme/filter.png">Filter</option>
                                    <option value="/static/images/Base_theme/privacy.png">Privacy</option>
                                    <option value="/static/images/Base_theme/questionmark.png">Question Mark</option>
                                    <option value="/static/images/Base_theme/conflict.png">Conflict</option>
                                    <option value="/static/images/Base_theme/feedback.png">Feedback</option>
                                    <option value="/static/images/Base_theme/settings.png">Setting</option>
                                    <option value="/static/images/Base_theme/menu.png">Menu</option>
                                    <option value="/static/images/Base_theme/bookmark.png">Bookmark</option>
                                    <option value="/static/images/Base_theme/synchronize.png">Synchronize</option>
                                    <option value="/static/images/Base_theme/share.png">Share</option>
                                    <option value="/static/images/Base_theme/search.png">Search</option>
                                    <option value="/static/images/Base_theme/users.png">Users</option>
                                    <option value="/static/images/Base_theme/process.png">Process Flow</option>
                                    <option value="/static/images/Base_theme/slider.png">Slider</option>
                                    <option value="/static/images/Base_theme/document.png">Document</option>
                                    <option value="/static/images/Base_theme/file.png">File</option>
                                    <option value="/static/images/Base_theme/folder.png">Folder</option>
                                    <option value="/static/images/Base_theme/broadcasting.png">Broadcasting</option>
                                    <option value="/static/images/Base_theme/blockchain.png">Blockchain</option>
                                    <option value="/static/images/Base_theme/datasheet.png">Datasheet</option>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="CSVTabellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Tab:</label>
                                    <select id="selectCSVTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- CSVfloat-AXIS END -->
                            <!-- CSVfloatO-AXIS -->
                            <div id="CSVfloatO_AXISellipse06740877683828901" style="display:none">
                              <!--Sunburst Chart,Angular Guage,Bullet Guage-->
                              <div class=" form-row">
                                <div class="col-12" id="XYlabelellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Category:</label>
                                    <select id="select_catellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                      required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="YHbarlabelellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Sub-Category:</label>
                                    <select id="select_subcatellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                      required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="Ybarlabelellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Value:</label>
                                    <select id="select_valellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                      required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="Ybarlabelellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Operation:</label>
                                    <select id="select_opellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                      required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="Ybarlabelsunburstellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Filters:</label>
                                    <select id="selectfilter4ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                      required multiple>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-6" id="threshold_ellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Threshold Value:</label>
                                    <input class="plotAjax form-control" type="number" id="thresholdellipse06740877683828901">
                                  </div>
                                </div>
                                <div class="col-6" id="threshold_colorellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Threshold Color:</label>
                                    <input class="plotAjax form-control" type="color" id="thresholdColorellipse06740877683828901">
                                  </div>
                                </div>
                                <div class="col-12" id="delta_ellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Delta:</label>
                                    <input class="plotAjax form-control" type="number" id="deltaellipse06740877683828901">
                                  </div>
                                </div>
                                <div class="col-6" id="threshold_colorellipse06740877683828901">
                                  <button class="btn btn-primary btn-xs rounded px-2" id="conditionellipse06740877683828901" data-modal_id="conditionModalellipse06740877683828901" onclick="gaugeModal.call(this)">Conditional formatting</button>
                                </div>
                                <div class="col-6" id="threshold_colorellipse06740877683828901">
                                  <button class="btn btn-primary btn-xs rounded px-2" id="conditionRangeellipse06740877683828901" data-modal_id="conditionModalRangeellipse06740877683828901" onclick="gaugeModalRange.call(this)">Range based formatting</button>
                                </div>
                                <div class="col-12" id="CSVOPTabellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Tab:</label>
                                    <select id="selectCSVOPTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- CLfloatO-AXIS END -->
                            <div id="CLfloatO_AXISellipse06740877683828901" style="display:none">
                              <!--Nested Table-->
                              <div class=" form-row">
                                <div class="card col-12">
                                <div class="col-12" id="XYlabelellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Level 1:</label>
                                    <select id="select_categories_level1ellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                      required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="XYlabelellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Level 2:</label>
                                    <select id="select_categories_level2ellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                      required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="XYlabelellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Level 3:</label>
                                    <select id="select_categories_level3ellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                      required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="XYlabelellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Level 4:</label>
                                    <select id="select_categories_level4ellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                      required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="XYlabelellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Level 5:</label>
                                    <select id="select_categories_level5ellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                      required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                              </div>
                                <div class="col-12" id="YHbarlabelellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Columns:</label>
                                    <select id="select_columnsellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                      required multiple>

                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="OPerationlabelellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Operation:</label>
                                    <select id="select_table_operationellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                      required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="nested_tableellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Filters:</label>
                                    <select id="selectfilter15ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                      required multiple>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="tableellipse06740877683828901">
                                  <div class="form-group">
                                  <button class="btn btn-primary" id="nested_conditional_tableellipse06740877683828901" data-toggle="modal" data-target="#nestedconditionalModalellipse06740877683828901">Set Conditional-formatting</button>
                                  </div>
                                </div>
                                <div class="col-12" id="CVOPTabellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Tab:</label>
                                    <select id="selectCLOPTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- CLfloatO-AXIS END -->
                            <div id="Table_AXISellipse06740877683828901" style="display:none">
                              <!--Table-->
                            <div class=" form-row">
                                <div class="col-12" id="Table_labelellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Columns:</label>
                                    <select id="select_table_columnsellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                                      required multiple>

                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="tableellipse06740877683828901">
                                 <div class="custom-control custom-checkbox">
                                    <input type="checkbox" checked="checked" name="defaultValueColorConfig" id="fk_valueellipse06740877683828901" class="checkboxinput custom-control-input">
                                    <label for="fk_valueellipse06740877683828901" class="custom-control-label">
                                    Show ForeignKey Field as value
                                    </label>
                                </div>
                              </div><br><br>
                                <div class="col-12" id="tableellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Filters:</label>
                                    <select id="selectfilter24ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                                      required multiple>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-12" id="Table_Tabellipse06740877683828901">
                                  <div class="form-group">
                                    <label class="acies_label col-md-12">Select Tab:</label>
                                    <select id="table_Tabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                                      <option value="" disabled selected>--------------------</option>
                                    </select>
                                  </div>
                               </div>
                               <div class="col-12" id="tableellipse06740877683828901">
                                  <div class="form-group">
                                  <button class="btn btn-primary" id="conditional_tableellipse06740877683828901" data-toggle="modal" data-target="#conditionalModalellipse06740877683828901">Set Conditional-formatting</button>
                                  </div>
                                </div>
                            </div>
                            </div>
                            <!-- Table END -->
                            <!-- Bubble-AXIS -->
                  <div id="BubbleXYZ_AXISellipse06740877683828901" style="display:none">
                    <!--Bubble graph-->
                    <div class=" form-row">
                      <div class="col-12" id="BubbleXlabelellipse06740877683828901">
                        <div class="form-group">
                          <label class="acies_label col-md-12">Select X Axis:</label>
                          <select id="selectBubble_Xellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                            required>
                            <option value="" disabled selected>--------------------</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-12" id="selectBubble_Ylabelellipse06740877683828901">
                        <div class="form-group">
                          <label class="acies_label col-md-12">Select Y Axis:</label>
                          <select id="selectBubble_Yellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                            required>
                            <option value="" disabled selected>--------------------</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-12" id="selectBubble_Zlabelellipse06740877683828901">
                        <div class="form-group">
                          <label class="acies_label col-md-12">Select Z Axis:</label>
                          <select id="selectBubble_Zellipse06740877683828901" class="select2 plotAjax form-control" name="sel"
                            required>
                            <option value="" disabled selected>--------------------</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-12" id="Bubblelabelsellipse06740877683828901">
                        <div class="form-group">
                          <label class="acies_label col-md-12">Select Filters:</label>
                          <select id="selectfilter18ellipse06740877683828901" class="select2 plotAjax form-control filter_conditionellipse06740877683828901" name="sel"
                            required multiple>
                          </select>
                        </div>
                      </div>
                      <div class="col-12" id="XYTablabelellipse06740877683828901">
                        <div class="form-group">
                          <label class="acies_label col-md-12">Select Tab:</label>
                          <select id="selectBubbleXYTabellipse06740877683828901" class="select2 plotAjax form-control tabTypes" name="sel" required>
                            <option value="" disabled selected>--------------------</option>
                          </select>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- BubbleMap ended -->
                              <div class="card filter_plot_card">
                                <div class="card-header filter_card_headerellipse06740877683828901">
                                  <a class="collapsed card-link" style="color:var(--primary-color);" data-toggle="collapse" href="#collapseTwo">
                                  Configure Filter
                                </a>
                                </div>
                                <div id="collapseTwo" class="collapse">
                                  <div class="card-body filter_card_bodyellipse06740877683828901">

                                  </div>
                                </div>
                              </div>

                            <div class="row buttonalign" id="plotlyButtonDivellipse06740877683828901" style="display:none">
                              <button id="plotlyButtonellipse06740877683828901" type="button" name="plotForm" value="f1"
                                class=" btn btn-primary" style="    height: 27px;
      width: 80px;
      border-radius: 5px;
      color: var(--primary-color);
      border-color: none;
      color: white;
      padding-left: 9px;
      padding-top: 2px;
    ">
                                <i class="fa fa-area-chart"></i>&nbsp;Plot
                              </button>
                            </div>
            </div>
            </div>
          </div>
        </div>


                </div>
              </div>    </div>

          </div>

        </div>
      </div>  <!-- end modal-->
          <!-- Conditional modal -->
          <div class="modal-dialog modal-lg modalgraphs modal-full-height modal-right" id="conditionModalellipse06740877683828901" role="document" style="display:none;float:right;  position: absolute;
          right: 0 ;top : 10px;z-index: 1050">
          <div class="modal-content" style="width:42rem">
          <div class="modal-header" style="background:#565a5e; color:white; text-align:center;padding-bottom:2%;padding-top:3%;">
          <span class="modal-title w-100" id="myModalLabel" style="font-size:1.2rem">Conditional Formatting</span>
          <button type="button" class="close" data-modal_id="conditionModalellipse06740877683828901" data-dismiss="modal" onclick="closeGaugeModal.call(this)" aria-label="Close">
          <span aria-hidden="true">&times;</span>
          </button>
          </div>
          <div class="modal-body conditional_data_body_edit"  style="max-height:26rem;">
              <i class="fa fa-plus-square fa-2x" data-toggle="tooltip" data-modal_id="conditionModalellipse06740877683828901" title="" onclick="addIndCondition.call(this)" style="margin-left:97%;width:100%;color:var(--primary-color);cursor: pointer;" data-tooltip="Add condition"></i>
          </div>
          <div class="modal-footer">
              <button type="button" id="conditionModalellipse06740877683828901SaveButton" class="btn btn-primary btn-xs rounded px-2">Apply</button>
          </div>
          </div>
          </div>
          <div class="modal-dialog modal-lg modalgraphs modal-full-height modal-right" id="conditionModalRangeellipse06740877683828901" role="document" style="display:none;float:right;  position: absolute;
          right: 0 ;top : 10px;z-index: 1050">
          <div class="modal-content" style="width:42rem">
          <div class="modal-header" style="background:#565a5e; color:white; text-align:center;padding-bottom:2%;padding-top:3%;">
          <span class="modal-title w-100" id="myModalLabel" style="font-size:1.2rem">Range Based Formatting</span>
          <button type="button" class="close" data-modal_id="conditionModalRangeellipse06740877683828901" data-dismiss="modal" onclick="closeGaugeModal.call(this)" aria-label="Close">
          <span aria-hidden="true">&times;</span>
          </button>
          </div>
          <div class="modal-body conditional_data_body_edit"  style="max-height:26rem;">
              <i class="fa fa-plus-square fa-2x" data-toggle="tooltip" data-modal_id="conditionModalRangeellipse06740877683828901" title="" onclick="addIndConditionRange.call(this)" style="margin-left:97%;width:100%;color:var(--primary-color);cursor: pointer;" data-tooltip="Add condition"></i>
          </div>
          <div class="modal-footer">
              <button type="button" id="conditionModalRangeellipse06740877683828901SaveButton" class="btn btn-primary btn-xs rounded px-2">Apply</button>
          </div>
          </div>
          </div>
          <div id="conditionalModalellipse06740877683828901" class="modal fade" role="dialog">
                  <div class="modal-dialog modal-lg">

                    <!-- Modal content-->
                    <div class="modal-content">
                      <div class="modal-header" style="background:#565a5e; color:white; text-align:center;padding-bottom:2%;padding-top:3%;">
                        <h6 class="modal-title" style="margin-left:auto;">Configure Conditional Formatting</h6>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                      </div>
                      <div class="modal-body conditional_data_body" style="max-height: 30em;overflow-y: scroll;">
                        <div class="input_columns_value_dict" style="display:none"></div>
                        <div class="table_type" style="display:none"></div>
                        <div class="conditional_body" style="width: 100%; display:flex">
                          <div class="col-3">
                            <p style="font-weight: bold;">Select column:</p>
                            <select class="select2 form-control conditional_column_name" id="conditional_column_nameellipse06740877683828901">
                              <option value="" selected disabled>------------</option>
                            </select>
                          </div>
                          <div class="col-3">
                            <p style="font-weight: bold;">Select condition:</p>
                            <select class="select2 form-control conditional_condition">
                              <option value="" disabled selected>------------------</option>
                              <option value="Greater then">Greater than</option>
                              <option value="Smaller then">Smaller than</option>
                              <option value="Equal to">Equal to</option>
                              <option value="In">In</option>
                            </select>
                          </div>
                          <div class="col-3 conditional_input_value">
                            <p style="font-weight: bold;">Select value:</p>
                            <div class="conditional_format_value_input">
                            <select class="select2 form-control" required>
                            </select>
                            </div>
                          </div>
                          <div class="col-2">
                            <p style="font-weight: bold;">Select field color:</p>
                            <input type="color" class="form-control conditional_color_input" data-css="background-color" value="#ffffff" >
                          </div>
                          <div class="col-1">
                            <i class="fas fa-plus add_conditional_parameter" data-toggle="tooltip" title="Add condition" style="cursor:pointer;padding-top:3.4em;"></i> </i>
                          </div>

                        </div>

                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-primary btn-xs rounded px-2" data-dismiss="modal">Close</button>
                      </div>
                    </div>

                  </div>
                </div>

                 <div id="nestedconditionalModalellipse06740877683828901" class="modal fade" role="dialog">
                  <div class="modal-dialog modal-lg">

                    <!-- Modal content-->
                    <div class="modal-content">
                      <div class="modal-header" style="background:#565a5e; color:white; text-align:center;padding-bottom:2%;padding-top:3%;">
                        <h6 class="modal-title" style="margin-left:auto;">Configure Conditional Formatting</h6>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                      </div>
                      <div class="modal-body nested_conditional_data_body" style="max-height: 30em;overflow-y: scroll;">
                        <div class="nested_input_columns_value_dict" style="display:none"></div>
                        <div class="nested_table_type" style="display:none"></div>
                        <div class="nested_conditional_body" style="width: 100%; display:flex">
                        <div class="col-2">
                            <p style="font-weight: bold;">Select Type:</p>
                            <select class="select2 form-control nested_column">
                              <option value="Category">Category</option>
                              <option value="Value">Value</option>
                            </select>
                          </div>
                          <div class="col-3">
                            <p style="font-weight: bold;">Select column:</p>
                            <select class="select2 form-control nested_conditional_column_name" id="nested_conditional_column_nameellipse06740877683828901">
                              <option value="" selected disabled>------------</option>
                            </select>
                          </div>
                          <div class="col-2">
                            <p style="font-weight: bold;">Select condition:</p>
                            <select class="select2 form-control nested_conditional_condition">
                              <option value="" disabled selected>------------------</option>
                              <option value="Greater then">Greater than</option>
                              <option value="Smaller then">Smaller than</option>
                              <option value="Equal to">Equal to</option>
                              <option value="In">In</option>
                            </select>
                          </div>
                          <div class="col-2 nested_conditional_input_value">
                            <p style="font-weight: bold;">Select value:</p>
                            <div class="nested_conditional_format_value_input">
                            <select class="select2 form-control" required>
                            </select>
                            </div>
                          </div>
                          <div class="col-2">
                            <p style="font-weight: bold;">Select field color:</p>
                            <input type="color" class="form-control nested_conditional_color_input" data-css="background-color" value="#ffffff" >
                          </div>
                          <div class="col-1">
                            <i class="fas fa-plus nested_add_conditional_parameter" data-toggle="tooltip" title="Add condition" style="cursor:pointer;padding-top:3.4em;"></i> </i>
                          </div>

                        </div>

                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-primary btn-xs rounded px-2" data-dismiss="modal">Close</button>
                      </div>
                    </div>

                  </div>
                </div>





          <!-- Drill down modal -->
          <div class="modal fade" id="drilldownmodal" tabindex="-1" role="dialog" aria-labelledby="drilldownmodalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header" style='background:#565a5e; color:white;'>
                  <h5 class="modal-title" id="reportModalLabel" style="margin-left: 40%;">Drill down</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body" style="overflow-y: scroll ;max-height: 35rem;">
                  <ul class="nav nav-tabs nav-justified md-tabs indigo" id="myTabJust" role="tablist">
                    <li class="nav-item active">
                        <a class="nav-link active show tip-container1 tip-container2" data-myAttr="tip-container1"
                            data-trigger="manual" data-content="Configuration for Collateral Data at a Counterparty Level"
                            data-placement="top" id="table-tab-just" data-toggle="tab" href="#table-just" role="tab"
                            aria-controls="table-just" aria-selected="true">Drill-down Table</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link tip-container2 tip-container1" data-myAttr="tip-container2" data-trigger="manual"
                            data-content="Configuration for Collateral Data at an Instrument Level" data-placement="top"
                            id="plot-tab-just" data-toggle="tab" href="#plot-just" role="tab" aria-controls="plot-just"
                            aria-selected="false">Drill-down Plot</a>
                    </li>

                </ul>
                <div class="tab-content card pt-2" id="myTabContentJust">
                    <div class="tab-pane fade show active" id="table-just" role="tabpanel" aria-labelledby="home-tab-just">
                    <div id="drilldowncontainer">
                    </div>
          </div>
              <div class="tab-pane fade " id="plot-just" role="tabpanel" aria-labelledby="home-tab-just">

                <div id="drilldownplot">
                  <div id="drildown_select_category"></div>
                  <div class="row" style="height:1rem;"></div>
                  <div id="drildown_plot"></div>
                </div>
            </div>
          </div>
          <button type="button" data-toggle="tooltip" title="Export Drill-down Table" class="btn btn-primary btn-xs mx-2 rounded px-2 export_drilldown"><i class="fa fa-download" style="padding-right:0.5em"></i>Export</button>
            </div>
              </div>
            </div>
          </div>
          </div>
        </div>
      </div>
    </div>
    </div>

    <script>
      </script>


            </div>
        <style>
            /* Dropdown Button */


            /* .modal-dialog {
                max-width: 1300px;
                margin: 0.75rem auto;
            } */

            .analysisDashboardmove {
                background-color: white;
            }

            .tabulator .tabulator-header .tabulator-col {
                background-color: var(--primary-color);
                color: white;
                text-align: center;

            }


            .dropbtn {
                background-color: white;
                color: black;
                padding: 1px;
                font-size: 30px;
                border: none;
            }

            .xaxislayer-above {
                /* cursor: pointer; */
                pointer-events: all;
            }

            .yaxislayer-above {
                /* cursor: pointer; */
                pointer-events: all;
            }

            /* The container <div> - needed to position the dropdown content */
            .dropdown {
                position: relative;
                display: inline-block;
            }

            /* Dropdown Content (Hidden by Default) */
            .dropdown-content {
                display: none;
                position: absolute;
                background-color: white;
                min-width: 110px;
                box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
                z-index: 1000;
            }

            .dropdown2-tab {
                position: relative;
                display: inline-block;
            }

            /* Dropdown Content (Hidden by Default) */
            .dropdown2-content-tab {
                display: none;
                position: absolute;
                background-color: white;
                min-width: 110px;
                box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
                z-index: 1000;
            }

            /* Links inside the dropdown */
            .dropdown-content div {
                color: black;
                padding: 2px 1px;
                text-decoration: none;
                display: block;
            }

            /* Change color of dropdown links on hover */
            .dropdown-content a:hover {
                background-color: #ddd;
            }

            /* Show the dropdown menu on hover */
            .dropdown:hover .dropdown-content {
                display: block;
            }

            .dropdown2-content-tab div {
                color: black;
                padding: 2px 1px;
                text-decoration: none;
                display: block;
            }

            /* Change color of dropdown links on hover */
            .dropdown2-content-tab a:hover {
                background-color: #ddd;
            }
            .analysisClass{
              margin-left: 7px;
              margin-right: 0px;
            }
            /* Give grid like background to chart parent container */
        </style>
        </section>
      <style>
        .buttonstyling{
          margin-bottom:10px;
        }
      </style>
     <script>

      document.onreadystatechange = function(){
        if(document.readyState.trim() === "complete" && !$("#mainSideNavBar").is(':hover')){
            setTimeout(function(){
              $('.main-sidebar').prop('style','pointer-events:auto')
              $('#toggleButton').prop('style','pointer-events:auto')
            },50)

          }
      }

      $("body").attr("class","sidebar-mini layout-fixed sidebar-collapse");

      var toggleB = document.getElementById('toggleButton');
      if (toggleB != null) {
        toggleB.addEventListener('click', expandCollapse)
      }
      function expandCollapse() {
        var img = document.getElementById('imageAciesLogo');
        var body = document.getElementsByTagName('BODY')
        var bodyClasses = body[0].className;
        if (bodyClasses == "sidebar-mini layout-fixed") {
          img.src = {% if dashboard_sidebar_icon  %} "/media/{{tenant}}/dashboard/{{dashboard_sidebar_icon}}" {%else%} "{% static 'images/Base_theme/A.png' %}" {% endif %}

        }
        if (bodyClasses == "sidebar-mini layout-fixed sidebar-collapse") {

          img.src = {% if dashboard_sidebar_icon  %} "/media/{{tenant}}/dashboard/{{dashboard_sidebar_icon}}" {%else%} "{% static 'images/Base_theme/A.png' %}" {% endif %}
        }

      }

      $(document).ready(function() {

        $('.main-sidebar').hover(function () {
          $('body').removeClass("sidebar-collapse");
          $('#imageAciesLogo').attr("src", {% if dashboard_sidebar_icon  %} "/media/{{tenant}}/dashboard/{{dashboard_sidebar_icon}}" {%else%} "{% static 'images/Base_theme/Acies Techworks_Transparent_White.png' %}" {% endif %})
          $(".collapse-left").css("margin-left","16px")

          $(".display1").css("display", "block");
          $(".dropdown-content1").css("display","none");
          $(".menu-open > .nav-treeview").css("display", "block");
          $(".outerAnchorTag").css("width", "100%");
          $(".fa-angle-left").css("display", "block");
          $(".right").addClass("fa-angle-left");

        },
          function () {
            $('body').addClass("sidebar-collapse");
            if ($('body').attr("class") == "sidebar-mini layout-fixed sidebar-collapse") {
              $('#imageAciesLogo').attr("src", {% if dashboard_sidebar_icon  %} "/media/{{tenant}}/dashboard/{{dashboard_sidebar_icon}}" {%else%} "{% static 'images/Base_theme/A.png' %}" {% endif %} )

              $(".outerAnchorTag").css("text-align", "center");
              $(".display1").css("display", "none");
              $(".dropdown-content1").css("display","none");
              $(".dropdown-content").css("display","none")
              $(".menu-open > .nav-treeview").css("display", "none");
              $(".right").removeClass("fa-angle-left")
              $(".collapse-left").css("margin-left","auto")
            }
            else {
              $('#imageAciesLogo').attr("src",{% if dashboard_sidebar_icon  %} "/media/{{tenant}}/dashboard/{{dashboard_sidebar_icon}}" {%else%} "{% static 'images/Base_theme/Acies Techworks_Transparent_White.png' %}" {% endif %})
            }
          })

          $('#toggleButton').click(function () {
            if ($('body').attr("class") == "sidebar-mini layout-fixed sidebar-collapse") {
              var media = window.matchMedia("(max-width: 991px)")
              if (media.matches){
                $("#toggleButton .fa-chevron-left").css("display","none");
                $("#toggleButton .fa-chevron-right").css("display","none");
              }
              else{
                $('#imageAciesLogo').attr("src",  {% if dashboard_sidebar_icon  %} "/media/{{tenant}}/dashboard/{{dashboard_sidebar_icon}}" {%else%} "{% static 'images/Base_theme/Acies Techworks_Transparent_White.png' %}" {% endif %})
                $("#toggleButton .fa-chevron-left").css("display","block");
                $("#toggleButton .fa-chevron-right").css("display","none");
                $(".brand-link").css("width","100%");

                $(".outerAnchorTag").css("width", "100%");
                $(".display1").css("display", "block");
                $(".dropdown-content1").css("display","none")
                $(".menu-open > .nav-treeview").css("display", "block");
                $(".right").addClass("fa-angle-left");
                $(".fa-angle-left").css("display", "block");
              }
            }
            else {
              var media = window.matchMedia("(max-width: 991px)")
              if (media.matches){
                $("#toggleButton .fa-chevron-left").css("display","none");
                $("#toggleButton .fa-chevron-right").css("display","none");
              }
              else{
                $('#imageAciesLogo').attr("src", {% if dashboard_sidebar_icon  %} "/media/{{tenant}}/dashboard/{{dashboard_sidebar_icon}}" {%else%} "{% static 'images/Base_theme/A.png' %}" {% endif %} )
                $("#toggleButton .fa-chevron-left").css("display","none");
                $("#toggleButton .fa-chevron-right").css("display","block");

                $(".outerAnchorTag").css("text-align", "center");
                $(".display1").css("display", "none");
                $(".dropdown-content1").css("display","none")
                $(".dropdown-content").css("display","none")
                $(".menu-open > .nav-treeview").css("display", "none");
                $(".right").removeClass("fa-angle-left")
              }
            }
          });
        });


  $(document).ready(function () {
    $(self).popover('hide');
    $('body').attr("class", "sidebar-mini layout-fixed sidebar-collapse");
    $('#imageAciesLogo').attr("src", {% if dashboard_sidebar_icon  %} "/media/{{tenant}}/dashboard/{{dashboard_sidebar_icon}}" {%else%} "{% static 'images/Base_theme/A.png' %}" {% endif %} )
      $(".outerAnchorTag").css("text-align", "center");
      $(".display1").css("display", "none");
      $(".dropdown-content1").css("display","none");
      $(".dropdown-content").css("display","none")

      //  $(".menu-open > .ui-sortable").css("display", "none");
      $(".menu-open > .nav-treeview").css("display", "none");
      $(".right").removeClass("fa-angle-left");

  })

  $("#sidebar-overlay").click(function(){
    $("body").attr("class","sidebar-mini layout-fixed sidebar-collapse");
  })
      $.ajax({
    url: `/users/${urlPath}/dynamicVal/`,
    data: {
        'operation': 'importDasboard',
        'shared': 'Myself'
      },
      type: "POST",
      dataType:"json",
      success:function(data){
          data = data["data"];
          let text_ = 'Myself';
          $(".dashboardList").find("div").eq(1).empty();
          for(let i in data){
              if(data[i]["dashboard_type"] == "Tabs"){
                $(".shared_to_me").append(`
                  <li class="nav-item">
                    <a class="nav-link outerAnchorTag" href='/users/dashboard/?app_code=${data[i]["app_code"]}&pr_code=${data[i]["subprocess_code"]}&type=Tabs&tab_id=${data[i]["tab_id"]}&share_type=${text_}&element_id=${data[i]["element_id"]}&name=${data[i]["tab_name"]}&dashboard_config_id=${data[i]['dashboard_config_id']}'>
                      <i class="fas fa-chart-bar static mainicon1" style="margin-left:1.2em;margin-right:0.5em;"></i>
                      <p class="fontclass textCollapsed" style="text-align:center; margin: auto;">${data[i]["tab_name"]}</p>
                    </a>
                  </li>
                `)
              }
              if(data[i]["dashboard_type"] == "Entire dashboard"){
                $(".shared_to_me").append(`
                  <li class="nav-item">
                    <a class="nav-link outerAnchorTag" href='/users/dashboard/?app_code=${data[i]["app_code"]}&pr_code=${data[i]["subprocess_code"]}&type=Entire_dashboard&tab_id=${data[i]["tab_id"]}&share_type=${text_}&element_id=${data[i]["element_id"]}&name=${data[i]["subprocess_name"]}&dashboard_config_id=${data[i]['dashboard_config_id']}'>
                      <i class="fas fa-chart-bar static mainicon1" style="margin-left:1.2em;margin-right:0.5em;"></i>
                      <p class="fontclass textCollapsed" style="text-align:center; margin: auto;">${data[i]["subprocess_name"]}</p>
                    </a>
                  </li>
                `)

              }
          }
        },
        error: function () {
        Swal.fire({icon: 'error',text: 'Error! Please try again.'});
      }
    })

    $.ajax({
    url: `/users/${urlPath}/dynamicVal/`,
    data: {
        'operation': 'importDasboard',
        'shared': 'Shared with me'
      },
      type: "POST",
      dataType:"json",
      success:function(data){
          data = data["data"];
          let text_ = 'Shared with me';
          $(".dashboardList").find("div").eq(1).empty();
          for(let i in data){
              if(data[i]["dashboard_type"] == "Tabs"){
                $(".shared_with_me").append(`
                  <li class="nav-item">
                    <a class="nav-link outerAnchorTag" href='/users/dashboard/?app_code=${data[i]["app_code"]}&pr_code=${data[i]["subprocess_code"]}&type=Tabs&tab_id=${data[i]["tab_id"]}&share_type=${text_}&element_id=${data[i]["element_id"]}&name=${data[i]["tab_name"]}&dashboard_config_id=${data[i]['dashboard_config_id']}'>
                      <i class="fas fa-chart-bar static mainicon1"></i>
                      <p class="fontclass collapse-left textCollapsed" style="text-align:center; margin: auto;">${data[i]["tab_name"]}</p>
                    </a>
                  </li>
                `)
              }
              if(data[i]["dashboard_type"] == "Entire dashboard"){
                $(".shared_with_me").append(`
                  <li class="nav-item">
                    <a class="nav-link outerAnchorTag" href='/users/dashboard/?app_code=${data[i]["app_code"]}&pr_code=${data[i]["subprocess_code"]}&type=Entire_dashboard&tab_id=${data[i]["tab_id"]}&share_type=${text_}&element_id=${data[i]["element_id"]}&name=${data[i]["subprocess_name"]}&dashboard_config_id=${data[i]['dashboard_config_id']}'>
                      <i class="fas fa-chart-bar static mainicon1"></i>
                      <p class="fontclass textCollapsed collapse-left " style="text-align:center; margin: auto;">${data[i]["subprocess_name"]}</p>
                    </a>
                  </li>
                `)

              }
          }
        },
        error: function () {
        Swal.fire({icon: 'error',text: 'Error! Please try again.'});
      }
    })

    $.ajax({
    url: `/users/${urlPath}/dynamicVal/`,
    data: {
        'operation': 'importDasboard',
        'shared': 'Shared by me'
      },
      type: "POST",
      dataType:"json",
      success:function(data){
          data = data["data"];
          let text_ = 'Shared by me';
          $(".dashboardList").find("div").eq(1).empty();
          for(let i in data){
              if(data[i]["dashboard_type"] == "Tabs"){
                $(".shared_by_me").append(`
                  <li class="nav-item">
                    <a class="nav-link outerAnchorTag" href='/users/dashboard/?app_code=${data[i]["app_code"]}&pr_code=${data[i]["subprocess_code"]}&type=Tabs&tab_id=${data[i]["tab_id"]}&share_type=${text_}&element_id=${data[i]["element_id"]}&name=${data[i]["tab_name"]}&dashboard_config_id=${data[i]['dashboard_config_id']}'>
                      <i class="fas fa-chart-bar static mainicon1"></i>
                      <p class="fontclass textCollapsed collapse-left " style="text-align:center; margin: auto;">${data[i]["tab_name"]}</p>
                    </a>
                  </li>
                `)
              }
              if(data[i]["dashboard_type"] == "Entire dashboard"){
                $(".shared_by_me").append(`
                  <li class="nav-item">
                    <a class="nav-link outerAnchorTag" href='/users/dashboard/?app_code=${data[i]["app_code"]}&pr_code=${data[i]["subprocess_code"]}&type=Entire_dashboard&tab_id=${data[i]["tab_id"]}&share_type=${text_}&element_id=${data[i]["element_id"]}&name=${data[i]["subprocess_name"]}&dashboard_config_id=${data[i]['dashboard_config_id']}'>
                      <i class="fas fa-chart-bar static mainicon1"></i>
                      <p class="fontclass textCollapsed collapse-left " style="text-align:center; margin: auto;">${data[i]["subprocess_name"]}</p>
                    </a>
                  </li>
                `)

              }
          }
        },
        error: function () {
        Swal.fire({icon: 'error',text: 'Error! Please try again.'});
      }
    })
        $("body").find("div").eq(0).removeAttr("app_code");
        $(".chartDivSection").removeAttr("app_code")
        const queryString = window.location.search;
        const urlParams1 = new URLSearchParams(queryString);
        var element_id = "ellipse06740877683828901";
        let s_type = urlParams1.get("share_type");
        var app_code = urlParams1.get("app_code");
        let d_type = urlParams1.get("type");
        if(d_type != "Tabs"){
          d_type = "Entire dashboard"
        }
        dic = {
          "app_code":urlParams1.get("app_code"),
          "pr_code": urlParams1.get("pr_code"),
          "tab_id": urlParams1.get("tab_id"),
          "plot_id": "",
          "shared_type": s_type,
          "element_id": "ellipse06740877683828901",
          "cont_id": $("#importDashboardPlotTab"+element_id).val(),
          "dashboard_type": d_type,
          "name": urlParams1.get("name"),
          "dashboard_config_id": urlParams1.get("dashboard_config_id")
        }
        $("#publishDashboard1"+element_id).html(`<i class="fa fa-circle-notch fa-spin loadingSymbol"></i>`)
        $("body").find("div").eq(0).removeAttr("app_code")
        $(".chartDivSection").removeAttr("app_code")
        $.ajax({
          url: `/users/${urlPath}/dynamicVal/`,
          data: {
              'operation': 'importDasboardSave',
              'config': JSON.stringify(dic)
            },
            type: "POST",
            dataType:"json",
            success:function(data1){

              if(data1["dashboard_type"] == "Entire dashboard"){
                let data_ = {
                  "save": data1["data"],
                  "analysis_table_list": data1["analysis_table_list"],
                  "dashboard_index": data1["dashboard_index"],
                  "dashboardIndexTemplate" : data1["dashboardIndexTemplate"]
                }
                $("body").find("div").eq(0).attr("app_code",app_code)
                savedChartConfigFunc(data_,app_code);

                $("#publishDashboard1"+element_id).html("Save");
                $("#publishDashboard1"+element_id).attr("disabled",false);
              }
              else if(data1["dashboard_type"] == "Plots"){
                let navigateTabId = $("#importDashboardPlotTab"+element_id).val()
                if ($("#"+navigateTabId).hasClass("active")){
                  data1["chartJson"][0]["app_code"] = app_code
                  $("body").find("div").eq(0).attr("app_code",app_code)
                  plotChartsAnalysis(true, data1, ($("#importDashboardPlotTab"+element_id).val()).replace("tab","row"), app_code);
                } else {
                  let tab_data = JSON.parse($("#"+navigateTabId).attr("data-data"))
                  data1["chartJson"][0]["app_code"] = app_code
                  tab_data.push(data1["chartJson"][0])
                  $("#"+navigateTabId).attr("data-data",JSON.stringify(tab_data))
                }
                $("#publishDashboard1"+element_id).html("Save");
                $("#publishDashboard1"+element_id).attr("disabled",false);
              } else {
                $("#analysisAddTab"+element_id).trigger("click");
                let tabID = $("#analysisTab"+element_id).find(".nav-link").eq(-1).attr("id");
                $("#"+tabID.replace("tab","row")).attr("app_code",app_code);
                let tabNo = tabID.replace('analysistab'+element_id,"");
                fetchSlicerParams(app_code);
                function fetchAnalysisSlicer(tabSlicerConfig, analysisTabID, tabNo) {
                    var ctoken = $('form').find("input[name='csrfmiddlewaretoken']").attr('value')
                    $.ajaxSetup({
                        beforeSend: function (xhr, settings) {
                            xhr.setRequestHeader("X-CSRFToken", ctoken);
                        }
                    });

                    $.ajax({
                    url: `/users/${urlPath}/processGraphModule/`,
                    data: {
                        'tab_slicer_config': JSON.stringify(tabSlicerConfig),
                        'element_id': analysisTabID,
                        'tab_id': (tabNo),
                        'app_code': app_code,
                        'operation': 'saveAnalysisSlicerConfigL3',
                    },
                    type: "POST",
                    dataType: "json",
                    success: function (data) {
                        var analysisSlicerElementId = data.elementID;
                        var analysisSlicerTabId = data.slicer_tab_id;

                        let tabSlicerConfigOutput = data[analysisSlicerTabId];
                        let analysis_additional_config = tabSlicerConfigOutput.analysis_additional_config;
                      if (analysis_additional_config == "slicer_config") {
                        let slicerTables = tabSlicerConfigOutput.slicerTable;
                        let slicerParameters = tabSlicerConfigOutput.slicerParameter;
                        let mapDict = tabSlicerConfigOutput.mappingDict
                        let slicerParameterValues = tabSlicerConfigOutput.slicer_parameter_values;
                        let slicerBooleans= tabSlicerConfigOutput.slicerBoolean;
                        let slicerReloadValue = tabSlicerConfigOutput.slicerReload;
                        let multipleSlicer = tabSlicerConfigOutput.multipleSlicer;
                        var html = '';
                        for(let i = 0; i < slicerParameterValues.length; i++) {
                            let attr_ = 'data-value = ""'
                            let multiple = "";
                            if(slicerReloadValue != undefined){
                              if (slicerReloadValue.length != 0) {
                                attr_ = 'data-value' + `= '${JSON.stringify(slicerReloadValue[i])}'`
                              }
                            }
                            if(multipleSlicer != undefined){
                              if(multipleSlicer.length > 0){
                                if(multipleSlicer[i]){
                                  multiple = "multiple";
                                }
                              }
                            }
                            html = html + `
                            <div class="form-inline">
                            <span style="color:var(--primary-color); margin-right:10px; margin-left:10px;">${mapDict[i][slicerParameters[i]]}:</span>
                            <select class="selectSlicerConfig_${analysisSlicerElementId}${analysisSlicerTabId} select2 form-control slicerParamValue${analysisSlicerElementId}" data-tab="${analysisSlicerTabId}" data-slicertable="${slicerTables[i]}" data-slicerColumn= "${slicerParameters[i]}" ${attr_} data-id="selectSlicerConfig_${analysisSlicerElementId}${analysisSlicerTabId}" style="width:150px;display:inline-block;" ${multiple}>`
                                if(slicerBooleans != undefined){
                                  if (slicerBooleans.length != 0) {
                                    if(slicerBooleans[i] == 'True'){
                                      html = html + `<option value="" selected>All</option>`
                                    }
                                  }
                                }
                            for(let slc_val = 0; slc_val < slicerParameterValues[i].length; slc_val++) {
                              if(slicerParameterValues[i][slc_val] != ''){
                                html = html + `<option value="${slicerParameterValues[i][slc_val]}">${slicerParameterValues[i][slc_val]}</option>`
                            }
                            }
                            html = html +
                            `</select>
                            </div>
                            `
                        }
                        $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').append(html);
                        $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').find('.select2').each(function(){
    parent = $(this).parent()
    $(this).select2({dropdownParent:parent})
  })
                        $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').find('.select2').parent().find(".select2-container").css("max-height","55px");
                        $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').find('.select2').parent().find(".select2-container").css("overflow-y","scroll");
                        }
                          slicerChangeUpdatePlots(app_code);
                      $("#"+tabID).find(".tabname").text(data1["config"]["subTabName"])
                      $("#"+tabID.replace("analysis","index")).find("a").text(data1["config"]["subTabName"])
                      plotChartsAnalysis(true, data1, tabID.replace("tab","row"), app_code, tab = true);
                      $("#publishDashboard1"+element_id).html("Save");
                      $("#publishDashboard1"+element_id).attr("disabled",false);
                    },
                    error: function () {
                        $("#publishDashboard1"+element_id).attr("disabled",false);
                        Swal.fire({icon: 'error',text: 'Error! Failure in fetching the columns. Please try again.'});
                    }
                    });
                }
                fetchAnalysisSlicer(data1["config"]["tabSlicerConfig"], element_id, tabNo);
              }
            },
            error: function () {
              Swal.fire({icon: 'error',text: 'Error! Please try again.'});
            }
          });

      function editNameIndex(){
        let id_ = $(this).attr("id").replace("tabHeader","indextab");
        $(`#${id_}`).find("a").html($(this).text());
      }
      const gotoTab = (parent, index) => {
          let id = '#analysis' + index;
          $(id).trigger('click');
        }
      function publishDashboardShare(element_id){
        if($(this).val() == "Groups"){
          $("#publishDashboardGroup" + element_id).parent().css("display","block");
          $.ajax({
          url: `/users/${urlPath}/dynamicVal/`,
          data: {
              'operation': 'importGroup',
            },
            type: "POST",
            dataType:"json",
            success:function(data){
              $("#publishDashboardGroup" + element_id).empty();
              for(i in data["data"]){
                $("#publishDashboardGroup" + element_id).append(`<option value="${data['data'][i]['id']}">${data['data'][i]['name']}</option>`);
              }
            },
            error: function () {
              Swal.fire({icon: 'error',text: 'Error! Please try again.'});
            }
          });
        } else {
          $("#publishDashboardGroup" + element_id).parent().css("display","none");
        }
      }
      function publishDashboardSelect(element_id){
        if($("#publishDashboardSelect"+element_id).val() == "Tabs"){
          $("#publishDashboardTabs"+element_id).parent().css("display","block");
          $("#publishDashboardPlots"+element_id).parent().css("display","none");
          $("#publishDashboardTabs"+element_id).empty();
          $("#analysisTab"+element_id).find(".nav-link").each(function() {
            let val = $(this).attr("id");
            let text = $(this).text().trim();
            $("#publishDashboardTabs"+element_id).append(`<option value="${val}">${text}</option>`)
          });

        } else{
          $("#publishDashboardTabs"+element_id).parent().css("display","none");
          $("#publishDashboardPlots"+element_id).parent().css("display","none");
        }
        if($("#publishDashboardSelect"+element_id).val() == "Plots"){
          $("#publishDashboardTabs"+element_id).parent().css("display","block");
          $("#publishDashboardPlots"+element_id).parent().css("display","block");
        }
      }
      function publishDashboardTabs(element_id){
        if($("#publishDashboardSelect"+element_id).val() == "Plots"){
          $("#publishDashboardTabs"+element_id).parent().css("display","block");
          $("#publishDashboardPlots"+element_id).parent().css("display","block");
        }
        let val = ($(this).val()).replace("tab","row");
        $("#publishDashboardPlots"+element_id).empty();
        $("#"+val).find(".charts").each(function() {
          let id_ = $(this).attr("id");
          $("#publishDashboardPlots"+element_id).append(`<option value="${id_}">${$(this).attr("data-subtype")} (${($(this).attr("data-table_name"))})</option>`)
        })
      }
      function importDashboardTab(element_id){
        let tab_code = $(this).val();
        let subprocess_code = $("#importDashboardSubprocess"+element_id).val();
        let data = JSON.parse($("#importDashboardApp"+element_id).attr("data-data"));
        $("#importDashboardPlot"+element_id).empty();
        $("#importDashboardPlot"+element_id).append(`<option value="">---</option>`);
        for(let i in data){
          if(data[i]["subprocess_code"] == subprocess_code && data[i]["dashboard_type"] == $("#importDashboardType"+element_id).val() && data[i]["tab_id"] == tab_code){

            let tab = JSON.parse(data[i]["plots_id"]);
            let plot_name = JSON.parse(data[i]["plots_name"]);
            let tab_ = tab[tab_code];
            let tab__ = plot_name[tab_code]
            for (let i in tab_){
              $("#importDashboardPlot"+element_id).append(
                `<option value="${tab_[i]}">${tab__[i]}</option>`
              )
            }
          }
        }
      }
      function importDashboardType(element_id){
        if($(this).val() == "Tabs"){
          $("#importDashboardTab"+element_id).val("").trigger("change");
          $("#importDashboardPlot"+element_id).parent().css("display","none");
          $("#importDashboardPlotTab"+element_id).parent().css("display","none");
        } else if($(this).val() == "Plots") {
          $("#importDashboardTab"+element_id).val("").trigger("change");
          $("#importDashboardPlot"+element_id).parent().css("display","block");
          $("#importDashboardPlotTab"+element_id).parent().css("display","block");
          $("#importDashboardPlotTab"+element_id).empty();
          $("#importDashboardPlotTab"+element_id).append(`<option value="">---</option>`);
          $("#analysisTab"+element_id).find(".nav-link").each(function() {
            let val = $(this).attr("id");
            let text = $(this).text().trim();
            $("#importDashboardPlotTab"+element_id).append(`<option value="${val}">${text}</option>`)
          });
        } else {
          $("#importDashboardPlot"+element_id).parent().css("display","none");
          $("#importDashboardPlotTab"+element_id).parent().css("display","none");
        }
      }
      function importDashboardSubprocess(element_id){
        let subprocess_code = $(this).val();
        let data = JSON.parse($("#importDashboardApp"+element_id).attr("data-data"));
        $("#importDashboardTab"+element_id).empty();
        $("#importDashboardTab"+element_id).append(`<option value="">---</option>`);
        for(let i in data){
          if(data[i]["subprocess_code"] == subprocess_code && data[i]["dashboard_type"] == "Plots"){
            $("#importDashboardTab"+element_id).append(
              `<option value="${data[i]["tab_id"]}">${data[i]["tab_name"]}</option>`
            )
          }
        }
      }
      function importDashboardApp(element_id){
        let app_code = $(this).val();
        let data = JSON.parse($("#importDashboardApp"+element_id).attr("data-data"));

        $("#importDashboardSubprocess"+element_id).empty();
        $("#importDashboardSubprocess"+element_id).append(`<option value="">---</option>`);
        let text_ = [];
        for(let i in data){
          if(data[i]["app_code"] == app_code){
            if(!(text_).includes(data[i]["subprocess_code"])){
              $("#importDashboardSubprocess"+element_id).append(
                `<option value="${data[i]["subprocess_code"]}">${data[i]["subprocess_name"]}</option>`
              )
              $("#importDashboardSubprocess"+element_id).find("option").each(function() {
                text_.push($(this).attr("value"));
              })
            }
          }
        }
      }
      function importDashboardSelect(element_id){
        $.ajax({
          url: `/users/${urlPath}/dynamicVal/`,
          data: {
              'operation': 'importDasboard',
              'shared': $("#importDashboardSelect"+element_id).val()
            },
            type: "POST",
            dataType:"json",
            success:function(data){
              $("#importDashboardApp"+element_id).attr("data-data",JSON.stringify(data["data"]));
              $("#importDashboardApp"+element_id).empty();
              $("#importDashboardApp"+element_id).append(`<option value="">---</option>`);
              let text_ = []
              for(let i in data["data"]){
                if(!(text_).includes(data["data"][i]["app_code"])){
                  $("#importDashboardApp"+element_id).append(
                    `<option value="${data["data"][i]["app_code"]}">${data["data"][i]["application_name"]}</option>`
                  )
                  $("#importDashboardApp"+element_id).find("option").each(function() {
                    text_.push($(this).attr("value"));
                  })
                }
              }
            },
            error: function () {
              Swal.fire({icon: 'error',text: 'Error! Please try again.'});
            }
          });
      }
      function importDashboard(element_id){
        $("body").find("div").eq(0).removeAttr("app_code");
        $(".chartDivSection").removeAttr("app_code")
        dic = {
          "app_code":$("#importDashboardApp"+element_id).val(),
          "pr_code": $("#importDashboardSubprocess"+element_id).val(),
          "tab_id": $("#importDashboardTab" + element_id).val(),
          "plot_id": $("#importDashboardPlot" + element_id).val(),
          "shared_type": $("importDashboardSelect" + element_id).val(),
          "element_id": element_id,
          "cont_id": $("#importDashboardPlotTab"+element_id).val(),
          "dashboard_type": $("#importDashboardType" + element_id).val(),
        }
        $("#publishDashboard1"+element_id).html(`<i class="fa fa-circle-notch fa-spin loadingSymbol"></i>`)
        $.ajax({
          url: `/users/${urlPath}/dynamicVal/`,
          data: {
              'operation': 'importDasboardSave',
              'config': JSON.stringify(dic)
            },
            type: "POST",
            dataType:"json",
            success:function(data1){
              if(data1["dashboard_type"] == "Entire dashboard"){
                let data_ = {
                  "save": data1["data"],
                  "analysis_table_list": data1["analysis_table_list"],
                  "dashboard_index": data1["dashboard_index"]
                }
                $("body").find("div").eq(0).attr("app_code",$("#importDashboardApp"+element_id).val())
                savedChartConfigFunc(data_,$("#importDashboardApp"+element_id).val());
              }
              else if(data1["dashboard_type"] == "Plots"){
                let navigateTabId = $("#importDashboardPlotTab"+element_id).val()
                if ($("#"+navigateTabId).hasClass("active")){
                  data1["chartJson"][0]["app_code"] = $("#importDashboardApp"+element_id).val()
                  plotChartsAnalysis(true, data1, ($("#importDashboardPlotTab"+element_id).val()).replace("tab","row"), $("#importDashboardApp"+element_id).val());
                } else {
                  let tab_data = JSON.parse($("#"+navigateTabId).attr("data-data"))
                  data1["chartJson"][0]["app_code"] = $("#importDashboardApp"+element_id).val()
                  tab_data.push(data1["chartJson"][0])
                  $("#"+navigateTabId).attr("data-data",JSON.stringify(tab_data))
                }
              } else {
                $("#analysisAddTab"+element_id).trigger("click");
                let tabID = $("#analysisTab"+element_id).find(".nav-link").eq(-1).attr("id");

                $("#"+tabID.replace("tab","row")).attr("app_code",$("#importDashboardApp"+element_id).val())
                let tabNo = tabID.replace('analysistab'+element_id,"");
                fetchSlicerParams($("#importDashboardApp"+element_id).val());
                function fetchAnalysisSlicer(tabSlicerConfig, analysisTabID, tabNo) {
                    var ctoken = $('form').find("input[name='csrfmiddlewaretoken']").attr('value')
                    $.ajaxSetup({
                        beforeSend: function (xhr, settings) {
                            xhr.setRequestHeader("X-CSRFToken", ctoken);
                        }
                    });

                    $.ajax({
                    url: `/users/${urlPath}/processGraphModule/`,
                    data: {
                        'tab_slicer_config': JSON.stringify(tabSlicerConfig),
                        'element_id': analysisTabID,
                        'tab_id': (tabNo),
                        'app_code': $("#importDashboardApp"+element_id).val(),
                        'operation': 'saveAnalysisSlicerConfigL3',
                    },
                    type: "POST",
                    dataType: "json",
                    success: function (data) {
                        var analysisSlicerElementId = data.elementID;
                        var analysisSlicerTabId = data.slicer_tab_id;

                        let tabSlicerConfigOutput = data[analysisSlicerTabId];
                        let analysis_additional_config = tabSlicerConfigOutput.analysis_additional_config;
                        if (analysis_additional_config == "slicer_config") {
                        let slicerTables = tabSlicerConfigOutput.slicerTable;
                        let slicerParameters = tabSlicerConfigOutput.slicerParameter;
                        let mapDict = tabSlicerConfigOutput.mappingDict
                        let slicerParameterValues = tabSlicerConfigOutput.slicer_parameter_values;
                        let slicerBooleans= tabSlicerConfigOutput.slicerBoolean;
                        let slicerReloadValue = tabSlicerConfigOutput.slicerReload;
                        let multipleSlicer = tabSlicerConfigOutput.multipleSlicer;
                        var html = '';
                        for(let i = 0; i < slicerParameterValues.length; i++) {
                            let attr_ = 'data-value = ""'
                            let multiple = "";
                            if(slicerReloadValue != undefined){
                              if (slicerReloadValue.length != 0) {
                                attr_ = 'data-value' + `= '${JSON.stringify(slicerReloadValue[i])}'`
                              }
                            }
                            if(multipleSlicer != undefined){
                              if(multipleSlicer.length > 0){
                                if(multipleSlicer[i]){
                                  multiple = "multiple";
                                }
                              }
                            }
                            html = html + `
                            <div class="form-inline">
                            <span style="color:var(--primary-color); margin-right:10px; margin-left:10px;">${mapDict[i][slicerParameters[i]]}:</span>
                            <select class="selectSlicerConfig_${analysisSlicerElementId}${analysisSlicerTabId} select2 form-control slicerParamValue${analysisSlicerElementId}" data-tab="${analysisSlicerTabId}" data-slicertable="${slicerTables[i]}" data-slicerColumn= "${slicerParameters[i]}" ${attr_} data-id="selectSlicerConfig_${analysisSlicerElementId}${analysisSlicerTabId}" style="width:150px;display:inline-block;" ${multiple}>`
                                if(slicerBooleans != undefined){
                                  if (slicerBooleans.length != 0) {
                                    if(slicerBooleans[i] == 'True'){
                                      html = html + `<option value="" selected>All</option>`
                                    }
                                  }
                                }
                            for(let slc_val = 0; slc_val < slicerParameterValues[i].length; slc_val++) {
                              if(slicerParameterValues[i][slc_val] != ''){
                                html = html + `<option value="${slicerParameterValues[i][slc_val]}">${slicerParameterValues[i][slc_val]}</option>`
                            }
                            }
                            html = html +
                            `</select>
                            </div>
                            `
                        }
                        $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').append(html);
                        $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').find('.select2').each(function(){
    parent = $(this).parent()
    $(this).select2({dropdownParent:parent})
  })
                        $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').find('.select2').parent().find(".select2-container").css("max-height","55px");
                        $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').find('.select2').parent().find(".select2-container").css("overflow-y","scroll");
                        }
                          slicerChangeUpdatePlots($("#importDashboardApp"+element_id).val());
                      $("#"+tabID).find(".tabname").text(data1["config"]["subTabName"])
                      $("#"+tabID.replace("analysis","index")).find("a").text(data1["config"]["subTabName"])
                      plotChartsAnalysis(true, data1, tabID.replace("tab","row"), $("#importDashboardApp"+element_id).val(), tab = true);
                      $("#publishDashboard1"+element_id).html("Save");
                    },
                    error: function () {
                        Swal.fire({icon: 'error',text: 'Error! Failure in fetching the columns. Please try again.'});
                    }
                    });
                }
                fetchAnalysisSlicer(data1["config"]["tabSlicerConfig"], element_id, tabNo);
              }
            },
            error: function () {
              Swal.fire({icon: 'error',text: 'Error! Please try again.'});
            }
          });
      }
      function saveDashboard(element_id){
        let tab = $("#publishDashboardTabs"+element_id).val();
        let dic1 = {};
        dic1[tab] = $("#publishDashboardPlots"+element_id).val()
        let tab_name = "";
        $("#publishDashboardTabs"+element_id).find("option").each(function() {
          if($(this).attr("value") == $("#publishDashboardTabs"+element_id).val()){
            tab_name = $(this).text();
          }
        })
        let plots_name = {};
        plots_name[tab] = []
        $("#publishDashboardPlots"+element_id).find("option").each(function() {
          if(($("#publishDashboardPlots"+element_id).val()).includes($(this).attr("value"))){
            (plots_name[tab]).push($(this).text());
          }
        })
        dic = {
          "dashboard_type": $("#publishDashboardSelect"+element_id).val(),
          "dashboard_id": element_id,
          "tab_id": $("#publishDashboardTabs"+element_id).val(),
          "tab_name": tab_name,
          "plots_id": JSON.stringify(dic1),
          "plots_name": JSON.stringify(plots_name),
          "shared_type": $("#publishDashboardShare"+element_id).val(),
          "subprocess_group": JSON.stringify($("#publishDashboardGroup"+element_id).val()),
        }
        $.ajax({
          url: `/users/${urlPath}/dynamicVal/`,
          data: {
              'operation': 'publishDasboard',
              'element_id': element_id,
              'config':JSON.stringify(dic),
            },
            type: "POST",
            dataType:"json",
            success:function(data){
              alert("Success");
            },
            error: function () {
              Swal.fire({icon: 'error',text: 'Error! Please try again.'});
            }
          });
      }
    </script>

    <script>
        let activeElement = "no";        var None = 'None';        var listViewTableDict={};        var listViewEditTemplate = {};        var createViewIdList = [];        var elementIDList=[];        var chartConfigDict={};        var crossFilterDict={};        var element_table_IDList = [];        var names = {};
        var app_code_home = '';        var user_home = '';        var item_code_list = [];        var grapejs = 1;        var m_col_basefilter = {};        var globalFuncList_scenario = [];        var variableList_scenario = [];        var mColBasefilter = {};        var button_ids = ["savebutton_","saveDraftbutton_","customValidationList","calculateComp","viewHistory_","button-id-back","resetDraft_","previewDraft_","rejectedRecords","viewTransactions"];        function enableSaveButton () {
 $(this).find('button[value=Save]').prop('disabled',false);
};

      function bta_apply() {
        $.ajax({
          url: window.location.pathname,
          data: {
            operation: "get_button_access",
            item_code: window.location.pathname.split("/")[4],
          },
          type: "POST",
          dataType: "json",
          success: function (data) {
            let lba_data = data.lba_data;
            for (var key of Object.keys(lba_data)) {
              if(Object.keys(lba_data[key]).length != 0) {
              e_id = key;
              if (e_id.startsWith("whiteSpacewrap")) {
                if (!lba_data[key].includes("CreateView - Save")) {
                  $(`#savebutton_${e_id}`).attr("disabled", "true");
                  $(`#compare_existing_${e_id}`).attr("disabled", "true");
                }

                if (!lba_data[key].includes("CreateView - Save as Draft")) {
                  $(`#saveDraftbutton_${e_id}`).attr("disabled", "true");
                  $(`#resetDraft_${e_id}`).attr("disabled", "true");
                  $(`#previewDraft_${e_id}`).attr("disabled", "true");
                }

                if (!lba_data[key].includes("CreateView - Custom Validation")) {
                  $(`#customValidationList${e_id}`).attr("disabled", "true");
                  $(`#customValidation${e_id}`).attr("disabled", "true");
                }

                if (!lba_data[key].includes("CreateView - Refresh Computation")) {
                  $(`#calCompVal_${e_id}`).attr("disabled", "true");
                }

                if (!lba_data[key].includes("CreateView - Back")) {
                  $(`#button-id-back${e_id}`).attr("disabled", "true");
                }

                if (!lba_data[key].includes("CreateView - View History")) {
                  $(`#viewHistory_${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("CreateView - View Rejected Records")) {
                  $(`#rejectedRecords${e_id}`).attr("disabled", "true");
                }

                if (!lba_data[key].includes("CreateView - View Transaction Status")) {
                  $(`#showTransactions${e_id}`).attr("disabled", "true");
                  $(`#viewTransactions${e_id}`).attr("disabled", "true");
                }
              }
              if (e_id.startsWith("ellipse")) {
                if (!lba_data[key].includes("Analysis - Previous Versions")) {
                  $(`#previousVersion${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("Analysis - Save and Share")) {
                  $(`#saveShare${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("Analysis - Plot charts")) {
                  $(`#plotCharts${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("Analysis - PDF")) {
                  $(`#analysisPDF${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("Analysis - Save")) {
                  $(`#saveChartConfigButton${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("Analysis - Global Settings")) {
                  $(`#globalButton${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("Analysis - Add tab")) {
                  $(`#analysisAddTab${e_id}`).attr("disabled", "true");
                }
              }

              if (e_id.startsWith("parallelogram")) {
                if (!lba_data[key].includes("Computation - Run Model")) {
                  $(`#runModel_${e_id}`).attr("disabled", "true");
                }

                if (!lba_data[key].includes("Computation - Configure Scenario")) {
                  $(`#scenarios_${e_id}`).attr("disabled", "true");
                }

                if (!lba_data[key].includes("Computation - Filter")) {
                  $(`#filter_button_prev_run_computation${e_id}`).attr(
                    "disabled",
                    "true"
                  );
                  $(`#freezepane_button_prev_run_computation${e_id}`).attr(
                    "disabled",
                    "true"
                  );
                }
              }
              if (e_id.startsWith("document")) {
                if (!lba_data[key].includes("UploadView - Upload")) {
                  $(`#uploadFile${e_id}`).attr("disabled", "true");
                  $(`#downloadButton${e_id}`).attr("disabled", "true");
                }

                if (!lba_data[key].includes("UploadView - Map Columns")) {
                  $(`#columnMapperButton${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("UploadView - Custom Validation")) {
                  $(`#customValidationButton${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("UploadView - Add computation logic")) {
                  $(`#computedFieldMapperButton${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("UploadView - Download data")) {
                  $(`#downloadData${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("UploadView - Upload history")) {
                  $(`#downloadHistory${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("UploadView - Last upload errors")) {
                  $(`#downloadLastUploadErrors${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("UploadView - Detailed error log")) {
                  $(`#downloadErrorLog${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("UploadView - Transaction status")) {
                  $(`#showTransactions${e_id}`).attr("disabled", "true");
                }
              }
              if (e_id.startsWith("process")) {
                if (!lba_data[key].includes("ListView - Upload")) {
                  $(`#uploadButton${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("ListView - Save template")) {
                  $(`#saveTemplateButton${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("ListView - Set Alerts")) {
                  $(`#displayalert${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("ListView - Paste Tabular Data")) {
                  $(`#tablegenerator_${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("ListView - Edit Mode")) {
                  $(`#editListView${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("ListView - Delete all data")) {
                  $(`#listview_clearall_${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("ListView - Find and replace")) {
                  $(`#find_replace_${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("ListView - Freeze Panes")) {
                  $(`#freeze_pane_${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("ListView - Formatters")) {
                  $(`#formatter_${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("ListView - Transactions Status")) {
                  $(`#showTransactions${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("ListView - Plot Charts")) {
                  $(`#plotCharts${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("ListView - Filter")) {
                  $(`#filter_button_list_view${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("ListView - Add Computed Fields")) {
                  $(`#addComp_field_${e_id}`).attr("disabled", "true");
                }
                if (!lba_data[key].includes("ListView - Expand")) {
                  $(`#example1_expand${e_id}`).attr("disabled", "true");
                }
              }
          }}
          },
        }).done(function () {
          $("section").addClass("visible-section");
        });
      }
      $(document).ready(bta_apply);
    </script>

<script>

        document.getElementById(`indexTab`).addEventListener("click", (e) => {
            e.preventDefault();
            gotoTab("#analysisTabellipse06740877683828901", "tabellipse067408776838289011");
        });
        $(`#removeTabellipse067408776838289011`).click(function() {
          $(`#index`+$(this).attr("id").replace("removeT","t")).closest(".row").remove()
          const deleteButton = document.getElementById(`removeTabellipse067408776838289011`);
          let ind = 0
          $("#tabLinks").find(".col-2").each(function() {
            $(this).find("p").html(++ind)
          })
          deleteButton.addEventListener("click", (e) => {
            const id = e.target.parentNode.id.replace('removeT', 'indext');;
            const indexTab = document.getElementById('tabLinks');
            const linkToBeDeleted  = document.getElementById(`${id}`);
            $(`#${id}`).closest(".row").remove();
          })
          var tabAnchorID=$(this).attr('data-tabAnchorID')
          var tabContainerDivID=$(this).attr('data-tabContainerDivID')
          $(`#${tabAnchorID}`).parent().remove()
          $(`#${tabContainerDivID}`).remove()
        })
        $('.contentEditable').each(function () {
        $(this).on('click', function () {
          $(this).attr("contenteditable", "true")
          $(this).focus()
        })
        $(this).focusout(function () {
          var tab_header = this.innerText
          tab_header = tab_header.trim()
          if (tab_header.length == 0){
            this.innerText = "Set Name"
            $(this).removeAttr("contenteditable");
            $(this).addClass("bg-danger")
            $(this).trigger("click")
          }
          else{
          $(this).removeAttr("contenteditable");
          $(this).removeClass("bg-danger")
          }
      })
      })
    </script><script>

        document.getElementById(`indexTab`).addEventListener("click", (e) => {
            e.preventDefault();
            gotoTab("#analysisTabellipse06740877683828901", "tabellipse067408776838289012");
        });
        $(`#removeTabellipse067408776838289012`).click(function() {
          $(`#index`+$(this).attr("id").replace("removeT","t")).closest(".row").remove()
          const deleteButton = document.getElementById(`removeTabellipse067408776838289012`);
          let ind = 0
          $("#tabLinks").find(".col-2").each(function() {
            $(this).find("p").html(++ind)
          })
          deleteButton.addEventListener("click", (e) => {
            const id = e.target.parentNode.id.replace('removeT', 'indext');;
            const indexTab = document.getElementById('tabLinks');
            const linkToBeDeleted  = document.getElementById(`${id}`);
            $(`#${id}`).closest(".row").remove();
          })
          var tabAnchorID=$(this).attr('data-tabAnchorID')
          var tabContainerDivID=$(this).attr('data-tabContainerDivID')
          $(`#${tabAnchorID}`).parent().remove()
          $(`#${tabContainerDivID}`).remove()
        })
        $('.contentEditable').each(function () {
        $(this).on('click', function () {
          $(this).attr("contenteditable", "true")
          $(this).focus()
        })
        $(this).focusout(function () {
          var tab_header = this.innerText
          tab_header = tab_header.trim()
          if (tab_header.length == 0){
            this.innerText = "Set Name"
            $(this).removeAttr("contenteditable");
            $(this).addClass("bg-danger")
            $(this).trigger("click")
          }
          else{
          $(this).removeAttr("contenteditable");
          $(this).removeClass("bg-danger")
          }
      })
      })
    </script><script>

        document.getElementById(`indexTab`).addEventListener("click", (e) => {
            e.preventDefault();
            gotoTab("#analysisTabellipse06740877683828901", "tabellipse067408776838289013");
        });
        $(`#removeTabellipse067408776838289013`).click(function() {
          $(`#index`+$(this).attr("id").replace("removeT","t")).closest(".row").remove()
          const deleteButton = document.getElementById(`removeTabellipse067408776838289013`);
          let ind = 0
          $("#tabLinks").find(".col-2").each(function() {
            $(this).find("p").html(++ind)
          })
          deleteButton.addEventListener("click", (e) => {
            const id = e.target.parentNode.id.replace('removeT', 'indext');;
            const indexTab = document.getElementById('tabLinks');
            const linkToBeDeleted  = document.getElementById(`${id}`);
            $(`#${id}`).closest(".row").remove();
          })
          var tabAnchorID=$(this).attr('data-tabAnchorID')
          var tabContainerDivID=$(this).attr('data-tabContainerDivID')
          $(`#${tabAnchorID}`).parent().remove()
          $(`#${tabContainerDivID}`).remove()
        })
        $('.contentEditable').each(function () {
        $(this).on('click', function () {
          $(this).attr("contenteditable", "true")
          $(this).focus()
        })
        $(this).focusout(function () {
          var tab_header = this.innerText
          tab_header = tab_header.trim()
          if (tab_header.length == 0){
            this.innerText = "Set Name"
            $(this).removeAttr("contenteditable");
            $(this).addClass("bg-danger")
            $(this).trigger("click")
          }
          else{
          $(this).removeAttr("contenteditable");
          $(this).removeClass("bg-danger")
          }
      })
      })
    </script><script>

        document.getElementById(`indexTab`).addEventListener("click", (e) => {
            e.preventDefault();
            gotoTab("#analysisTabellipse06740877683828901", "tabellipse067408776838289014");
        });
        $(`#removeTabellipse067408776838289014`).click(function() {
          $(`#index`+$(this).attr("id").replace("removeT","t")).closest(".row").remove()
          const deleteButton = document.getElementById(`removeTabellipse067408776838289014`);
          let ind = 0
          $("#tabLinks").find(".col-2").each(function() {
            $(this).find("p").html(++ind)
          })
          deleteButton.addEventListener("click", (e) => {
            const id = e.target.parentNode.id.replace('removeT', 'indext');;
            const indexTab = document.getElementById('tabLinks');
            const linkToBeDeleted  = document.getElementById(`${id}`);
            $(`#${id}`).closest(".row").remove();
          })
          var tabAnchorID=$(this).attr('data-tabAnchorID')
          var tabContainerDivID=$(this).attr('data-tabContainerDivID')
          $(`#${tabAnchorID}`).parent().remove()
          $(`#${tabContainerDivID}`).remove()
        })
        $('.contentEditable').each(function () {
        $(this).on('click', function () {
          $(this).attr("contenteditable", "true")
          $(this).focus()
        })
        $(this).focusout(function () {
          var tab_header = this.innerText
          tab_header = tab_header.trim()
          if (tab_header.length == 0){
            this.innerText = "Set Name"
            $(this).removeAttr("contenteditable");
            $(this).addClass("bg-danger")
            $(this).trigger("click")
          }
          else{
          $(this).removeAttr("contenteditable");
          $(this).removeClass("bg-danger")
          }
      })
      })
    </script> <script>
        function fetchSlicerParams(app_code = ""){
          $(".analysisSlicerTable").off('select2:select').on('select2:select', function(){
            let tableNameSlicer = $(this).val();
            let closestAnalysisParameter = $(this).parent().parent().find(".form-group").eq(1).find(".analysisSlicerParameter");
            if (tableNameSlicer != "") {
              let url_string = window.location.pathname
              let f_occ = url_string.indexOf('/', url_string.indexOf('/') + 1)
              let s_occ = url_string.indexOf('/', url_string.indexOf('/') + f_occ +1)
              let t_occ = url_string.indexOf('/', url_string.indexOf('/') + s_occ +1)
              let app_code2 = url_string.substring(f_occ+1,s_occ)
              let current_dev_mode2 = url_string.substring(s_occ+1,t_occ)
              if(current_dev_mode2 != 'Build' && current_dev_mode2 != 'Edit'){
                current_dev_mode2 = 'User'

              }
              if (app_code == ""){
                if($("body").find("div").eq(0).attr("app_code") != undefined){
                  app_code = $("body").find("div").eq(0).attr("app_code")
                } else if($(this).closest(".chartDivSection").attr("app_code") != undefined){
                  app_code = $(this).closest(".chartDivSection").attr("app_code");
                }
              }
              $.ajax({
                url: `/users/${urlPath}/processGraphModule/`,

                data: {
                  'operation': 'dropFieldList',
                  'app_code': app_code,
                  'tableName':tableNameSlicer,
                },
                type: "POST",
                dataType: "json",
                success: function (data) {
                  if (data.fieldList.length > 0) {
                    closestAnalysisParameter.empty();
                    closestAnalysisParameter.append("<option value=''>Select slicer parameter</option>");
                    for (var i = 0; i < data.fieldList.length; i++) {
                      closestAnalysisParameter.append(new Option(data.fieldList[i], data.fieldNameList[i]));
                    }
                    if(closestAnalysisParameter.attr('data-slicerParam') != undefined){
                      var slicerParameter = closestAnalysisParameter.attr('data-slicerParam')
                      closestAnalysisParameter.val(slicerParameter).trigger('change');
                      closestAnalysisParameter.removeAttr('data-slicerParam')
                    }
                  }
                },
                error: function () {
                  Swal.fire({icon: 'error',text: 'Error! Failure in fetching the columns. Please try again.'});
                }
              });
            } else {
              closestAnalysisParameter.empty();
              closestAnalysisParameter.append("<option value=''>Select slicer parameter</option>");
            }
          });
        }
        fetchSlicerParams()
        function addSlicers(analysisElementId, tabId){
          $(`#slicerConfigCard${analysisElementId}${tabId}`).append(`
            <div class="card" data-slicer_class="selectSlicerConfig_ellipse067408776838289011" >
              <div class="card-header">
                <button type="button" class="btn removeSlicer" onclick="removeSlicer.call(this)"><i class="far fa-trash-alt" style="color:var(--primary-color);"></i> Remove slicer</button>
              </div>
              <div class="card-body">
                <div class="form-group">
                  <label for="analysisSlicerTable">Source table:
                  </label>
                  <select  class="select2 form-control analysisSlicerTable" name="analysisSlicerTable">
                    <option value="">Select source table</option>  <option value="Asset_Class_Master">Asset_Class_Master</option>  <option value="Test_date_table">Test_date_table</option>  <option value="City_Master">City_Master</option>  <option value="Dummy_concat_tabble">Dummy_concat_tabble</option>  <option value="loss_data2">loss_data2</option>  <option value="Loss_data">Loss_data</option>  <option value="Trade_value">Trade_value</option>  <option value="Bank_loss_data">Bank_loss_data</option>  <option value="dummy_concat_table2">dummy_concat_table2</option>  <option value="attribute_master">attribute_master</option>  <option value="Test_table_23">Test_table_23</option>  <option value="Product_Master_2">Product_Master_2</option>  <option value="Loss_data2_replica">Loss_data2_replica</option>  <option value="Simulated_loss_amount_Final">Simulated_loss_amount_Final</option>  <option value="UserProfile">UserProfile</option>  <option value="Complain_Register_Table">Complain_Register_Table</option>  <option value="loss_data2_scenario">loss_data2_scenario</option>  <option value="Loss_dataset">Loss_dataset</option>  <option value="pool_master">pool_master</option>  <option value="Aggreagted_bank_loss_data">Aggreagted_bank_loss_data</option>  <option value="Product_Master">Product_Master</option>  <option value="Onboarding_details">Onboarding_details</option>  <option value="Trade_entry">Trade_entry</option>  <option value="concat_table">concat_table</option>  <option value="Measures_Master">Measures_Master</option>       </select>
                    </div>
                    <div class="form-group">
                      <label for="analysisSlicerParameter">Slicer parameter:
                      </label>
                      <select  class="select2 form-control analysisSlicerParameter" name="analysisSlicerParameter">
                        <option value="">Select slicer parameter</option>
                      </select>
                    </div>
                    <div class = "form-group">
                      <label for="analysisSlicerBoolean">
                      <input type="checkbox" class="analysisSlicerBoolean" name="analysisSlicerBoolean" value="True">
                      Add default option for all values</label>
                    </div>
                    <div class="form-group">
                      <label>
                      <input class="mulcheckbox" type="checkbox">
                      Multiselect Slicer</label>
                    </div>
                  </div>
                </div>
                `)

                $(`#slicerConfigCard${analysisElementId}${tabId}`).find('.card').eq(-1).find(".card-body").find('select').each(function(){
    parent = $(this).parent()
    $(this).select2({dropdownParent:parent})
  })
                fetchSlicerParams();
            }

            function removeSlicer(){
              $(this).parent().parent().remove();
            }

            $('#saveTabSlicerConfigellipse067408776838289011' ).on('click', function(){
              var tabDict={
                "TabID":('1'),
                "slicerTable":[],
                "slicerParameter":[],
                "slicerBoolean":[],
                "slicerReload" : [],
                "multipleSlicer":[]
              }
              $('#slicerConfigCardellipse067408776838289011' ).find('.card').find('.analysisSlicerTable').each(function() {
                tabDict["slicerTable"].push($(this).val())
              })
              $('#slicerConfigCardellipse067408776838289011' ).find('.card').find('.analysisSlicerParameter').each(function() {
                tabDict["slicerParameter"].push($(this).val())
              })
              $('#slicerConfigCardellipse067408776838289011' ).find('.card').find('.mulcheckbox').each(function() {
                if ($(this).is(":checked")){
                  tabDict["multipleSlicer"].push(true);
                }else{
                  tabDict["multipleSlicer"].push(false);
                }
              })
              $('#slicerConfigCardellipse067408776838289011' ).find('.card').find('.analysisSlicerBoolean').each(function() {
                if ($(this).is(":checked")){
                  tabDict["slicerBoolean"].push("True")
                }else {
                  tabDict["slicerBoolean"].push("False")
                }
              });
              url_string = window.location.pathname
              f_occ = url_string.indexOf('/', url_string.indexOf('/') + 1)
              s_occ = url_string.indexOf('/', url_string.indexOf('/') + f_occ +1)
              t_occ = url_string.indexOf('/', url_string.indexOf('/') + s_occ +1)
              app_code2 = url_string.substring(f_occ+1,s_occ)
              current_dev_mode2 = url_string.substring(s_occ+1,t_occ)
              if(current_dev_mode2 != 'Build' && current_dev_mode2 != 'Edit'){
                current_dev_mode2 = 'User'
              }
              $.ajax({
                url: `/users/${urlPath}/processGraphModule/`,
                data: {
                  'tab_slicer_config': JSON.stringify(tabDict),
                  'element_id': 'ellipse06740877683828901',
                  'tab_id': '1',
                  'operation': 'saveAnalysisSlicerConfigL3',
                },

                type: "POST",
                dataType: "json",
                success: function (data) {
                  $('#tabellipse067408776838289011' ).find('.card-tools').empty();
                  $('#tabellipse067408776838289011' ).find('.card-tools').append(`<button type="button" value="AddComment" class="btn btn-primary commentButton btn-xs" id="AddCommentellipse067408776838289011"   data-toggle="tooltip" title="Add comment" style="height: 25px;border-radius:5px;border-color:none;color:white;margin-top:10px; margin-bottom:10px"><i class='far fa-comment-dots' style="font-size:1rem;"></i></button>&nbsp;<button type="button" value="PDF" class=" btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289011"  id='analysisPDFellipse067408776838289011'  style=" color:#ffffff;background-color:rgba(86,90,94,0);border-style:none;border-width:;border-color:#000000;font-size:none;border-radius:5px;margin-right:5px;margin-top:10px; margin-bottom:10px" onMouseOver='' onMouseOut=''><i class='fas fa-file-invoice listoficons' style='color:#1d3b58'></i> </button><button type="button" value="slicerConfig" class="btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289011"  id='slicerConfigellipse067408776838289011'  data-toggle="modal" data-target="#slicerConfigModalellipse067408776838289011"  style="height: 25px;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px; margin-right:10px; margin-top:10px; margin-bottom:10px"><i class="fas fa-filter"></i>&nbsp;Slicer</button> `);

                  let tabSlicerConfig = data['1'];
                  let analysis_additional_config = tabSlicerConfig.analysis_additional_config;
                  if (analysis_additional_config == "slicer_config") {
                    let slicerTables = tabSlicerConfig.slicerTable;
                    let slicerParameters = tabSlicerConfig.slicerParameter;
                    let slicerBooleans = tabSlicerConfig.slicerBoolean;
                    let slicerParameterValues = tabSlicerConfig.slicer_parameter_values;
                    let slicerReloadValue = tabSlicerConfig.slicerReload;
                    let multipleSlicer = tabSlicerConfig.multipleSlicer;
                    var html = '';
                    for(let i = 0; i < slicerParameterValues.length; i++) {
                      let attr_ = 'data-value = ""'
                      let multiple = "";
                      if(slicerReloadValue != undefined){
                        if (slicerReloadValue.length != 0) {
                          attr_ = 'data-value' + `= '${JSON.stringify(slicerReloadValue[i])}'`
                        }
                      }
                      if(multipleSlicer != undefined){
                        if(multipleSlicer.length > 0){
                          if(multipleSlicer[i]){
                            multiple = "multiple";
                          }
                        }
                      }
                      html = html + `
                      <div class="form-inline">
                        <span style="color:var(--primary-color); margin-right:10px; margin-left:10px;">${mapDict[i][slicerParameters[i]]}:</span>

                        <select class="selectSlicerConfig_ellipse067408776838289011  select2 form-control slicerParamValueellipse06740877683828901 data-tab='1' data-slicertable="${slicerTables[i]}" data-slicerColumn= "${slicerParameters[i]}" ${attr_} data-id="selectSlicerConfig_ellipse067408776838289011"  style="width:150px;display:inline-block;" ${multiple}>`
                          if(slicerBooleans != undefined){
                            if (slicerBooleans.length != 0) {
                              if(slicerBooleans[i] == 'True'){
                                html = html + `<option value="" selected>All</option>`
                              }
                            }
                          }
                          for(let j = 0; j < slicerParameterValues[i].length; j++) {
                            if(slicerParameterValues[i][j] != ''){
                            html = html + `<option value="${slicerParameterValues[i][j]}">${slicerParameterValues[i][j]}</option>`
                            }
                          }
                        html = html +
                        `</select>
                      </div>
                      `
                    }
                    $('#tabellipse067408776838289011' ).find('.card-tools').append(html);
                    $('#tabellipse067408776838289011' ).find('.card-tools').find('select').each(function(){
    parent = $(this).parent()
    $(this).select2({dropdownParent:parent})
  })
                    $('#tabellipse067408776838289011' ).find('.card-tools.tabCardTools').find('.select2').parent().find(".select2-container").css("max-height","55px");
                    $('#tabellipse067408776838289011' ).find('.card-tools.tabCardTools').find('.select2').parent().find(".select2-container").css("overflow-y","scroll");
                    slicerChangeUpdatePlots();
                  }
                },
                error: function () {
                  Swal.fire({icon: 'error',text: 'Error! Failure in fetching the columns. Please try again.'});
                }
              });
            });
          </script><script>
        $(`#AddCommentellipse067408776838289011`).click(function(){
          var id_ = ('analysisEditor' + Math.random()).replace('.',"");// $(this).attr('id').split('AddComment')[1];
          $(this).parent().parent().next().append(`
                  <div class="small-box commentboxcard" data-id="${id_}" id = "${id_}" onmouseenter="showTool.call(this)" onmouseleave="hideTool.call(this)" style="min-height:6rem;min-width:6rem;height:6rem;width:9rem;" >
                    <div class="row"  style="position:absolute; margin-left:100%; display:none;flex-wrap:wrap;">
                      <i class="fa fa-times deleteCommentBox" title="Delete" style="font-size:1rem;margin-right:0.5rem;margin-left:1px;margin-bottom:2px;"></i>
                      <i class='fas fa-edit' onclick="ckEditorFunc.call(this)" style="font-size:1rem;margin-right:0.5rem;margin-bottom:2px;"></i>
                      <i class="fa fa-arrows" style="font-size:1rem;margin-right:0.5rem;"></i>
                    </div>
                    <div class="commentbox contentEditable" name="comment" style="margin-top:1rem;max-height: 75%;padding: 0.3em 0.5em 0 0.5em;background-color: transparent;text-align: left;overflow-y: auto;">

                    </div>
                  </div>`)
          $(".commentboxcard").resizable();
          $('.contentEditable').each(function () {
              $(this).on('click', function () {
                $(this).attr("contenteditable", "true")
                $(this).focus()
              })
              $(this).focusout(function () {
                  var content = this.innerText
                  content = content.trim()
                  if (content.length == 0){
                    this.innerText = "Enter text here."
                    $(this).removeAttr("contenteditable");
                    $(this).trigger("click")
                  }
                  else{
                  $(this).removeAttr("contenteditable");
                  }
              })
            })
        $('.deleteCommentBox').click(function () {
            $(this).parent().parent().remove()
        })
        $(".commentboxcard").draggable({
            cancel: '',
            containment: "parent",
        });
      })
      $("#analysisPDFellipse067408776838289011").click(async function() {
        function sleep(ms) {
          return new Promise(resolve => setTimeout(resolve, ms));
        }var buttonText = $(this).html()
          $(this).html(`<i class="fa fa-circle-notch fa-spin"></i> Loading`);
          $(this).parent().attr("data-html2canvas-ignore", true);
          $('.nav-tabs').attr("data-html2canvas-ignore", true);
          $(`#${$(this).parent().parent().next().attr('id')}`).css('border','none')
          var layout_old = $(`#${$(this).parent().parent().next().attr('id')}`).attr('data-layout')
          $('.tab-content').find('.tab-pane').find('.card-body').find('.tab-content').find('.tab-pane').find('.chartDivSection').find('.charts').find('.card-header').find('.row').find('i').css('display','none')
          $('body').css('pointer-events','none')
          $('body').css('background-color','black')
          $('body').css('opacity',0.5)
          $('body').css('overflow-y','hidden')
          $(document).scrollTop(0);
          await sleep(1000);
          page_section = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent();
          HTML_Width = page_section.width();
          HTML_Height = page_section.height();
          top_left_margin = 5;
          PDF_Width = HTML_Width + (top_left_margin * 2);
          PDF_Height = (PDF_Width * 1.2) + (top_left_margin * 2);
          pdfName=$(`#${$(this).attr('data-tabHeaderID')}`).text()

          var wid = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0].offsetWidth
          var hei = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0].offsetHeight
          await html2canvas($(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0], { allowTaint: true }).then(function(canvas) {
            canvas_image_height= HTML_Height
            canvas_image_width=HTML_Width
            var imgData = canvas.toDataURL('image/png');
            var doc = new jsPDF("l","px",[wid,hei]);
            doc.addImage(imgData, 'PNG',0,0,doc.internal.pageSize.width, doc.internal.pageSize.height);
            doc.save(pdfName);
            $('.tab-content').find('.tab-pane').find('.card-body').find('.tab-content').find('.tab-pane').find('.chartDivSection').find('.charts').find('.card-header').find('.row').find('i').css('display','inline-block')
          });
          $(this).empty()
          $(this).html(buttonText)
          if(layout_old != "No layout"){
          $(`#${$(this).parent().parent().next().attr('id')}`).css('border',"solid black 0.1px")
          }
          $('.nav-tabs').removeAttr("data-html2canvas-ignore");
          $(this).parent().removeAttr("data-html2canvas-ignore");
          $('body').css('pointer-events','')
          $('body').css('background-color','')
          $('body').css('opacity','')
          $('body').css('overflow-y','')

      });
      </script> <script>
        function fetchSlicerParams(app_code = ""){
          $(".analysisSlicerTable").off('select2:select').on('select2:select', function(){
            let tableNameSlicer = $(this).val();
            let closestAnalysisParameter = $(this).parent().parent().find(".form-group").eq(1).find(".analysisSlicerParameter");
            if (tableNameSlicer != "") {
              let url_string = window.location.pathname
              let f_occ = url_string.indexOf('/', url_string.indexOf('/') + 1)
              let s_occ = url_string.indexOf('/', url_string.indexOf('/') + f_occ +1)
              let t_occ = url_string.indexOf('/', url_string.indexOf('/') + s_occ +1)
              let app_code2 = url_string.substring(f_occ+1,s_occ)
              let current_dev_mode2 = url_string.substring(s_occ+1,t_occ)
              if(current_dev_mode2 != 'Build' && current_dev_mode2 != 'Edit'){
                current_dev_mode2 = 'User'
              }
              if (app_code == ""){
                if($("body").find("div").eq(0).attr("app_code") != undefined){
                  app_code = $("body").find("div").eq(0).attr("app_code")
                } else if($(this).closest(".chartDivSection").attr("app_code") != undefined){
                  app_code = $(this).closest(".chartDivSection").attr("app_code");
                }
              }
              $.ajax({
                url: `/users/${urlPath}/processGraphModule/`,

                data: {
                  'operation': 'dropFieldList',
                  'app_code': app_code,
                  'tableName':tableNameSlicer,
                },
                type: "POST",
                dataType: "json",
                success: function (data) {
                  if (data.fieldList.length > 0) {
                    closestAnalysisParameter.empty();
                    closestAnalysisParameter.append("<option value=''>Select slicer parameter</option>");
                    for (var i = 0; i < data.fieldList.length; i++) {
                      closestAnalysisParameter.append(new Option(data.fieldList[i], data.fieldNameList[i]));
                    }
                    if(closestAnalysisParameter.attr('data-slicerParam') != undefined){
                      var slicerParameter = closestAnalysisParameter.attr('data-slicerParam')
                      closestAnalysisParameter.val(slicerParameter).trigger('change');
                      closestAnalysisParameter.removeAttr('data-slicerParam')
                    }
                  }
                },
                error: function () {
                  Swal.fire({icon: 'error',text: 'Error! Failure in fetching the columns. Please try again.'});
                }
              });
            } else {
              closestAnalysisParameter.empty();
              closestAnalysisParameter.append("<option value=''>Select slicer parameter</option>");
            }
          });
        }
        fetchSlicerParams()
        function addSlicers(analysisElementId, tabId){
          $(`#slicerConfigCard${analysisElementId}${tabId}`).append(`
            <div class="card" data-slicer_class="selectSlicerConfig_ellipse067408776838289012" >
              <div class="card-header">
                <button type="button" class="btn removeSlicer" onclick="removeSlicer.call(this)"><i class="far fa-trash-alt" style="color:var(--primary-color);"></i> Remove slicer</button>
              </div>
              <div class="card-body">
                <div class="form-group">
                  <label for="analysisSlicerTable">Source table:
                  </label>
                  <select  class="select2 form-control analysisSlicerTable" name="analysisSlicerTable">
                    <option value="">Select source table</option>  <option value="Asset_Class_Master">Asset_Class_Master</option>  <option value="Test_date_table">Test_date_table</option>  <option value="City_Master">City_Master</option>  <option value="Dummy_concat_tabble">Dummy_concat_tabble</option>  <option value="loss_data2">loss_data2</option>  <option value="Loss_data">Loss_data</option>  <option value="Trade_value">Trade_value</option>  <option value="Bank_loss_data">Bank_loss_data</option>  <option value="dummy_concat_table2">dummy_concat_table2</option>  <option value="attribute_master">attribute_master</option>  <option value="Test_table_23">Test_table_23</option>  <option value="Product_Master_2">Product_Master_2</option>  <option value="Loss_data2_replica">Loss_data2_replica</option>  <option value="Simulated_loss_amount_Final">Simulated_loss_amount_Final</option>  <option value="UserProfile">UserProfile</option>  <option value="Complain_Register_Table">Complain_Register_Table</option>  <option value="loss_data2_scenario">loss_data2_scenario</option>  <option value="Loss_dataset">Loss_dataset</option>  <option value="pool_master">pool_master</option>  <option value="Aggreagted_bank_loss_data">Aggreagted_bank_loss_data</option>  <option value="Product_Master">Product_Master</option>  <option value="Onboarding_details">Onboarding_details</option>  <option value="Trade_entry">Trade_entry</option>  <option value="concat_table">concat_table</option>  <option value="Measures_Master">Measures_Master</option>       </select>
                    </div>
                    <div class="form-group">
                      <label for="analysisSlicerParameter">Slicer parameter:
                      </label>
                      <select  class="select2 form-control analysisSlicerParameter" name="analysisSlicerParameter">
                        <option value="">Select slicer parameter</option>
                      </select>
                    </div>
                    <div class = "form-group">
                      <label for="analysisSlicerBoolean">
                      <input type="checkbox" class="analysisSlicerBoolean" name="analysisSlicerBoolean" value="True">
                      Add default option for all values</label>
                    </div>
                    <div class="form-group">
                      <label>
                      <input class="mulcheckbox" type="checkbox">
                      Multiselect Slicer</label>
                    </div>
                  </div>
                </div>
                `)

                $(`#slicerConfigCard${analysisElementId}${tabId}`).find('.card').eq(-1).find(".card-body").find('select').each(function(){
    parent = $(this).parent()
    $(this).select2({dropdownParent:parent})
  })
                fetchSlicerParams();
            }

            function removeSlicer(){
              $(this).parent().parent().remove();
            }

            $('#saveTabSlicerConfigellipse067408776838289012' ).on('click', function(){
              var tabDict={
                "TabID":('2'),
                "slicerTable":[],
                "slicerParameter":[],
                "slicerBoolean":[],
                "slicerReload" : [],
                "multipleSlicer":[]
              }
              $('#slicerConfigCardellipse067408776838289012' ).find('.card').find('.analysisSlicerTable').each(function() {
                tabDict["slicerTable"].push($(this).val())
              })
              $('#slicerConfigCardellipse067408776838289012' ).find('.card').find('.analysisSlicerParameter').each(function() {
                tabDict["slicerParameter"].push($(this).val())
              })
              $('#slicerConfigCardellipse067408776838289012' ).find('.card').find('.mulcheckbox').each(function() {
                if ($(this).is(":checked")){
                  tabDict["multipleSlicer"].push(true);
                }else{
                  tabDict["multipleSlicer"].push(false);
                }
              })
              $('#slicerConfigCardellipse067408776838289012' ).find('.card').find('.analysisSlicerBoolean').each(function() {
                if ($(this).is(":checked")){
                  tabDict["slicerBoolean"].push("True")
                }else {
                  tabDict["slicerBoolean"].push("False")
                }
              });
              url_string = window.location.pathname
              f_occ = url_string.indexOf('/', url_string.indexOf('/') + 1)
              s_occ = url_string.indexOf('/', url_string.indexOf('/') + f_occ +1)
              t_occ = url_string.indexOf('/', url_string.indexOf('/') + s_occ +1)
              app_code2 = url_string.substring(f_occ+1,s_occ)
              current_dev_mode2 = url_string.substring(s_occ+1,t_occ)
              if(current_dev_mode2 != 'Build' && current_dev_mode2 != 'Edit'){
                current_dev_mode2 = 'User'
              }
              $.ajax({
                url: `/users/${urlPath}/processGraphModule/`,
                data: {
                  'tab_slicer_config': JSON.stringify(tabDict),
                  'element_id': 'ellipse06740877683828901',
                  'tab_id': '2',
                  'operation': 'saveAnalysisSlicerConfigL3',
                },

                type: "POST",
                dataType: "json",
                success: function (data) {
                  $('#tabellipse067408776838289012' ).find('.card-tools').empty();
                  $('#tabellipse067408776838289012' ).find('.card-tools').append(`<button type="button" value="AddComment" class="btn btn-primary commentButton btn-xs" id="AddCommentellipse067408776838289012"   data-toggle="tooltip" title="Add comment" style="height: 25px;border-radius:5px;border-color:none;color:white;margin-top:10px; margin-bottom:10px"><i class='far fa-comment-dots' style="font-size:1rem;"></i></button>&nbsp;<button type="button" value="PDF" class=" btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289012"  id='analysisPDFellipse067408776838289012'  style=" color:#ffffff;background-color:rgba(86,90,94,0);border-style:none;border-width:;border-color:#000000;font-size:none;border-radius:5px;margin-right:5px;margin-top:10px; margin-bottom:10px" onMouseOver='' onMouseOut=''><i class='fas fa-file-invoice listoficons' style='color:#1d3b58'></i> </button><button type="button" value="slicerConfig" class="btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289012"  id='slicerConfigellipse067408776838289012'  data-toggle="modal" data-target="#slicerConfigModalellipse067408776838289012"  style="height: 25px;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px; margin-right:10px; margin-top:10px; margin-bottom:10px"><i class="fas fa-filter"></i>&nbsp;Slicer</button> `);

                  let tabSlicerConfig = data['2'];
                  let analysis_additional_config = tabSlicerConfig.analysis_additional_config;
                  if (analysis_additional_config == "slicer_config") {
                    let slicerTables = tabSlicerConfig.slicerTable;
                    let slicerParameters = tabSlicerConfig.slicerParameter;
                    let slicerBooleans = tabSlicerConfig.slicerBoolean;
                    let slicerParameterValues = tabSlicerConfig.slicer_parameter_values;
                    let slicerReloadValue = tabSlicerConfig.slicerReload;
                    let multipleSlicer = tabSlicerConfig.multipleSlicer;
                    var html = '';
                    for(let i = 0; i < slicerParameterValues.length; i++) {
                      let attr_ = 'data-value = ""'
                      let multiple = "";
                      if(slicerReloadValue != undefined){
                        if (slicerReloadValue.length != 0) {
                          attr_ = 'data-value' + `= '${JSON.stringify(slicerReloadValue[i])}'`
                        }
                      }
                      if(multipleSlicer != undefined){
                        if(multipleSlicer.length > 0){
                          if(multipleSlicer[i]){
                            multiple = "multiple";
                          }
                        }
                      }
                      html = html + `
                      <div class="form-inline">
                        <span style="color:var(--primary-color); margin-right:10px; margin-left:10px;">${mapDict[i][slicerParameters[i]]}:</span>

                        <select class="selectSlicerConfig_ellipse067408776838289012  select2 form-control slicerParamValueellipse06740877683828901 data-tab='2' data-slicertable="${slicerTables[i]}" data-slicerColumn= "${slicerParameters[i]}" ${attr_} data-id="selectSlicerConfig_ellipse067408776838289012"  style="width:150px;display:inline-block;" ${multiple}>`
                          if(slicerBooleans != undefined){
                            if (slicerBooleans.length != 0) {
                              if(slicerBooleans[i] == 'True'){
                                html = html + `<option value="" selected>All</option>`
                              }
                            }
                          }
                          for(let j = 0; j < slicerParameterValues[i].length; j++) {
                            if(slicerParameterValues[i][j] != ''){
                            html = html + `<option value="${slicerParameterValues[i][j]}">${slicerParameterValues[i][j]}</option>`
                            }
                          }
                        html = html +
                        `</select>
                      </div>
                      `
                    }
                    $('#tabellipse067408776838289012' ).find('.card-tools').append(html);
                    $('#tabellipse067408776838289012' ).find('.card-tools').find('select').each(function(){
    parent = $(this).parent()
    $(this).select2({dropdownParent:parent})
  })
                    $('#tabellipse067408776838289012' ).find('.card-tools.tabCardTools').find('.select2').parent().find(".select2-container").css("max-height","55px");
                    $('#tabellipse067408776838289012' ).find('.card-tools.tabCardTools').find('.select2').parent().find(".select2-container").css("overflow-y","scroll");
                    slicerChangeUpdatePlots();
                  }
                },
                error: function () {
                  Swal.fire({icon: 'error',text: 'Error! Failure in fetching the columns. Please try again.'});
                }
              });
            });
          </script><script>
        $(`#AddCommentellipse067408776838289012`).click(function(){
          var id_ = ('analysisEditor' + Math.random()).replace('.',"");// $(this).attr('id').split('AddComment')[1];
          $(this).parent().parent().next().append(`
                  <div class="small-box commentboxcard" data-id="${id_}" id = "${id_}" onmouseenter="showTool.call(this)" onmouseleave="hideTool.call(this)" style="min-height:6rem;min-width:6rem;height:6rem;width:9rem;" >
                    <div class="row"  style="position:absolute; margin-left:100%; display:none;flex-wrap:wrap;">
                      <i class="fa fa-times deleteCommentBox" title="Delete" style="font-size:1rem;margin-right:0.5rem;margin-left:1px;margin-bottom:2px;"></i>
                      <i class='fas fa-edit' onclick="ckEditorFunc.call(this)" style="font-size:1rem;margin-right:0.5rem;margin-bottom:2px;"></i>
                      <i class="fa fa-arrows" style="font-size:1rem;margin-right:0.5rem;"></i>
                    </div>
                    <div class="commentbox contentEditable" name="comment" style="margin-top:1rem;max-height: 75%;padding: 0.3em 0.5em 0 0.5em;background-color: transparent;text-align: left;overflow-y: auto;">

                    </div>
                  </div>`)
          $(".commentboxcard").resizable();
          $('.contentEditable').each(function () {
              $(this).on('click', function () {
                $(this).attr("contenteditable", "true")
                $(this).focus()
              })
              $(this).focusout(function () {
                  var content = this.innerText
                  content = content.trim()
                  if (content.length == 0){
                    this.innerText = "Enter text here."
                    $(this).removeAttr("contenteditable");
                    $(this).trigger("click")
                  }
                  else{
                  $(this).removeAttr("contenteditable");
                  }
              })
            })
        $('.deleteCommentBox').click(function () {
            $(this).parent().parent().remove()
        })
        $(".commentboxcard").draggable({
            cancel: '',
            containment: "parent",
        });
      })
      $("#analysisPDFellipse067408776838289012").click(async function() {
        function sleep(ms) {
          return new Promise(resolve => setTimeout(resolve, ms));
        }var buttonText = $(this).html()
          $(this).html(`<i class="fa fa-circle-notch fa-spin"></i> Loading`);
          $(this).parent().attr("data-html2canvas-ignore", true);
          $('.nav-tabs').attr("data-html2canvas-ignore", true);
          $(`#${$(this).parent().parent().next().attr('id')}`).css('border','none')
          var layout_old = $(`#${$(this).parent().parent().next().attr('id')}`).attr('data-layout')
          $('.tab-content').find('.tab-pane').find('.card-body').find('.tab-content').find('.tab-pane').find('.chartDivSection').find('.charts').find('.card-header').find('.row').find('i').css('display','none')
          $('body').css('pointer-events','none')
          $('body').css('background-color','black')
          $('body').css('opacity',0.5)
          $('body').css('overflow-y','hidden')
          $(document).scrollTop(0);
          await sleep(1000);
          page_section = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent();
          HTML_Width = page_section.width();
          HTML_Height = page_section.height();
          top_left_margin = 5;
          PDF_Width = HTML_Width + (top_left_margin * 2);
          PDF_Height = (PDF_Width * 1.2) + (top_left_margin * 2);
          pdfName=$(`#${$(this).attr('data-tabHeaderID')}`).text()

          var wid = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0].offsetWidth
          var hei = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0].offsetHeight
          await html2canvas($(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0], { allowTaint: true }).then(function(canvas) {
            canvas_image_height= HTML_Height
            canvas_image_width=HTML_Width
            var imgData = canvas.toDataURL('image/png');
            var doc = new jsPDF("l","px",[wid,hei]);
            doc.addImage(imgData, 'PNG',0,0,doc.internal.pageSize.width, doc.internal.pageSize.height);
            doc.save(pdfName);
            $('.tab-content').find('.tab-pane').find('.card-body').find('.tab-content').find('.tab-pane').find('.chartDivSection').find('.charts').find('.card-header').find('.row').find('i').css('display','inline-block')
          });
          $(this).empty()
          $(this).html(buttonText)
          if(layout_old != "No layout"){
          $(`#${$(this).parent().parent().next().attr('id')}`).css('border',"solid black 0.1px")
          }
          $('.nav-tabs').removeAttr("data-html2canvas-ignore");
          $(this).parent().removeAttr("data-html2canvas-ignore");
          $('body').css('pointer-events','')
          $('body').css('background-color','')
          $('body').css('opacity','')
          $('body').css('overflow-y','')

      });
      </script> <script>
        function fetchSlicerParams(app_code = ""){
          $(".analysisSlicerTable").off('select2:select').on('select2:select', function(){
            let tableNameSlicer = $(this).val();
            let closestAnalysisParameter = $(this).parent().parent().find(".form-group").eq(1).find(".analysisSlicerParameter");
            if (tableNameSlicer != "") {
              let url_string = window.location.pathname
              let f_occ = url_string.indexOf('/', url_string.indexOf('/') + 1)
              let s_occ = url_string.indexOf('/', url_string.indexOf('/') + f_occ +1)
              let t_occ = url_string.indexOf('/', url_string.indexOf('/') + s_occ +1)
              let app_code2 = url_string.substring(f_occ+1,s_occ)
              let current_dev_mode2 = url_string.substring(s_occ+1,t_occ)
              if(current_dev_mode2 != 'Build' && current_dev_mode2 != 'Edit'){
                current_dev_mode2 = 'User'
              }
              if (app_code == ""){
                if($("body").find("div").eq(0).attr("app_code") != undefined){
                  app_code = $("body").find("div").eq(0).attr("app_code")
                } else if($(this).closest(".chartDivSection").attr("app_code") != undefined){
                  app_code = $(this).closest(".chartDivSection").attr("app_code");
                }
              }
              $.ajax({
                url: `/users/${urlPath}/processGraphModule/`,

                data: {
                  'operation': 'dropFieldList',
                  'app_code': app_code,
                  'tableName':tableNameSlicer,
                },
                type: "POST",
                dataType: "json",
                success: function (data) {
                  if (data.fieldList.length > 0) {
                    closestAnalysisParameter.empty();
                    closestAnalysisParameter.append("<option value=''>Select slicer parameter</option>");
                    for (var i = 0; i < data.fieldList.length; i++) {
                      closestAnalysisParameter.append(new Option(data.fieldList[i], data.fieldNameList[i]));
                    }
                    if(closestAnalysisParameter.attr('data-slicerParam') != undefined){
                      var slicerParameter = closestAnalysisParameter.attr('data-slicerParam')
                      closestAnalysisParameter.val(slicerParameter).trigger('change');
                      closestAnalysisParameter.removeAttr('data-slicerParam')
                    }
                  }
                },
                error: function () {
                  Swal.fire({icon: 'error',text: 'Error! Failure in fetching the columns. Please try again.'});
                }
              });
            } else {
              closestAnalysisParameter.empty();
              closestAnalysisParameter.append("<option value=''>Select slicer parameter</option>");
            }
          });
        }
        fetchSlicerParams()
        function addSlicers(analysisElementId, tabId){
          $(`#slicerConfigCard${analysisElementId}${tabId}`).append(`
            <div class="card" data-slicer_class="selectSlicerConfig_ellipse067408776838289013" >
              <div class="card-header">
                <button type="button" class="btn removeSlicer" onclick="removeSlicer.call(this)"><i class="far fa-trash-alt" style="color:var(--primary-color);"></i> Remove slicer</button>
              </div>
              <div class="card-body">
                <div class="form-group">
                  <label for="analysisSlicerTable">Source table:
                  </label>
                  <select  class="select2 form-control analysisSlicerTable" name="analysisSlicerTable">
                    <option value="">Select source table</option>  <option value="Asset_Class_Master">Asset_Class_Master</option>  <option value="Test_date_table">Test_date_table</option>  <option value="City_Master">City_Master</option>  <option value="Dummy_concat_tabble">Dummy_concat_tabble</option>  <option value="loss_data2">loss_data2</option>  <option value="Loss_data">Loss_data</option>  <option value="Trade_value">Trade_value</option>  <option value="Bank_loss_data">Bank_loss_data</option>  <option value="dummy_concat_table2">dummy_concat_table2</option>  <option value="attribute_master">attribute_master</option>  <option value="Test_table_23">Test_table_23</option>  <option value="Product_Master_2">Product_Master_2</option>  <option value="Loss_data2_replica">Loss_data2_replica</option>  <option value="Simulated_loss_amount_Final">Simulated_loss_amount_Final</option>  <option value="UserProfile">UserProfile</option>  <option value="Complain_Register_Table">Complain_Register_Table</option>  <option value="loss_data2_scenario">loss_data2_scenario</option>  <option value="Loss_dataset">Loss_dataset</option>  <option value="pool_master">pool_master</option>  <option value="Aggreagted_bank_loss_data">Aggreagted_bank_loss_data</option>  <option value="Product_Master">Product_Master</option>  <option value="Onboarding_details">Onboarding_details</option>  <option value="Trade_entry">Trade_entry</option>  <option value="concat_table">concat_table</option>  <option value="Measures_Master">Measures_Master</option>       </select>
                    </div>
                    <div class="form-group">
                      <label for="analysisSlicerParameter">Slicer parameter:
                      </label>
                      <select  class="select2 form-control analysisSlicerParameter" name="analysisSlicerParameter">
                        <option value="">Select slicer parameter</option>
                      </select>
                    </div>
                    <div class = "form-group">
                      <label for="analysisSlicerBoolean">
                      <input type="checkbox" class="analysisSlicerBoolean" name="analysisSlicerBoolean" value="True">
                      Add default option for all values</label>
                    </div>
                    <div class="form-group">
                      <label>
                      <input class="mulcheckbox" type="checkbox">
                      Multiselect Slicer</label>
                    </div>
                  </div>
                </div>
                `)

                $(`#slicerConfigCard${analysisElementId}${tabId}`).find('.card').eq(-1).find(".card-body").find('select').each(function(){
    parent = $(this).parent()
    $(this).select2({dropdownParent:parent})
  })
                fetchSlicerParams();
            }

            function removeSlicer(){
              $(this).parent().parent().remove();
            }

            $('#saveTabSlicerConfigellipse067408776838289013' ).on('click', function(){
              var tabDict={
                "TabID":('3'),
                "slicerTable":[],
                "slicerParameter":[],
                "slicerBoolean":[],
                "slicerReload" : [],
                "multipleSlicer":[]
              }
              $('#slicerConfigCardellipse067408776838289013' ).find('.card').find('.analysisSlicerTable').each(function() {
                tabDict["slicerTable"].push($(this).val())
              })
              $('#slicerConfigCardellipse067408776838289013' ).find('.card').find('.analysisSlicerParameter').each(function() {
                tabDict["slicerParameter"].push($(this).val())
              })
              $('#slicerConfigCardellipse067408776838289013' ).find('.card').find('.mulcheckbox').each(function() {
                if ($(this).is(":checked")){
                  tabDict["multipleSlicer"].push(true);
                }else{
                  tabDict["multipleSlicer"].push(false);
                }
              })
              $('#slicerConfigCardellipse067408776838289013' ).find('.card').find('.analysisSlicerBoolean').each(function() {
                if ($(this).is(":checked")){
                  tabDict["slicerBoolean"].push("True")
                }else {
                  tabDict["slicerBoolean"].push("False")
                }
              });
              url_string = window.location.pathname
              f_occ = url_string.indexOf('/', url_string.indexOf('/') + 1)
              s_occ = url_string.indexOf('/', url_string.indexOf('/') + f_occ +1)
              t_occ = url_string.indexOf('/', url_string.indexOf('/') + s_occ +1)
              app_code2 = url_string.substring(f_occ+1,s_occ)
              current_dev_mode2 = url_string.substring(s_occ+1,t_occ)
              if(current_dev_mode2 != 'Build' && current_dev_mode2 != 'Edit'){
                current_dev_mode2 = 'User'
              }
              $.ajax({
                url: `/users/${urlPath}/processGraphModule/`,
                data: {
                  'tab_slicer_config': JSON.stringify(tabDict),
                  'element_id': 'ellipse06740877683828901',
                  'tab_id': '3',
                  'operation': 'saveAnalysisSlicerConfigL3',
                },

                type: "POST",
                dataType: "json",
                success: function (data) {
                  $('#tabellipse067408776838289013' ).find('.card-tools').empty();
                  $('#tabellipse067408776838289013' ).find('.card-tools').append(`<button type="button" value="AddComment" class="btn btn-primary commentButton btn-xs" id="AddCommentellipse067408776838289013"   data-toggle="tooltip" title="Add comment" style="height: 25px;border-radius:5px;border-color:none;color:white;margin-top:10px; margin-bottom:10px"><i class='far fa-comment-dots' style="font-size:1rem;"></i></button>&nbsp;<button type="button" value="PDF" class=" btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289013"  id='analysisPDFellipse067408776838289013'  style=" color:#ffffff;background-color:rgba(86,90,94,0);border-style:none;border-width:;border-color:#000000;font-size:none;border-radius:5px;margin-right:5px;margin-top:10px; margin-bottom:10px" onMouseOver='' onMouseOut=''><i class='fas fa-file-invoice listoficons' style='color:#1d3b58'></i> </button><button type="button" value="slicerConfig" class="btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289013"  id='slicerConfigellipse067408776838289013'  data-toggle="modal" data-target="#slicerConfigModalellipse067408776838289013"  style="height: 25px;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px; margin-right:10px; margin-top:10px; margin-bottom:10px"><i class="fas fa-filter"></i>&nbsp;Slicer</button> `);

                  let tabSlicerConfig = data['3'];
                  let analysis_additional_config = tabSlicerConfig.analysis_additional_config;
                  if (analysis_additional_config == "slicer_config") {
                    let slicerTables = tabSlicerConfig.slicerTable;
                    let slicerParameters = tabSlicerConfig.slicerParameter;
                    let slicerBooleans = tabSlicerConfig.slicerBoolean;
                    let slicerParameterValues = tabSlicerConfig.slicer_parameter_values;
                    let slicerReloadValue = tabSlicerConfig.slicerReload;
                    let multipleSlicer = tabSlicerConfig.multipleSlicer;
                    var html = '';
                    for(let i = 0; i < slicerParameterValues.length; i++) {
                      let attr_ = 'data-value = ""'
                      let multiple = "";
                      if(slicerReloadValue != undefined){
                        if (slicerReloadValue.length != 0) {
                          attr_ = 'data-value' + `= '${JSON.stringify(slicerReloadValue[i])}'`
                        }
                      }
                      if(multipleSlicer != undefined){
                        if(multipleSlicer.length > 0){
                          if(multipleSlicer[i]){
                            multiple = "multiple";
                          }
                        }
                      }
                      html = html + `
                      <div class="form-inline">
                        <span style="color:var(--primary-color); margin-right:10px; margin-left:10px;">${mapDict[i][slicerParameters[i]]}:</span>

                        <select class="selectSlicerConfig_ellipse067408776838289013  select2 form-control slicerParamValueellipse06740877683828901 data-tab='3' data-slicertable="${slicerTables[i]}" data-slicerColumn= "${slicerParameters[i]}" ${attr_} data-id="selectSlicerConfig_ellipse067408776838289013"  style="width:150px;display:inline-block;" ${multiple}>`
                          if(slicerBooleans != undefined){
                            if (slicerBooleans.length != 0) {
                              if(slicerBooleans[i] == 'True'){
                                html = html + `<option value="" selected>All</option>`
                              }
                            }
                          }
                          for(let j = 0; j < slicerParameterValues[i].length; j++) {
                            if(slicerParameterValues[i][j] != ''){
                            html = html + `<option value="${slicerParameterValues[i][j]}">${slicerParameterValues[i][j]}</option>`
                            }
                          }
                        html = html +
                        `</select>
                      </div>
                      `
                    }
                    $('#tabellipse067408776838289013' ).find('.card-tools').append(html);
                    $('#tabellipse067408776838289013' ).find('.card-tools').find('select').each(function(){
    parent = $(this).parent()
    $(this).select2({dropdownParent:parent})
  })
                    $('#tabellipse067408776838289013' ).find('.card-tools.tabCardTools').find('.select2').parent().find(".select2-container").css("max-height","55px");
                    $('#tabellipse067408776838289013' ).find('.card-tools.tabCardTools').find('.select2').parent().find(".select2-container").css("overflow-y","scroll");
                    slicerChangeUpdatePlots();
                  }
                },
                error: function () {
                  Swal.fire({icon: 'error',text: 'Error! Failure in fetching the columns. Please try again.'});
                }
              });
            });
          </script><script>
        $(`#AddCommentellipse067408776838289013`).click(function(){
          var id_ = ('analysisEditor' + Math.random()).replace('.',"");// $(this).attr('id').split('AddComment')[1];
          $(this).parent().parent().next().append(`
                  <div class="small-box commentboxcard" data-id="${id_}" id = "${id_}" onmouseenter="showTool.call(this)" onmouseleave="hideTool.call(this)" style="min-height:6rem;min-width:6rem;height:6rem;width:9rem;" >
                    <div class="row"  style="position:absolute; margin-left:100%; display:none;flex-wrap:wrap;">
                      <i class="fa fa-times deleteCommentBox" title="Delete" style="font-size:1rem;margin-right:0.5rem;margin-left:1px;margin-bottom:2px;"></i>
                      <i class='fas fa-edit' onclick="ckEditorFunc.call(this)" style="font-size:1rem;margin-right:0.5rem;margin-bottom:2px;"></i>
                      <i class="fa fa-arrows" style="font-size:1rem;margin-right:0.5rem;"></i>
                    </div>
                    <div class="commentbox contentEditable" name="comment" style="margin-top:1rem;max-height: 75%;padding: 0.3em 0.5em 0 0.5em;background-color: transparent;text-align: left;overflow-y: auto;">

                    </div>
                  </div>`)
          $(".commentboxcard").resizable();
          $('.contentEditable').each(function () {
              $(this).on('click', function () {
                $(this).attr("contenteditable", "true")
                $(this).focus()
              })
              $(this).focusout(function () {
                  var content = this.innerText
                  content = content.trim()
                  if (content.length == 0){
                    this.innerText = "Enter text here."
                    $(this).removeAttr("contenteditable");
                    $(this).trigger("click")
                  }
                  else{
                  $(this).removeAttr("contenteditable");
                  }
              })
            })
        $('.deleteCommentBox').click(function () {
            $(this).parent().parent().remove()
        })
        $(".commentboxcard").draggable({
            cancel: '',
            containment: "parent",
        });
      })
      $("#analysisPDFellipse067408776838289013").click(async function() {
        function sleep(ms) {
          return new Promise(resolve => setTimeout(resolve, ms));
        }var buttonText = $(this).html()
          $(this).html(`<i class="fa fa-circle-notch fa-spin"></i> Loading`);
          $(this).parent().attr("data-html2canvas-ignore", true);
          $('.nav-tabs').attr("data-html2canvas-ignore", true);
          $(`#${$(this).parent().parent().next().attr('id')}`).css('border','none')
          var layout_old = $(`#${$(this).parent().parent().next().attr('id')}`).attr('data-layout')
          $('.tab-content').find('.tab-pane').find('.card-body').find('.tab-content').find('.tab-pane').find('.chartDivSection').find('.charts').find('.card-header').find('.row').find('i').css('display','none')
          $('body').css('pointer-events','none')
          $('body').css('background-color','black')
          $('body').css('opacity',0.5)
          $('body').css('overflow-y','hidden')
          $(document).scrollTop(0);
          await sleep(1000);
          page_section = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent();
          HTML_Width = page_section.width();
          HTML_Height = page_section.height();
          top_left_margin = 5;
          PDF_Width = HTML_Width + (top_left_margin * 2);
          PDF_Height = (PDF_Width * 1.2) + (top_left_margin * 2);
          pdfName=$(`#${$(this).attr('data-tabHeaderID')}`).text()

          var wid = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0].offsetWidth
          var hei = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0].offsetHeight
          await html2canvas($(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0], { allowTaint: true }).then(function(canvas) {
            canvas_image_height= HTML_Height
            canvas_image_width=HTML_Width
            var imgData = canvas.toDataURL('image/png');
            var doc = new jsPDF("l","px",[wid,hei]);
            doc.addImage(imgData, 'PNG',0,0,doc.internal.pageSize.width, doc.internal.pageSize.height);
            doc.save(pdfName);
            $('.tab-content').find('.tab-pane').find('.card-body').find('.tab-content').find('.tab-pane').find('.chartDivSection').find('.charts').find('.card-header').find('.row').find('i').css('display','inline-block')
          });
          $(this).empty()
          $(this).html(buttonText)
          if(layout_old != "No layout"){
          $(`#${$(this).parent().parent().next().attr('id')}`).css('border',"solid black 0.1px")
          }
          $('.nav-tabs').removeAttr("data-html2canvas-ignore");
          $(this).parent().removeAttr("data-html2canvas-ignore");
          $('body').css('pointer-events','')
          $('body').css('background-color','')
          $('body').css('opacity','')
          $('body').css('overflow-y','')

      });
      </script> <script>
        function fetchSlicerParams(app_code = ""){
          $(".analysisSlicerTable").off('select2:select').on('select2:select', function(){
            let tableNameSlicer = $(this).val();
            let closestAnalysisParameter = $(this).parent().parent().find(".form-group").eq(1).find(".analysisSlicerParameter");
            if (tableNameSlicer != "") {
              let url_string = window.location.pathname
              let f_occ = url_string.indexOf('/', url_string.indexOf('/') + 1)
              let s_occ = url_string.indexOf('/', url_string.indexOf('/') + f_occ +1)
              let t_occ = url_string.indexOf('/', url_string.indexOf('/') + s_occ +1)
              let app_code2 = url_string.substring(f_occ+1,s_occ)
              let current_dev_mode2 = url_string.substring(s_occ+1,t_occ)
              if(current_dev_mode2 != 'Build' && current_dev_mode2 != 'Edit'){
                current_dev_mode2 = 'User'
              }
              if (app_code == ""){
                if($("body").find("div").eq(0).attr("app_code") != undefined){
                  app_code = $("body").find("div").eq(0).attr("app_code")
                } else if($(this).closest(".chartDivSection").attr("app_code") != undefined){
                  app_code = $(this).closest(".chartDivSection").attr("app_code");
                }
              }
              $.ajax({
                url: `/users/${urlPath}/processGraphModule/`,

                data: {
                  'operation': 'dropFieldList',
                  'app_code': app_code,
                  'tableName':tableNameSlicer,
                },
                type: "POST",
                dataType: "json",
                success: function (data) {
                  if (data.fieldList.length > 0) {
                    closestAnalysisParameter.empty();
                    closestAnalysisParameter.append("<option value=''>Select slicer parameter</option>");
                    for (var i = 0; i < data.fieldList.length; i++) {
                      closestAnalysisParameter.append(new Option(data.fieldList[i], data.fieldNameList[i]));
                    }
                    if(closestAnalysisParameter.attr('data-slicerParam') != undefined){
                      var slicerParameter = closestAnalysisParameter.attr('data-slicerParam')
                      closestAnalysisParameter.val(slicerParameter).trigger('change');
                      closestAnalysisParameter.removeAttr('data-slicerParam')
                    }
                  }
                },
                error: function () {
                  Swal.fire({icon: 'error',text: 'Error! Failure in fetching the columns. Please try again.'});
                }
              });
            } else {
              closestAnalysisParameter.empty();
              closestAnalysisParameter.append("<option value=''>Select slicer parameter</option>");
            }
          });
        }
        fetchSlicerParams()
        function addSlicers(analysisElementId, tabId){
          $(`#slicerConfigCard${analysisElementId}${tabId}`).append(`
            <div class="card" data-slicer_class="selectSlicerConfig_ellipse067408776838289014" >
              <div class="card-header">
                <button type="button" class="btn removeSlicer" onclick="removeSlicer.call(this)"><i class="far fa-trash-alt" style="color:var(--primary-color);"></i> Remove slicer</button>
              </div>
              <div class="card-body">
                <div class="form-group">
                  <label for="analysisSlicerTable">Source table:
                  </label>
                  <select  class="select2 form-control analysisSlicerTable" name="analysisSlicerTable">
                    <option value="">Select source table</option>  <option value="Asset_Class_Master">Asset_Class_Master</option>  <option value="Test_date_table">Test_date_table</option>  <option value="City_Master">City_Master</option>  <option value="Dummy_concat_tabble">Dummy_concat_tabble</option>  <option value="loss_data2">loss_data2</option>  <option value="Loss_data">Loss_data</option>  <option value="Trade_value">Trade_value</option>  <option value="Bank_loss_data">Bank_loss_data</option>  <option value="dummy_concat_table2">dummy_concat_table2</option>  <option value="attribute_master">attribute_master</option>  <option value="Test_table_23">Test_table_23</option>  <option value="Product_Master_2">Product_Master_2</option>  <option value="Loss_data2_replica">Loss_data2_replica</option>  <option value="Simulated_loss_amount_Final">Simulated_loss_amount_Final</option>  <option value="UserProfile">UserProfile</option>  <option value="Complain_Register_Table">Complain_Register_Table</option>  <option value="loss_data2_scenario">loss_data2_scenario</option>  <option value="Loss_dataset">Loss_dataset</option>  <option value="pool_master">pool_master</option>  <option value="Aggreagted_bank_loss_data">Aggreagted_bank_loss_data</option>  <option value="Product_Master">Product_Master</option>  <option value="Onboarding_details">Onboarding_details</option>  <option value="Trade_entry">Trade_entry</option>  <option value="concat_table">concat_table</option>  <option value="Measures_Master">Measures_Master</option>       </select>
                    </div>
                    <div class="form-group">
                      <label for="analysisSlicerParameter">Slicer parameter:
                      </label>
                      <select  class="select2 form-control analysisSlicerParameter" name="analysisSlicerParameter">
                        <option value="">Select slicer parameter</option>
                      </select>
                    </div>
                    <div class = "form-group">
                      <label for="analysisSlicerBoolean">
                      <input type="checkbox" class="analysisSlicerBoolean" name="analysisSlicerBoolean" value="True">
                      Add default option for all values</label>
                    </div>
                    <div class="form-group">
                      <label>
                      <input class="mulcheckbox" type="checkbox">
                      Multiselect Slicer</label>
                    </div>
                  </div>
                </div>
                `)

                $(`#slicerConfigCard${analysisElementId}${tabId}`).find('.card').eq(-1).find(".card-body").find('select').each(function(){
    parent = $(this).parent()
    $(this).select2({dropdownParent:parent})
  })
                fetchSlicerParams();
            }

            function removeSlicer(){
              $(this).parent().parent().remove();
            }

            $('#saveTabSlicerConfigellipse067408776838289014' ).on('click', function(){
              var tabDict={
                "TabID":('4'),
                "slicerTable":[],
                "slicerParameter":[],
                "slicerBoolean":[],
                "slicerReload" : [],
                "multipleSlicer":[]
              }
              $('#slicerConfigCardellipse067408776838289014' ).find('.card').find('.analysisSlicerTable').each(function() {
                tabDict["slicerTable"].push($(this).val())
              })
              $('#slicerConfigCardellipse067408776838289014' ).find('.card').find('.analysisSlicerParameter').each(function() {
                tabDict["slicerParameter"].push($(this).val())
              })
              $('#slicerConfigCardellipse067408776838289014' ).find('.card').find('.mulcheckbox').each(function() {
                if ($(this).is(":checked")){
                  tabDict["multipleSlicer"].push(true);
                }else{
                  tabDict["multipleSlicer"].push(false);
                }
              })
              $('#slicerConfigCardellipse067408776838289014' ).find('.card').find('.analysisSlicerBoolean').each(function() {
                if ($(this).is(":checked")){
                  tabDict["slicerBoolean"].push("True")
                }else {
                  tabDict["slicerBoolean"].push("False")
                }
              });
              url_string = window.location.pathname
              f_occ = url_string.indexOf('/', url_string.indexOf('/') + 1)
              s_occ = url_string.indexOf('/', url_string.indexOf('/') + f_occ +1)
              t_occ = url_string.indexOf('/', url_string.indexOf('/') + s_occ +1)
              app_code2 = url_string.substring(f_occ+1,s_occ)
              current_dev_mode2 = url_string.substring(s_occ+1,t_occ)
              if(current_dev_mode2 != 'Build' && current_dev_mode2 != 'Edit'){
                current_dev_mode2 = 'User'
              }
              $.ajax({
                url: `/users/${urlPath}/processGraphModule/`,
                data: {
                  'tab_slicer_config': JSON.stringify(tabDict),
                  'element_id': 'ellipse06740877683828901',
                  'tab_id': '4',
                  'operation': 'saveAnalysisSlicerConfigL3',
                },

                type: "POST",
                dataType: "json",
                success: function (data) {
                  $('#tabellipse067408776838289014' ).find('.card-tools').empty();
                  $('#tabellipse067408776838289014' ).find('.card-tools').append(`<button type="button" value="AddComment" class="btn btn-primary commentButton btn-xs" id="AddCommentellipse067408776838289014"   data-toggle="tooltip" title="Add comment" style="height: 25px;border-radius:5px;border-color:none;color:white;margin-top:10px; margin-bottom:10px"><i class='far fa-comment-dots' style="font-size:1rem;"></i></button>&nbsp;<button type="button" value="PDF" class=" btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289014"  id='analysisPDFellipse067408776838289014'  style=" color:#ffffff;background-color:rgba(86,90,94,0);border-style:none;border-width:;border-color:#000000;font-size:none;border-radius:5px;margin-right:5px;margin-top:10px; margin-bottom:10px" onMouseOver='' onMouseOut=''><i class='fas fa-file-invoice listoficons' style='color:#1d3b58'></i> </button><button type="button" value="slicerConfig" class="btn btn-primary" data-tabHeaderID="tabHeaderellipse067408776838289014"  id='slicerConfigellipse067408776838289014'  data-toggle="modal" data-target="#slicerConfigModalellipse067408776838289014"  style="height: 25px;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px; margin-right:10px; margin-top:10px; margin-bottom:10px"><i class="fas fa-filter"></i>&nbsp;Slicer</button> `);

                  let tabSlicerConfig = data['4'];
                  let analysis_additional_config = tabSlicerConfig.analysis_additional_config;
                  if (analysis_additional_config == "slicer_config") {
                    let slicerTables = tabSlicerConfig.slicerTable;
                    let slicerParameters = tabSlicerConfig.slicerParameter;
                    let slicerBooleans = tabSlicerConfig.slicerBoolean;
                    let slicerParameterValues = tabSlicerConfig.slicer_parameter_values;
                    let slicerReloadValue = tabSlicerConfig.slicerReload;
                    let multipleSlicer = tabSlicerConfig.multipleSlicer;
                    var html = '';
                    for(let i = 0; i < slicerParameterValues.length; i++) {
                      let attr_ = 'data-value = ""'
                      let multiple = "";
                      if(slicerReloadValue != undefined){
                        if (slicerReloadValue.length != 0) {
                          attr_ = 'data-value' + `= '${JSON.stringify(slicerReloadValue[i])}'`
                        }
                      }
                      if(multipleSlicer != undefined){
                        if(multipleSlicer.length > 0){
                          if(multipleSlicer[i]){
                            multiple = "multiple";
                          }
                        }
                      }
                      html = html + `
                      <div class="form-inline">
                        <span style="color:var(--primary-color); margin-right:10px; margin-left:10px;">${mapDict[i][slicerParameters[i]]}:</span>

                        <select class="selectSlicerConfig_ellipse067408776838289014  select2 form-control slicerParamValueellipse06740877683828901 data-tab='4' data-slicertable="${slicerTables[i]}" data-slicerColumn= "${slicerParameters[i]}" ${attr_} data-id="selectSlicerConfig_ellipse067408776838289014"  style="width:150px;display:inline-block;" ${multiple}>`
                          if(slicerBooleans != undefined){
                            if (slicerBooleans.length != 0) {
                              if(slicerBooleans[i] == 'True'){
                                html = html + `<option value="" selected>All</option>`
                              }
                            }
                          }
                          for(let j = 0; j < slicerParameterValues[i].length; j++) {
                            if(slicerParameterValues[i][j] != ''){
                            html = html + `<option value="${slicerParameterValues[i][j]}">${slicerParameterValues[i][j]}</option>`
                            }
                          }
                        html = html +
                        `</select>
                      </div>
                      `
                    }
                    $('#tabellipse067408776838289014' ).find('.card-tools').append(html);
                    $('#tabellipse067408776838289014' ).find('.card-tools').find('select').each(function(){
    parent = $(this).parent()
    $(this).select2({dropdownParent:parent})
  })
                    $('#tabellipse067408776838289014' ).find('.card-tools.tabCardTools').find('.select2').parent().find(".select2-container").css("max-height","55px");
                    $('#tabellipse067408776838289014' ).find('.card-tools.tabCardTools').find('.select2').parent().find(".select2-container").css("overflow-y","scroll");
                    slicerChangeUpdatePlots();
                  }
                },
                error: function () {
                  Swal.fire({icon: 'error',text: 'Error! Failure in fetching the columns. Please try again.'});
                }
              });
            });
          </script><script>
        $(`#AddCommentellipse067408776838289014`).click(function(){
          var id_ = ('analysisEditor' + Math.random()).replace('.',"");// $(this).attr('id').split('AddComment')[1];
          $(this).parent().parent().next().append(`
                  <div class="small-box commentboxcard" data-id="${id_}" id = "${id_}" onmouseenter="showTool.call(this)" onmouseleave="hideTool.call(this)" style="min-height:6rem;min-width:6rem;height:6rem;width:9rem;" >
                    <div class="row"  style="position:absolute; margin-left:100%; display:none;flex-wrap:wrap;">
                      <i class="fa fa-times deleteCommentBox" title="Delete" style="font-size:1rem;margin-right:0.5rem;margin-left:1px;margin-bottom:2px;"></i>
                      <i class='fas fa-edit' onclick="ckEditorFunc.call(this)" style="font-size:1rem;margin-right:0.5rem;margin-bottom:2px;"></i>
                      <i class="fa fa-arrows" style="font-size:1rem;margin-right:0.5rem;"></i>
                    </div>
                    <div class="commentbox contentEditable" name="comment" style="margin-top:1rem;max-height: 75%;padding: 0.3em 0.5em 0 0.5em;background-color: transparent;text-align: left;overflow-y: auto;">

                    </div>
                  </div>`)
          $(".commentboxcard").resizable();
          $('.contentEditable').each(function () {
              $(this).on('click', function () {
                $(this).attr("contenteditable", "true")
                $(this).focus()
              })
              $(this).focusout(function () {
                  var content = this.innerText
                  content = content.trim()
                  if (content.length == 0){
                    this.innerText = "Enter text here."
                    $(this).removeAttr("contenteditable");
                    $(this).trigger("click")
                  }
                  else{
                  $(this).removeAttr("contenteditable");
                  }
              })
            })
        $('.deleteCommentBox').click(function () {
            $(this).parent().parent().remove()
        })
        $(".commentboxcard").draggable({
            cancel: '',
            containment: "parent",
        });
      })
      $("#analysisPDFellipse067408776838289014").click(async function() {
        function sleep(ms) {
          return new Promise(resolve => setTimeout(resolve, ms));
        }var buttonText = $(this).html()
          $(this).html(`<i class="fa fa-circle-notch fa-spin"></i> Loading`);
          $(this).parent().attr("data-html2canvas-ignore", true);
          $('.nav-tabs').attr("data-html2canvas-ignore", true);
          $(`#${$(this).parent().parent().next().attr('id')}`).css('border','none')
          var layout_old = $(`#${$(this).parent().parent().next().attr('id')}`).attr('data-layout')
          $('.tab-content').find('.tab-pane').find('.card-body').find('.tab-content').find('.tab-pane').find('.chartDivSection').find('.charts').find('.card-header').find('.row').find('i').css('display','none')
          $('body').css('pointer-events','none')
          $('body').css('background-color','black')
          $('body').css('opacity',0.5)
          $('body').css('overflow-y','hidden')
          $(document).scrollTop(0);
          await sleep(1000);
          page_section = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent();
          HTML_Width = page_section.width();
          HTML_Height = page_section.height();
          top_left_margin = 5;
          PDF_Width = HTML_Width + (top_left_margin * 2);
          PDF_Height = (PDF_Width * 1.2) + (top_left_margin * 2);
          pdfName=$(`#${$(this).attr('data-tabHeaderID')}`).text()

          var wid = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0].offsetWidth
          var hei = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0].offsetHeight
          await html2canvas($(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0], { allowTaint: true }).then(function(canvas) {
            canvas_image_height= HTML_Height
            canvas_image_width=HTML_Width
            var imgData = canvas.toDataURL('image/png');
            var doc = new jsPDF("l","px",[wid,hei]);
            doc.addImage(imgData, 'PNG',0,0,doc.internal.pageSize.width, doc.internal.pageSize.height);
            doc.save(pdfName);
            $('.tab-content').find('.tab-pane').find('.card-body').find('.tab-content').find('.tab-pane').find('.chartDivSection').find('.charts').find('.card-header').find('.row').find('i').css('display','inline-block')
          });
          $(this).empty()
          $(this).html(buttonText)
          if(layout_old != "No layout"){
          $(`#${$(this).parent().parent().next().attr('id')}`).css('border',"solid black 0.1px")
          }
          $('.nav-tabs').removeAttr("data-html2canvas-ignore");
          $(this).parent().removeAttr("data-html2canvas-ignore");
          $('body').css('pointer-events','')
          $('body').css('background-color','')
          $('body').css('opacity','')
          $('body').css('overflow-y','')

      });
      </script> <script>
        var elementIDList = []
        var analysisData_Raw;
        $(document).ready(function() {
            $(`#select2multiple_groupellipse06740877683828901`).select2({

            })
            })
            var element_id =  'ellipse06740877683828901'
            $(`#last_updated_time${element_id}`).text("00-00-00 00:00");
            $(`#analysisDashboard${element_id} .nav-tabs a`).first().tab('show');  $(`#plotCharts${element_id}`).click(function(event){
            var element_id =  'ellipse06740877683828901'
            $(`#plotCharts${element_id}`).off('click');
            event.preventDefault();
            analysisTabIDInitialisation($(this).attr('data-elementID'))
            $(`#PlotElements${element_id}`).modal('show');
            })

            $(`#analysisAddTabellipse06740877683828901`).click(function () {
            var element_id =  'ellipse06740877683828901'
            var tabID = String(Math.random()).replace('.','');
            var tabName = $('#analysisTabellipse06740877683828901').children("li").length+1;
            $(`#selectXYTab${element_id}`).append(`<option value="analysisrow${element_id}${tabID}">Tab${tabName}</option>`);
            $(`#analysisTab${element_id}`).append(`<li class="nav-item navtab scroll-link"><a class="nav-link" id="analysistab${element_id}${tabID}" href="#tab${element_id}${tabID}" role="tab" data-toggle="tab" aria-controls="#tab${element_id}${tabID}" aria-selected="false">
            <div class="row">
            <div class="col-md-10" style="padding-right: 0.1rem">
            <span class="contentEditable tabname" id="${`tabHeader${element_id}`+tabID}" data-tab="analysisrow${element_id}${tabID}" data-tab_ct="analysisrow${element_id}${tabID}">Tab${tabName}</span>
            </div>
            <div class="col-md-2" style="padding-top: 0px;">
            <button type="button" id="${`removeTab${element_id}`+tabID}" data-tabAnchorID="analysistab${element_id}${tabID}" data-tabContainerDivID="tab${element_id}${tabID}" style="border-width:0px;padding: 1px 1px;background-color: white;"><i class="fa fa-times" style="font-size:0.9rem;"></i></button>
            </div>
            </div>
            </a></li>`);

            const navUl = document.querySelector('.nav.nav-tabs.nav-fill.analysis-nav');
            if(navUl.children.length > 4) {
              navUl.classList.add("scroll-nav")
            }

            // INDEX TAB UPDATION
            const updateIndex = (index, val) => {
              let ind = index.replace('Header', '')
              const indexTabs = $("#tabLinks").find(".linkCard") //document.getElementById('tabLinks').children;
              Array.from(indexTabs).forEach(ele => {
                const id = ele.id.replace('index', '');
                if(id == ind) {
                  $(`#index${id} .tab-title`).text(val)
                }
              });
            }
            let link = 'tab' + element_id + tabID;
            let length_index = $("#tabLinks").find(".linkCard").length + 1
            let markup = `
              <div class="row" style="border-bottom: 1px solid black;align-items: center;justify-content: center;display: flex;">
                <div id="" class="col-2" style="background-color:transparent; border-right: 1px solid black;margin-top: 0px;background-color: transparent;border-right: 1px solid black;margin-bottom: 0px; height: auto;border-radius:0px">
                  <p style="font-size: 1.2rem; color: black; text-align:center;"> ${length_index} </p>
                </div>
                <div class="" style="flex: 0 0 81%;max-width: 82%;display: flex;justify-content: center;">
                  <div id="index${link}" style="background-color: var(--primary-color);" class="linkCard">
                    <a style="color: white;font-size: 1.2rem;" href="${link}"> Tab${tabName} </a>
                  </div>
                </div>
              </div>
            ` ;
            $(`#tabLinks`).append(markup);
              var col1 = $(".indextabBG").val();
              var col2 = $(".indextabFC").val();
              $(".linkCard").css("background-color",col1);
              $(".linkCard").find('a').css("color",col2);
            if(document.getElementById(`index${link}`) != null){
              document.getElementById(`index${link}`).addEventListener("click", (e) => {
                e.preventDefault();
                gotoTab("#analysisTabellipse09392335077605267", link);
              });
            }
            const editables = document.getElementsByClassName('contentEditable tabname');
            Array.from(editables).forEach(ele => {
              ele.addEventListener("blur", (e) => {
                updateIndex(ele.id, ele.textContent)
              })
            });
            const deleteButton = document.getElementById(`removeTab${element_id}${tabID}`);
            deleteButton.addEventListener("click", (e) => {
              const id = e.target.parentNode.id.replace('removeT', 'indext');;
              const indexTab = document.getElementById('tabLinks');
              const linkToBeDeleted  = document.getElementById(`${id}`);
              let ind = 0
              $(`#${id}`).closest(".row").remove();
              $("#tabLinks").find(".col-2").each(function() {
                $(this).find("p").html(++ind)
              })
            })

            $(`#analysisTabContent${element_id}`).append(`<div class="tab-pane fade" id="tab${element_id}${tabID}" role="tabpanel" aria-labelledby="analysistab${element_id}${tabID}">
            <div class="d-flex justify-content-between" style="padding-top:1%">
            <div class="card-tools tabCardTools row col-12" style="background:whitesmoke; padding-bottom: 2px;margin:auto"><button type="button" value="AddComment" class="btn btn-primary commentButton btn-xs" id="${"AddCommentellipse06740877683828901"  +tabID}"  data-toggle="tooltip" title="Add comment" style="height: 25px;border-radius:5px;border-color:none;color:white;margin-top:10px; margin-bottom:10px"><i class='far fa-comment-dots' style="font-size:1rem;"></i></button>&nbsp;<button type="button" value="PDF" data-tabHeaderID="${"tabHeaderellipse06740877683828901"  +tabID}" class=" btn btn-primary" id='${'analysisPDFellipse06740877683828901' +tabID}' style="border-radius:5px;margin-right:5px;margin-top:10px; margin-bottom:10px; padding-left: 9px;padding-top: 2px;margin-right: 10px; height:25px;" onMouseOver='' onMouseOut=''>
                  PDF
              </button>
               <button type="button" value="slicerConfig" class="btn btn-primary" data-tabHeaderID="tabHeaderellipse06740877683828901${tabID}" id='slicerConfigellipse06740877683828901${tabID}' data-toggle="modal" data-target="#slicerConfigModalellipse06740877683828901${tabID}" style="height: 25px;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px; margin-right:10px; margin-top:10px; margin-bottom:10px; display:none"><i class="fas fa-filter"></i>&nbsp;Slicer</button><button type="button" value="gridLines" class="btn btn-primary" data-tabHeaderID="tabHeaderellipse06740877683828901${tabID}" id='gridLinesellipse06740877683828901${tabID}' style="border-radius:5px; margin-right:10px; margin-top:10px; margin-bottom:10px;padding-left: 9px;padding-top: 2px;margin-right: 10px; height:25px;" onclick="gridLine.call(this)">Grid lines </button>    </div>
      </div>
      <div class="col-lg-12 row chartDivSection" data-layout="Landscape" id="analysisrowellipse06740877683828901${tabID}" ondblclick="resetCrossFilter.call(this)"></div></div>

      <div class="modal" id="slicerConfigModalellipse06740877683828901${tabID}">
        <div class="modal-dialog modal-md modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h6 class="modal-title" style="text-align:center;">Configure slicer</h6>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
              <div class="card">
                <div class="card-body">
                  <div class="card-tools" style="display:flex; flex-direction:row; align-items:center; justify-content:space-between; color:var(--primary-color)">
                    <label for="">Add slicer</label>
                    <button type="button" class="btn addOptionBtn" onclick="addSlicers('ellipse06740877683828901', '${tabID}')"><i class="fas fa-plus" style="color:var(--primary-color);"></i></button>
                  </div>
                  <div id="slicerConfigCardellipse06740877683828901${tabID}" style="max-height: 15.25rem; overflow-y: scroll; overflow-x: hidden;">
                    <div class="card" data-slicer_class="selectSlicerConfig_ellipse06740877683828901${tabID}">
                      <div class="card-body">
                        <div class="form-group">
                          <label for="analysisSlicerTable">Source table:
                          </label>
                          <select class="select2 form-control analysisSlicerTable" name="analysisSlicerTable">
                            <option value="">Select source table</option>                  <option value="Asset_Class_Master">Asset_Class_Master</option>                  <option value="Test_date_table">Test_date_table</option>                  <option value="City_Master">City_Master</option>                  <option value="Dummy_concat_tabble">Dummy_concat_tabble</option>                  <option value="loss_data2">loss_data2</option>                  <option value="Loss_data">Loss_data</option>                  <option value="Trade_value">Trade_value</option>                  <option value="Bank_loss_data">Bank_loss_data</option>                  <option value="dummy_concat_table2">dummy_concat_table2</option>                  <option value="attribute_master">attribute_master</option>                  <option value="Test_table_23">Test_table_23</option>                  <option value="Product_Master_2">Product_Master_2</option>                  <option value="Loss_data2_replica">Loss_data2_replica</option>                  <option value="Simulated_loss_amount_Final">Simulated_loss_amount_Final</option>                  <option value="UserProfile">UserProfile</option>                  <option value="Complain_Register_Table">Complain_Register_Table</option>                  <option value="loss_data2_scenario">loss_data2_scenario</option>                  <option value="Loss_dataset">Loss_dataset</option>                  <option value="pool_master">pool_master</option>                  <option value="Aggreagted_bank_loss_data">Aggreagted_bank_loss_data</option>                  <option value="Product_Master">Product_Master</option>                  <option value="Onboarding_details">Onboarding_details</option>                  <option value="Trade_entry">Trade_entry</option>                  <option value="concat_table">concat_table</option>                  <option value="Measures_Master">Measures_Master</option>                  </select>
                        </div>
                        <div class="form-group">
                          <label for="analysisSlicerParameter">Slicer parameter:
                          </label>
                          <select  class="select2 form-control analysisSlicerParameter" name="analysisSlicerParameter">
                            <option value="">Select slicer parameter</option>
                          </select>
                        </div>
                        <div class = "form-group">
                          <label for="analysisSlicerBoolean">
                          <input type="checkbox" class="analysisSlicerBoolean" name="analysisSlicerBoolean" value="True">
                          Add default option all values</label>
                        </div>
                        <div class="form-group">
                          <label>
                          <input class="mulcheckbox" type="checkbox">
                          Multiselect Slicer</label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
                <button type="button" id="saveTabSlicerConfigellipse06740877683828901${tabID}" data-analysis_id= "ellipse06740877683828901"  data-tab_id="${tabID}" class="btn btn-primary btn-xs mx-2 rounded px-2" data-dismiss="modal">Save</button>
            </div>
          </div>
            </div>
            </div>
          `);
          if ($(`#analysisTabContent${element_id}`).find('.chartDivSection').attr('data-layout') == "Landscape") {
            $('.chartDivSection').css({
              "background-image": "linear-gradient(rgba(0, 0, 0, 1) 0.07px, transparent 0.36%), linear-gradient(90deg, rgba(0, 0, 0, 1) 0.07px, transparent 0.46px)",
              "background-size": "14.26% 10em",
              "width":"1125px",
              "margin":"auto",
              "border": "solid black 0.1px",
              "min-height":"715px",
              "max-height":"715px",
              "overflow-y": "hidden",
              "overflow-x": "hidden",
            })
          } else if ($(`#analysisTabContent${element_id}`).find('.chartDivSection').attr('data-layout') == "Portrait") {
            $('.chartDivSection').css({
              "background-image": "linear-gradient(rgba(0, 0, 0, 1) 0.07px, transparent 0.36%), linear-gradient(90deg, rgba(0, 0, 0, 1) 0.07px, transparent 0.46px)",
              "background-size": "14.26% 10em",
              "width":"900px",
              "margin":"auto",
              "border": "solid black 0.1px",
              "min-height":"1105px",
              "max-height":"1105px",
              "overflow-y": "hidden",
              "overflow-x": "hidden",
            })
          } else {
            $(`#analysisTabContent${element_id}`).find('.chartDivSection').resizable();
              $('.chartDivSection').css({
              "width":"92%",
              "padding-left": "70px",
              "padding-top": "9px",
              "padding-right": "9px",
          })
          }


          $(`#removeTab${element_id}${tabID}`).click(function() {
              const deleteButton = document.getElementById(`removeTab${element_id}${tabID}`);
                deleteButton.addEventListener("click", (e) => {
                const id = e.target.parentNode.id.replace('removeT', 'indext');;
                const indexTab = document.getElementById('tabLinks');
                const linkToBeDeleted  = document.getElementById(`${id}`);
                $(`#${id}`).closest(".row").remove();
              })
              var tabAnchorID=$(this).attr('data-tabAnchorID')
              var tabContainerDivID=$(this).attr('data-tabContainerDivID')
              $(`#${tabAnchorID}`).parent().remove()
              $(`#${tabContainerDivID}`).remove()
            })
            $('.contentEditable').each(function () {
            $(this).on('click', function () {
              $(this).attr("contenteditable", "true")
              $(this).focus()
            })
            $(this).focusout(function () {
              var tab_header = this.innerText
              tab_header = tab_header.trim()
              if (tab_header.length == 0){
                this.innerText = "Set Name"
                $(this).removeAttr("contenteditable");
                $(this).addClass("bg-danger")
                $(this).trigger("click")
              }
              else{
              $(this).removeAttr("contenteditable");
              $(this).removeClass("bg-danger")
              }
          })
          });

            $(`#slicerConfigCardellipse06740877683828901${tabID}`).find('.card').eq(-1).find(".card-body").find('select').each(function(){
    parent = $(this).parent()
    $(this).select2({dropdownParent:parent})
  })
      slicerTabConfigDict['selectSlicerConfig_'+'ellipse06740877683828901'+tabID] = [];
      slicerChangeUpdatePlots();
      global_apply_button_click();
      fetchSlicerParams()
      $(`#saveTabSlicerConfigellipse06740877683828901${tabID}`).on('click', function(){
        let anlysisElementId = $(this).attr('data-analysis_id');
        let analysistabNo = $(this).attr('data-tab_id');
        var tabDict={
          "TabID":(tabID),
          "slicerTable":[],
          "slicerParameter":[],
          "slicerBoolean" :[],
          "slicerReload" : [],
          "multipleSlicer": []
        }
        $(`#slicerConfigCardellipse06740877683828901${tabID}`).find('.card').find('.analysisSlicerTable').each(function() {
          tabDict["slicerTable"].push($(this).val())
        })
        $(`#slicerConfigCardellipse06740877683828901${tabID}`).find('.card').find('.analysisSlicerParameter').each(function() {
          tabDict["slicerParameter"].push($(this).val())
        })
        $(`#slicerConfigCardellipse06740877683828901${tabID}`).find('.card').find('.mulcheckbox').each(function() {
          if ($(this).is(":checked")){
            tabDict["multipleSlicer"].push(true);
          }else{
            tabDict["multipleSlicer"].push(false);
          }
        })
        $(`#slicerConfigCardellipse06740877683828901${tabID}`).find('.card').find('.analysisSlicerBoolean').each(function() {
          if ($(this).is(":checked")){
            tabDict["slicerBoolean"].push("True")
          }else {
            tabDict["slicerBoolean"].push("False")
          }
        })
               url_string = window.location.pathname
               f_occ = url_string.indexOf('/', url_string.indexOf('/') + 1)
               s_occ = url_string.indexOf('/', url_string.indexOf('/') + f_occ +1)
               t_occ = url_string.indexOf('/', url_string.indexOf('/') + s_occ +1)
               app_code2 = url_string.substring(f_occ+1,s_occ)
               current_dev_mode2 = url_string.substring(s_occ+1,t_occ)
              if(current_dev_mode2 != 'Build' && current_dev_mode2 != 'Edit'){
                current_dev_mode2 = 'User'
              }
        $.ajax({
          url: `/users/${urlPath}/processGraphModule/`,
          data: {
            'tab_slicer_config': JSON.stringify(tabDict),
            'element_id': 'ellipse06740877683828901',
            'tab_id': tabID,
            'operation': 'saveAnalysisSlicerConfigL3',
          },
          type: "POST",
          dataType: "json",
          success: function (data) {
            var analysisSlicerElementId = data.elementID;
            var analysisSlicerTabId = data.slicer_tab_id;
            $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').empty();
            $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').append(`<button type="button" value="AddComment" class="btn btn-primary commentButton btn-xs" id="AddComment${analysisSlicerElementId}${analysisSlicerTabId}"  data-toggle="tooltip" title="Add comment" style="height: 25px;border-radius:5px;border-color:none;color:white;margin-top:10px; margin-bottom:10px"><i class='far fa-comment-dots' style="font-size:1rem;"></i></button>&nbsp;<button type="button" value="PDF" class=" btn btn-primary" data-tabHeaderID="tabHeader${analysisSlicerElementId}${analysisSlicerTabId}" id='analysisPDF${analysisSlicerElementId}${analysisSlicerTabId}' style=" color:#ffffff;background-color:rgba(86,90,94,0);border-style:none;border-width:;border-color:#000000;font-size:none;border-radius:5px;  margin-right:5px;margin-top:10px; margin-bottom:10px" onMouseOver='' onMouseOut=''><i class='fas fa-file-invoice listoficons' style='color:#1d3b58'></i> </button><button type="button" value="slicerConfig" class="btn btn-primary" data-tabHeaderID="tabHeader${analysisSlicerElementId}${analysisSlicerTabId}" id='slicerConfig${analysisSlicerElementId}${analysisSlicerTabId}' data-toggle="modal" data-target="#slicerConfigModal${analysisSlicerElementId}${analysisSlicerTabId}" style="height: 25px;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px; margin-right:10px; margin-top:10px; margin-bottom:10px"><i class="fas fa-filter"></i>&nbsp;Slicer</button><button type="button" value="gridLines" class="btn btn-primary" data-tabHeaderID="tabHeader${analysisSlicerElementId}${analysisSlicerTabId}" id='gridLines${analysisSlicerElementId}${analysisSlicerTabId}' style=" color:#ffffff;background-color:rgba(86,90,94,0);border-style:none;border-width:;border-color:#000000;font-size:none;border-radius:5px; margin-right:10px; margin-top:10px; margin-bottom:10px" onclick="gridLine.call(this)" onMouseOver=this.style.backgroundColor='#d6d6d6' onMouseOut=this.style.backgroundColor='rgba(86,90,94,0)'><i class='fas fa-th listoficons' style='color:#1d3b58'></i> </button>`);

            let tabSlicerConfigOutput = data[analysisSlicerTabId];
            let analysis_additional_config = tabSlicerConfigOutput.analysis_additional_config;
            if (analysis_additional_config == "slicer_config") {
              let slicerTables = tabSlicerConfigOutput.slicerTable;
              let slicerParameters = tabSlicerConfigOutput.slicerParameter;
              let mapDict = tabSlicerConfigOutput.mappingDict
              let slicerBooleans = tabSlicerConfigOutput.slicerBoolean;
              let slicerParameterValues = tabSlicerConfigOutput.slicer_parameter_values;
              let slicerReloadValue = tabSlicerConfigOutput.slicerReload;
              let multipleSlicer = tabSlicerConfigOutput.multipleSlicer;
              var html = '';

              for(let i = 0; i < slicerParameterValues.length; i++) {
                let attr_ = 'data-value = ""'
                let multiple = "";
                if(slicerReloadValue != undefined){
                  if (slicerReloadValue.length != 0) {
                    attr_ = 'data-value' + `= '${JSON.stringify(slicerReloadValue[i])}'`
                  }
                }
                if(multipleSlicer != undefined){
                  if(multipleSlicer.length > 0){
                    if(multipleSlicer[i]){
                      multiple = "multiple";
                    }
                  }
                }
                html = html + `
                <div class="form-inline">
                  <span style="color:var(--primary-color); margin-right:10px; margin-left:10px;">${mapDict[i][slicerParameters[i]]}:</span>
                  <select class="selectSlicerConfig_${analysisSlicerElementId}${analysisSlicerTabId} select2 form-control slicerParamValue${analysisSlicerElementId}" data-tab="${analysisSlicerTabId}" data-slicertable="${slicerTables[i]}" data-slicerColumn= "${slicerParameters[i]}" ${attr_} data-id="selectSlicerConfig_${analysisSlicerElementId}${analysisSlicerTabId}" style="width:150px;display:inline-block;" ${multiple}>`
                    if(slicerBooleans != undefined){
                      if (slicerBooleans.length != 0) {
                        if(slicerBooleans[i] == 'True'){
                          html = html + `<option value="" selected>All</option>`
                        }
                      }
                    }
                for(let j = 0; j < slicerParameterValues[i].length; j++) {
                    if(slicerParameterValues[i][j] != ''){
                    html = html + `<option value="${slicerParameterValues[i][j]}">${slicerParameterValues[i][j]}</option>`
                    }
                }
                html = html +
                  `</select>
                </div>
                `
              }
              $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').append(html);
              $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').find('select').each(function(){
    parent = $(this).parent()
    $(this).select2({dropdownParent:parent})
  })
              $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').find('.select2').parent().find(".select2-container").css("max-height","55px");
              $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').find('.select2').parent().find(".select2-container").css("overflow-y","scroll");
                     $(`#analysisPDF${analysisSlicerElementId}${analysisSlicerTabId}`).click(async function(){
                                    function sleep(ms) {
                                        return new Promise(resolve => setTimeout(resolve, ms));
                                      }
                                        var buttonText = $(this).html()
                                        $(this).html(`<i class="fa fa-circle-notch fa-spin"></i> Loading`);
                                        $(this).parent().attr("data-html2canvas-ignore", true);
                                        $('.nav-tabs').attr("data-html2canvas-ignore", true);
                                        $(`#${$(this).parent().parent().next().attr('id')}`).css('border','none')
                                        var layout_old = $(`#${$(this).parent().parent().next().attr('id')}`).attr('data-layout')
                                        $('.tab-content').find('.tab-pane').find('.card-body').find('.tab-content').find('.tab-pane').find('.chartDivSection').find('.charts').find('.card-header').find('.row').find('i').css('display','none')
                                        $('body').css('pointer-events','none')
                                        $('body').css('background-color','black')
                                        $('body').css('opacity',0.5)
                                        $('body').css('overflow-y','hidden')
                                        $(document).scrollTop(0);
                                        await sleep(1000);
                                        page_section = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent();
                                        HTML_Width = page_section.width();
                                        HTML_Height = page_section.height();
                                        top_left_margin = 5;
                                        PDF_Width = HTML_Width + (top_left_margin * 2);
                                        PDF_Height = (PDF_Width * 1.2) + (top_left_margin * 2);
                                        pdfName=$(`#${$(this).attr('data-tabHeaderID')}`).text()

                                        var wid = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0].offsetWidth
                                        var hei = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0].offsetHeight
                                        await html2canvas($(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0], { allowTaint: true }).then(function(canvas) {
                                          canvas_image_height= HTML_Height
                                          canvas_image_width=HTML_Width
                                          var imgData = canvas.toDataURL('image/png');
                                          var doc = new jsPDF("l","px",[wid,hei]);
                                          doc.addImage(imgData, 'PNG',0,0,doc.internal.pageSize.width, doc.internal.pageSize.height);
                                          doc.save(pdfName);
                                          $('.tab-content').find('.tab-pane').find('.card-body').find('.tab-content').find('.tab-pane').find('.chartDivSection').find('.charts').find('.card-header').find('.row').find('i').css('display','inline-block')
                                          $(`#${tabDict["pdfButtonID"]}`).html(`<i class="fa fa-file-pdf-o"></i>&nbsp;PDF`)
                                        });
                                        $(this).empty();
                                        $(this).html(buttonText);
                                        if(layout_old != "No layout") {
                                          $(`#${$(this).parent().parent().next().attr('id')}`).css('border',"solid black 0.1px")
                                        }
                                        $('.nav-tabs').removeAttr("data-html2canvas-ignore");
                                        $(this).parent().removeAttr("data-html2canvas-ignore");
                                        $('body').css('pointer-events','')
                                        $('body').css('background-color','')
                                        $('body').css('opacity','')
                                        $('body').css('overflow-y','')
                                  })
                                    $(`#AddComment${analysisSlicerElementId}${analysisSlicerTabId}`).click(function(){
                                      var id_ = ('analysisEditor' + Math.random()).replace('.',"");
                                        $(this).parent().parent().next().append(`

                                               <div class="small-box commentboxcard" data-id="${id_}" id = "${id_}" onmouseenter="showTool.call(this)" onmouseleave="hideTool.call(this)" style="min-height:6rem;min-width:6rem;height:6rem;width:9rem;" >
                                        <div class="row"  style="position:absolute; margin-left:100%;display:none;flex-wrap:wrap;">
                                          <i class="fa fa-times deleteCommentBox" title="Delete" style="font-size:1rem;margin-right:0.5rem;margin-left:1px;margin-bottom:2px;"></i>
                                          <i class='fas fa-edit' onclick="ckEditorFunc.call(this)" style="font-size:1rem;margin-right:0.5rem;margin-bottom:2px;"></i>
                                          <i class="fa fa-arrows" style="font-size:1rem;margin-right:0.5rem;"></i>
                                        </div>
                                        <div class="commentbox contentEditable" name="comment" style="margin-top:1rem;max-height: 75%;padding: 0.3em 0.5em 0 0.5em;background-color: transparent;text-align: left;overflow-y: auto;">

                                        </div>
                                      </div>`)
                                      $(".commentboxcard").resizable();
                                      $('.contentEditable').each(function () {
                                          $(this).on('click', function () {
                                            $(this).attr("contenteditable", "true")
                                            $(this).focus()
                                          })
                                          $(this).focusout(function () {
                                              var content = this.innerText
                                              content = content.trim()
                                              if (content.length == 0){
                                                this.innerText = "Enter text here."
                                                $(this).removeAttr("contenteditable");
                                                $(this).trigger("click")
                                              }
                                              else{
                                              $(this).removeAttr("contenteditable");
                                              }
                                          })
                                        })
                                      $('.deleteCommentBox').click(function () {
                                          $(this).parent().parent().remove()
                                      })
                                      $(".commentboxcard").draggable({
                                          cancel: '',
                                          containment: "parent",
                                      });
                                  })
            }
            slicerChangeUpdatePlots();
          },
          error: function () {
            Swal.fire({icon: 'error',text: 'Error! Failure in fetching the columns. Please try again.'});
          }
        });
      });$(`#${"removeTab"+element_id+tabID}`).click(function(){

                var tabAnchorID=$(this).attr('data-tabAnchorID')
                var tabContainerDivID=$(this).attr('data-tabContainerDivID')
                $(`#${tabAnchorID}`).parent().remove()
                $(`#${tabContainerDivID}`).remove()
            })
            $(`#${'analysisPDF'+element_id+tabID}`).click(async function(){
                  function sleep(ms) {
                    return new Promise(resolve => setTimeout(resolve, ms));
                  }
                  var buttonText = $(this).html()
                  $(this).html(`<i class="fa fa-circle-notch fa-spin"></i> Loading`)
                  $('body').css('pointer-events','none')
                  $('body').css('background-color','black')
                  $('body').css('opacity',0.5)
                  $('body').css('overflow-y','hidden')
                  $('.tab-content').find('.tab-pane').find('.card-body').find('.tab-content').find('.tab-pane').find('.chartDivSection').find('.charts').find('.card-header').find('.row').find('i').css('display','none')
                        page_section = $(`#${$(this).parent().parent().next().attr('id')}`);
                        HTML_Width = page_section.width();
                        HTML_Height = page_section.height();
                        top_left_margin = 15;
                        PDF_Width = HTML_Width + (top_left_margin * 2);
                        PDF_Height = (PDF_Width * 1.2) + (top_left_margin * 2);
                        pdfName=$(`#${$(this).attr('data-tabHeaderID')}`).text()
                        $(document).scrollTop(0);
                        await sleep(500);
                        await html2canvas(page_section[0], { allowTaint: true }).then(function(canvas) {
                        canvas_image_height= HTML_Height
                        canvas_image_width= HTML_Width
                        var imgData = canvas.toDataURL('image/png');
                        var doc = new jsPDF("l","px",[page_section[0].offsetWidth, page_section[0].offsetHeight]);
                        doc.addImage(imgData, 'PNG',0,0,doc.internal.pageSize.width,doc.internal.pageSize.height);
                        doc.save(pdfName);

                        $('.tab-content').find('.tab-pane').find('.card-body').find('.tab-content').find('.tab-pane').find('.chartDivSection').find('.charts').find('.card-header').find('.row').find('i').css('display','inline-block');
                        $(`#${'analysisPDF'+element_id+tabID}`).html(buttonText)
                        $('body').css('pointer-events','')
                        $('body').css('background-color','')
                        $('body').css('opacity','')
                        $('body').css('overflow-y','')
                        });
                });
            $('.contentEditable').each(function () {
            $(this).on('click', function () {
                $(this).attr("contenteditable", "true")
                $(this).focus()
            })
            $(this).focusout(function () {
                var tab_header = this.innerText
                tab_header = tab_header.trim()
                if (tab_header.length == 0){
                this.innerText = "Set Name"
                $(this).removeAttr("contenteditable");
                $(this).addClass("bg-danger")
                $(this).trigger("click")

                }
                else{
                $(this).removeAttr("contenteditable");
                $(this).removeClass("bg-danger")
                }
            })
            })
            $(`#${"AddComment"+element_id+tabID}`).click(function(){
                var id_ = ('analysisEditor' + Math.random()).replace('.',"");
                $(this).parent().parent().next().append(`
                  <div class="small-box commentboxcard" data-id="${id_}" id = "${id_}" onmouseenter="showTool.call(this)" onmouseleave="hideTool.call(this)" style="min-height:6rem;min-width:6rem;height:6rem;width:9rem;" >
                  <div class="row"  style="position:absolute; margin-left:100%; display:none;flex-wrap:wrap;">
                    <i class="fa fa-times deleteCommentBox" title="Delete" style="font-size:1rem;margin-right:0.5rem;margin-left:1px;margin-bottom:2px;"></i>
                    <i class='fas fa-edit' onclick="ckEditorFunc.call(this)" style="font-size:1rem;margin-right:0.5rem;margin-bottom:2px;"></i>
                    <i class="fa fa-arrows" style="font-size:1rem;margin-right:0.5rem;"></i>
                  </div>
                  <div class="commentbox contentEditable" name="comment" style="margin-top:1rem;max-height: 75%;padding: 0.3em 0.5em 0 0.5em;background-color: transparent;text-align: left;overflow-y: auto;">

                  </div>
                </div>`)
                $(".commentboxcard").resizable();
                $('.contentEditable').each(function () {
                    $(this).on('click', function () {
                    $(this).attr("contenteditable", "true")
                    $(this).focus()
                    })
                    $(this).focusout(function () {
                        var content = this.innerText
                        content = content.trim()
                        if (content.length == 0){
                        this.innerText = "Enter text here."
                        $(this).removeAttr("contenteditable");
                        $(this).trigger("click")
                        }
                        else{
                        $(this).removeAttr("contenteditable");
                        }
                    })
                })
                $('.deleteCommentBox').click(function () {
                    $(this).parent().parent().remove()
                })
                $(".commentboxcard").draggable({
                    cancel: '',
                    containment: "parent",
                });
            })
        })
        var share_status = false
        $(`#analysisshare${element_id}`).click(function () {
            share_status = true
            let element_id_extract = $(this).attr("data-elementID");

            saveGroupConfigAnalysis(($(this).attr("data-elementID")),($(`#select2multiple_group${element_id_extract}`).val()))
            })
          var analysisType = 'Analysis Pack - II (Advanced)';
              url_string = window.location.pathname
              f_occ = url_string.indexOf('/', url_string.indexOf('/') + 1)
              s_occ = url_string.indexOf('/', url_string.indexOf('/') + f_occ +1)
              t_occ = url_string.indexOf('/', url_string.indexOf('/') + s_occ +1)
              app_code2 = url_string.substring(f_occ+1,s_occ)
              current_dev_mode2 = url_string.substring(s_occ+1,t_occ)
              if(current_dev_mode2 != 'Build' && current_dev_mode2 != 'Edit'){
                current_dev_mode2 = 'User'
              }
            $(`#saveChartConfigButtonellipse06740877683828901`).click(function () {
            saveChartConfigAnalysis($(this).attr("data-elementID"))
            })
            $('#analysisPDFellipse06740877683828901').click(genPDF)
            async function genPDF(){
            var classs = ".tab-pane"
            var buttonText = $(`#analysisPDF${element_id}`).html()
            if ($('.tab-content').find('.tab-pane').find('.card-body').find('a')[0] == undefined) {
              classs = ".cells";
              $(classs).find('.card-body').find('a').removeClass('active');
              $('body').css('pointer-events','none')
              $('body').css('background-color','black')
              $('body').css('opacity',0.5)
              $('body').css('overflow-y','hidden')
              $(`#analysisPDF${element_id}`).html(`<i class="fa fa-circle-notch fa-spin"></i> Loading`);
              var idForPdf = await $(classs).find('.card-body').find('.tab-content').find('.tab-pane')//document.getElementById('analysisTabContent'+"ellipse01423704159911523");
              $(classs).find('.card-body').find('.tab-content').find('.tab-pane').find('.card-tools').css('opacity',0);
              $(classs).find('.card-body').find('.tab-content').find('.tab-pane').find('.chartDivSection').find('.charts').find('.card-header').find('.row').find('i').css('display','none')
              var sizeForPdf = $(classs).find('.card-body').find('.tab-content').find('.tab-pane').length;
            } else {
                $('.tab-content').find(classs).find('.card-body').find('a').removeClass('active');
                $('body').css('pointer-events','none')
                $('body').css('background-color','black')
                $('body').css('opacity',0.5)
                $('body').css('overflow-y','hidden')
                $(`#analysisPDF${element_id}`).html(`<i class="fa fa-circle-notch fa-spin"></i> Loading`);
                var idForPdf = await $('.tab-content').find(classs).find('.card-body').find('.tab-content').find('.tab-pane')//document.getElementById('analysisTabContent'+"ellipse01423704159911523");
                $('.tab-content').find(classs).find('.card-body').find('.tab-content').find('.tab-pane').find('.card-tools').css('opacity',0);
                $('.tab-content').find(classs).find('.card-body').find('.tab-content').find('.tab-pane').find('.chartDivSection').find('.charts').find('.card-header').find('.row').find('i').css('display','none')
                var sizeForPdf = $('.tab-content').find(classs).find('.card-body').find('.tab-content').find('.tab-pane').length;
            }
            var pdfName='Analysis.pdf';
            function sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
            var pdfs
            var pd
            var layout_old = $(`.chartDivSection`).eq(0).attr('data-layout')
            var check = 0
            for(let i = 0; i < sizeForPdf; i++) {
              if ($('.tab-content').find('.tab-pane').find('.card-body').find('a')[0] == undefined) {
                $(classs).find('.card-body').find('.tab-content').find('.tab-pane').eq(i).removeClass('active show')
                $(classs).find('.card-body').find('.tab-content').find('.tab-pane').eq(i).addClass('active show')
                $('.chartDivSection').css('border','none');
              } else {
                $('.tab-content').find(classs).find('.card-body').find('.tab-content').find('.tab-pane').eq(i).removeClass('active show')
                $('.tab-content').find(classs).find('.card-body').find('.tab-content').find('.tab-pane').eq(i).addClass('active show')
                $('.chartDivSection').css('border','none');
              }
                if(check == 0 && i == 1) {
                  i = 0;
                  check = 1
                }
                await(800)
                $(document).scrollTop(0);
                await sleep(1000);
                if (i == 0) {
                pdfs = await new jsPDF("l", "pt", [idForPdf[i].offsetWidth,idForPdf[i].offsetHeight]);
                pd = await new jsPDF("l", "pt", [idForPdf[0].offsetWidth,idForPdf[0].offsetHeight]);
                }
                if (i < (sizeForPdf ) && i >= 0) {
                    var dynamic_height = await idForPdf[i].offsetHeight;
                    var dynamic_width = await idForPdf[i].offsetWidth;
                    if (i < (sizeForPdf ) && i >= 0) {
                    await pdfs.addPage([dynamic_width,dynamic_height]);
                }
                }
                await html2canvas(idForPdf[i], { allowTaint: true }).then(canvas => {
                var imgDataPdf = canvas.toDataURL('image/png');
                var widthPdf = pdfs.internal.pageSize.width + 30;
                var heightPdf = pdfs.internal.pageSize.height;
                if (i >= 0) {

                    pdfs.addImage(imgDataPdf, 'PNG',0,0,widthPdf,heightPdf);
                }
                })

            }
            for(let i = 0; i < sizeForPdf; i++) {
                $('.tab-content').find('.tab-pane').find('.card-body').find('.tab-pane').eq(i).removeClass('active show')
            }
            $('#analysisPDFellipse06740877683828901').html(buttonText)
            $('.tab-content').find('.tab-pane').find('.card-body').find('.tab-content').find('.tab-pane').find('.card-tools').css('opacity',1);
            pdfs.deletePage(1)
            pdfs.deletePage(1)
            pdfs.save(pdfName)
            if ($('.tab-content').find('.tab-pane').find('.card-body').find('a')[0] == undefined) {
              window.location.reload();
            }
            $('body').css('overflow-y','')
            $('body').css('background-color','')
            $('body').css('opacity','')
            $('body').css('pointer-events','')
            $('.tab-content').find('.tab-pane').find('.card-body').find('.tab-content').find('.tab-pane').find('.chartDivSection').find('.charts').find('.card-header').find('.row').find('i').css('display','inline-block')
            $('.tab-content').find('.tab-pane').find('.card-body').find('a').removeClass('active');
            if(layout_old != "No layout") {
              $('.chartDivSection').css('border','solid black 0.1px');
            }
            }

        </script>

        <script>
        var analysisDataRaw;
        var analysisTabConfigDataRaw = {};
        </script>

        <script>
        var analysiselementIDList=[];
        var chartSaveEleId = 'ellipse06740877683828901'
        </script>
            <script>

              $(".global_applyButton").on('click',function(){
                ele_id=$(this).attr('data_elementid')
                var col1 = $(".indextabBG").val();
                var col2 = $(".indextabFC").val();
                $(".defaultTabTheme").css("background-color",col1);
                $(".index-no-column").css("background-color",col1);
                $(".dropIndex").css("background",`${col1} linear-gradient(to bottom right, ${col1} 25%, #fff)`);
                $(".boxIndex").css("background",`${col1} linear-gradient(to bottom right, ${col1} 25%, #fff)`);
                $(".dropIndex").find('p').css("color",col2);
                $(".boxIndex").find('p').css("color",col2);
                $(".tab-header-name").css("color",col2);
                $(".colored-text").css("color",col2);
                $(".index-rows").css("border-color",col1);
                $(".index-no-column").css("border-color",col1);
                $(".tab-icons ").find('i').css("color",col2);
                $(".colored-icons").find('i').css("color",col1);
                $(".index-no-column").find('p').css("color",col2);
                $(".arrow-tab").css("border-left-color",col1);
                apply_clicked = 1
              })

              function savedChartConfigFunc(data, app_code = ""){
                      analysisDataRaw = data['save']
                      if(analysisDataRaw!=undefined && data['save'] != ''){
                          var dashboard_index = "Required"
                          analysisTabID="ellipse06740877683828901"
                          var analysisTableNames = data["analysis_table_list"]
                          var mainL3ULID="analysisTabellipse06740877683828901"
                          var mainTabContainerID="analysisTabContentellipse06740877683828901"
                          $(`#${mainL3ULID}`).empty()
                          $(`#${mainTabContainerID}`).empty()
                          if(data.hasOwnProperty("dashboard_index")){
                            dashboard_index = data["dashboard_index"];
                          }

                          dashboardIndexTemplate = "Template1"
                          if(data.hasOwnProperty("dashboardIndexTemplate")){
                            dashboardIndexTemplate = data["dashboardIndexTemplate"];
                          }

                          if(dashboard_index == "Required"){
                            $(`#${mainL3ULID}`).append(`
                            <li class="nav-item navtab scroll-link">
                              <a class="nav-link" id="indexTab" href="#indexTabContent" role="tab" data-toggle="tab" aria-controls="#indexTab" aria-selected="true">
                                <div class="row">
                                  <div class="col-md-11" style="padding-right: 0.1rem">
                                    <span class="tabname1" id="indexTab" data-tab="indexTab" data-tab_ct="indexTab">
                                      Index
                                    </span>
                                  </div>
                                </div>
                              </a>
                            </li>
                            `)
                          }

                          const navUl = document.querySelector('.nav.nav-tabs.nav-fill.analysis-nav');
                          if(navUl.children.length > 4) {
                            navUl.classList.add("scroll-nav")
                          }

                          var interaction
                          var f2_dict
                          var thresholdGuage = []
                          var tabs = []
                          for(j in analysisDataRaw["subTabContent"]) {
                            var tabDict=analysisDataRaw["subTabContent"][j];
                            if(tabDict["aHref"] != "#indexTabContent") {
                              tabs.push([tabDict["aHref"], tabDict["subTabName"], tabDict["subDesc"], tabDict["subIcon"]])
                            }
                          }
                          tabs = tabs.reverse();

                          // INDEX TAB
                          const updateIndex = (index, val) => {
                            let ind = index.replace('Header', '')
                            const indexTabs = $("#tabLinks").find(".linkCard")
                            Array.from(indexTabs).forEach(ele => {
                              const id = ele.id.replace('index', '');
                              if(id == ind) {
                                const linkToBeUpdated = document.getElementById(`index${id}`);
                                linkToBeUpdated.children[0].innerText = val;
                              }
                            });
                          }
                          if (dashboard_index == "Required") {
                            $(`#${mainTabContainerID}`).append(`
                              <div class="tab-pane fade" id="indexTabContent" role="tabpanel" aria-labelledby="indexTab">
                                <div id="tabLinks"  style="margin: auto; border: 0.1px solid black; min-height: 715px; max-height: 715px;">
                                </div>
                              </div>
                          `)
                        }


                          tabs.forEach((ele, index) => {

                            let ind = ele[0].split('#')[1];
                            let index1 = tabs.length - index
                            let colo1 = analysisDataRaw['subTabContent'][0]['indexCard_BGColor'];
                            let colo2 = analysisDataRaw['subTabContent'][0]['indexCard_FontColor'];

                            if(dashboardIndexTemplate == "Template1"){
                              var markup = `
                                <div class="row index-rows" style="box-shadow: rgb(0 0 0 / 35%) 0px 5px 15px;border-radius: 5px;margin: 20px 20px;align-items: center;display: flex;">
                                  <div id="" class="col-2 index-no-column" style="background-color:${colo1};">
                                    <p style="color:${colo2};font-size: 1.2rem; margin:0;" href="${ele[0]}"> ${index1} </p>
                                </div>
                                <div class="col-10" style="">
                                  <i class="fa fa-pen editTabIcon" onclick="openModal('index${ind}')" style="right: -8px;top:-8px;"></i>
                                  <div id="index${ind}" style="background-color:${colo1};" class="linkCard defaultTabTheme">
                                    <div class="col-10 d-flex flex-column align-items-center justify-content-center">
                                      <a class="tab-header-name tab-title" style="color:${colo2};font-size: 1.2rem;" href="${ele[0]}"> ${ele[1]} </a>
                                      <p class="tab-desc colored-text" data-name="index${ind}" style="color:${colo2};margin-bottom:0">${ele[2]}</p>
                                    </div>
                                    <div class="col-1 tab-icons TabIcons d-flex align-items-center justify-content-center" >
                                      <i class="${ele[3]}" style="color:${colo2}" data-name="index${ind}"></i>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              ` ;
                            }
                            else if(dashboardIndexTemplate == "Template2"){
                              var markup = `
                              <div class="row index-rows" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;margin: 20px 20px;align-items: center;display: flex;border-bottom: 8px solid ${colo1};">
                                <div id="" class="col-2 index-no-column" style="background-color: ${colo1};border: 5px solid  ${colo1};border-top-right-radius: 0px;border-bottom-right-radius: 0px;height: 6rem;">
                                  <p style="font-size: 1.2rem; color:${colo2}; margin:0;" href="${ele[0]}"> ${index1} </p>
                                </div>
                                <div class="col-10" style="background: white !important;">
                                  <i class="fa fa-pen editTabIcon" onclick="openModal('index${ind}')" style="right: -8px;top:-8px;"></i>
                                  <div id="index${ind}" style="background-color: transparent !important;" class="linkCard">
                                    <div class="col-10 d-flex flex-column align-items-center justify-content-center">
                                      <a class="tab-title" style="color:black;font-size: 1.2rem;" href="${ele[0]}"> ${ele[1]} </a>
                                      <p class="tab-desc" data-name="index${ind}" style="color:black;margin-bottom:0">${ele[2]}</p>
                                    </div>
                                    <div class="col-1 colored-icons TabIcons d-flex align-items-center justify-content-center" >
                                      <i class="${ele[3]}" data-name="index${ind}" style="color:${colo1}"></i>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              ` ;
                            }
                            else if(dashboardIndexTemplate == "Template3"){
                              var markup = `
                              <div class="row index-rows defaultTabTheme" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;margin: 20px 20px;align-items: center;display: flex;border-radius: 0px 40px !important;">
                                <div id="" class="col-2 d-flex align-items-center justify-content-center" style="background-color:white;border-radius: 0px 40px !important;height: 6rem;">
                                  <p style="font-size: 1.2rem; color:black !important; margin:0;" href="${ele[0]}"> ${index1} </p>
                                </div>
                                <div class="col-10" style="">
                                  <i class="fa fa-pen editTabIcon" onclick="openModal('index${ind}')"></i>
                                  <div id="index${ind}" style="border-top-right-radius: 40px;" class="linkCard">
                                    <div class="col-10 d-flex  flex-column align-items-center justify-content-center">
                                      <a class="tab-header-name tab-title" style="color:${colo2};font-size: 1.2rem;" href="${ele[0]}"> ${ele[1]} </a>
                                      <p class="tab-desc colored-text" data-name="index${ind}" style="color:${colo2};margin-bottom:0">${ele[2]}</p>
                                    </div>
                                    <div class="col-1 tab-icons TabIcons d-flex align-items-center justify-content-center" >
                                      <i class="${ele[3]}" data-name="index${ind}" style="color:${colo2};"></i>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              ` ;
                            }
                            else if(dashboardIndexTemplate == "Template4"){
                              var markup = `
                              <div class="row index-rows" style="margin: 40px 50px 40px 0px;align-items: center;display: flex;justify-content: center;">
                                <div id="" class="col-1 dropIndex" style="background: ${colo1} linear-gradient(to bottom right, ${colo1} 25%, #fff);">
                                <p style="font-size: 1.2rem; color:${colo2}; margin:0;" href="${ele[0]}"> ${index1} </p>
                                </div>
                                <div class="col-10" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;border-radius:10px;">
                                  <i class="fa fa-pen editTabIcon" onclick="openModal('index${ind}')" style="right: -8px;top:-8px;"></i>
                                  <div id="index${ind}" class="linkCard">
                                    <div class="col-10 d-flex flex-column justify-content-center align-items-center">
                                      <a class="tab-title" style="color:black !important;font-size: 1.2rem;" href="${ele[0]}"> ${ele[1]} </a>
                                      <p class="tab-desc" data-name="index${ind}" style="color:black !important;margin-bottom:0">${ele[2]}</p>
                                    </div>
                                    <div class="col-1 colored-icons TabIcons d-flex justify-content-center align-items-center">
                                      <i class="${ele[3]}" data-name="index${ind}" style="color:${colo1} !important;"></i>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              ` ;
                            }
                            else if(dashboardIndexTemplate == "Template5"){
                              var markup = `
                              <div class="row index-rows" style="margin: 40px 0px;align-items: center;display: flex;justify-content: center;">
                                <div id="" class="col-2 boxIndex" style="background: ${colo1} linear-gradient(to bottom right, ${colo1} 25%, #fff);">
                                <p style="font-size: 1.2rem; color:${colo2}; margin:0;" href="${ele[0]}"> ${index1} </p>
                                </div>
                                <div class="col-8 defaultTabTheme" style="background-color: ${colo1};border-radius:10px;">
                                  <i class="fa fa-pen editTabIcon" onclick="openModal('index${ind}')" style="right: -23px;top:-7px;"></i>
                                  <div id="index${ind}" class="linkCard">
                                    <div class="col-10 d-flex flex-column justify-content-center align-items-center">
                                      <a class="tab-header-name tab-title" style="color:${colo2};font-size: 1.2rem;" href="${ele[0]}"> ${ele[1]} </a>
                                      <p class="tab-desc colored-text" data-name="index${ind}" style="color:${colo2};margin-bottom:0">${ele[2]}</p>
                                    </div>
                                    <div class="col-1 tab-icons TabIcons d-flex justify-content-center align-items-center">
                                      <i class="${ele[3]}" data-name="index${ind}" style="color: ${colo2};"></i>
                                    </div>
                                  </div>
                                </div>
                                <div class="col-1"><span class="arrow-tab" style="border-left-color: ${colo1};"></span></div>
                              </div>
                              ` ;
                            }

                            if(ind.includes("index")){
                              markup = '';
                            }
                            const tabLinks = document.getElementById('tabLinks');
                            if(dashboard_index == "Required"){
                              if(markup != ''){
                                tabLinks.insertAdjacentHTML("afterbegin", markup)
                                document.getElementById(`index${ind}`).addEventListener("click", (e) => {
                                  e.preventDefault();
                                  gotoTab(mainTabContainerID, ind);
                                });
                              }
                            }
                          });

                          // REMOVING THE OVERFLOW
                          const clearOverflow = () => {
                            if(document.getElementById(`indexTab`) != null){
                              const t = document.getElementById('indexTab').children
                              Array.from(t).forEach(ele => { if(ele.className == "hidden") { ele.parentNode.removeChild(ele) } })
                            }
                          }
                          const overflow = setTimeout(clearOverflow, 250)

                          for(j in analysisDataRaw["subTabContent"]){
                              var tabDict=analysisDataRaw["subTabContent"][j];
                              if (Object.keys(tabDict).includes('crossFilter')) {
                                  interaction = tabDict['crossFilter'];
                              } else {
                                  interaction = []
                              }
                              if (Object.keys(tabDict).includes('thresholdProp')) {
                                  thresholdGuage.push(tabDict['thresholdProp']);
                              } else {
                                  thresholdGuage = []
                              }
                              if (Object.keys(tabDict).includes('freeze_dict')) {
                                  f2_dict = tabDict['freeze_dict'];
                                  final_f_dict2 = f2_dict
                              } else {
                                  f2_dict = {}
                                  final_f_dict2 = f2_dict
                              }
                              if (Object.keys(tabDict).includes('tabSlicerConfig')) {
                                  var tabSlicerConfig = tabDict['tabSlicerConfig'];
                              } else {
                                  var tabSlicerConfig = {
                                      'slicerTable': [],
                                      'slicerParameter': [],
                                      'slicerBoolean': [],
                                      'slicerReload' : [],
                                      "multipleSlicer": []
                                  };
                              }
                              var parentId = mainL3ULID.split('analysisTab')[1]
                              var tab_ID = tabDict["aID"].replace('analysistab'+parentId,"");
                              if(!tab_ID.includes("indexTab") && !(tab_ID.includes("indexindexTab"))) {
                                $(`#${mainL3ULID}`).append(`<li class="nav-item navtab scroll-link"><a class="nav-link" id="${tabDict["aID"]}" href="${tabDict["aHref"]}" role="tab" data-toggle="tab" aria-controls="${tabDict["aHref"]}" aria-selected="false">
                                  <div class="row">
                                  <div class="col-md-10" style="padding-right: 0.1rem">
                                  <span class="contentEditable tabname" id="${tabDict["tabHeaderID"]}" data-tab="${tabDict["chartDivContainer"]}" data-tab_ct="${tabDict["chartDivContainer"]}">${tabDict["subTabName"]}</span>
                                  </div>
                                  <div class="col-md-2" style="padding-top: 0.3rem">
                                  <button type="button" id="${tabDict["deleteButtonID"]}" data-tabAnchorID="${tabDict["aID"]}" data-tabContainerDivID="${tabDict["aHref"].replace("#","")}" style="border-width:0px;padding: 1px 1px;background-color: white;"><i class="fa fa-times" style="font-size:0.9rem;"></i></button>
                                  </div>
                                  </div>
                                  </a></li>`);
                                  const deleteButton = document.getElementById(`${tabDict["deleteButtonID"]}`);
                                  if($("#" + tabDict["deleteButtonID"]).length > 0){
                                    deleteButton.addEventListener("click", (e) => {
                                      const id = e.target.parentNode.id.replace('removeT', 'indext');;
                                      const indexTab = document.getElementById('tabLinks');
                                      const linkToBeDeleted  = document.getElementById(`${id}`);
                                      $(`#${id}`).closest(".row").remove();
                                      let ind = 0
                                      $("#tabLinks").find(".col-2").each(function() {
                                        $(this).find("p").html(++ind)
                                      })
                                      const navUl = document.querySelector('.nav.nav-tabs.nav-fill.analysis-nav');
                                      if(navUl.children.length > 4) {
                                        navUl.classList.add("scroll-nav")
                                      } else {
                                        navUl.classList.remove("scroll-nav")
                                      }
                                    })
                                  }
                              }
                                $(`#${mainTabContainerID}`).append(`<div class="tab-pane fade" id="${tabDict["aHref"].replace("#","")}" role="tabpanel" aria-labelledby="${tabDict["aID"]}">
                                <div class="d-flex justify-content-between" style="padding-top:1%">
                                <div class="card-tools tabCardTools row col-12" style="background:whitesmoke; display:flex; flex-direction:row; align-items:center; flex-wrap:wrap; padding-top:2px; padding-bottom:2px; margin:auto">     <button type="button" value="AddComment" class="btn btn-primary commentButton btn-xs" id="${tabDict["commentButtonID"]}"  data-toggle="tooltip" title="Add comment" style="height: 25px;border-radius:5px;border-color:none;color:white; margin-top:10px; margin-bottom:10px"><i class='far fa-comment-dots' style="font-size:1rem;"></i></button>&nbsp;     <button type="button" value="PDF" class=" btn btn-primary" data-tabHeaderID="${tabDict["tabHeaderID"]}" id='${tabDict["pdfButtonID"]}' style=" color:#ffffff;background-color:rgba(86,90,94,0);border-style:none;border-width:;border-color:#000000;font-size:none;border-radius:5px; margin-right:10px; margin-top:10px; margin-bottom:10px" onMouseOver='' onMouseOut=''><i class='fas fa-file-invoice listoficons' style='color:#1d3b58'></i> </button>       <button type="button" value="slicerConfig" class="btn btn-primary" data-tabHeaderID="${tabDict["tabHeaderID"]}" id='${tabDict["pdfButtonID"]}' data-toggle="modal" data-target="#slicerConfigModal${analysisTabID}${tab_ID}" style="height: 25px;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px; margin-right:10px; margin-top:10px; margin-bottom:10px"><i class="fas fa-filter"></i>&nbsp;Slicer</button>       </div>
                                </div>
                                <div class="col-lg-12 row chartDivSection"  data-layout="Landscape" id="${tabDict["chartDivContainer"]}" ondblclick="resetCrossFilter.call(this)"></div>
                                <div class="modal" id="slicerConfigModal${analysisTabID}${tab_ID}">
                                  <div class="modal-dialog modal-md modal-dialog-centered">
                                      <div class="modal-content">
                                          <div class="modal-header">
                                              <h6 class="modal-title" style="text-align:center;">Configure slicer</h6>
                                              <button type="button" class="close" data-dismiss="modal">&times;</button>
                                          </div>
                                          <div class="modal-body">
                                              <div class="card">
                                                  <div class="card-body">
                                                  <div class="card-tools" style="display:flex; flex-direction:row; align-items:center; justify-content:space-between; color:var(--primary-color)">
                                                      <label for="">Add slicer</label>
                                                      <button type="button" class="btn addOptionBtn" onclick="addSlicers('${analysisTabID}', '${tab_ID}')"><i class="fas fa-plus" style="color:var(--primary-color);"></i></button>
                                                  </div>
                                                  <div id="slicerConfigCard${analysisTabID}${tab_ID}" style="max-height: 15.25rem; overflow-y: scroll; overflow-x: hidden;">
                                                      <div class="card" data-slicer_class="selectSlicerConfig_${analysisTabID}${tab_ID}">
                                                      <div class="card-body">
                                                          <div class="form-group">
                                                          <label for="analysisSlicerTable">Source table:
                                                          </label>
                                                          <select class="select2 form-control analysisSlicerTable" name="analysisSlicerTable">
                                                              <option value="">Select source table</option>

                                                          </select>
                                                          </div>
                                                          <div class="form-group">
                                                          <label for="analysisSlicerParameter">Slicer parameter:
                                                          </label>
                                                          <select  class="select2 form-control analysisSlicerParameter" name="analysisSlicerParameter">
                                                              <option value="">Select slicer parameter</option>
                                                          </select>
                                                          </div>
                                                          <div class = "form-group">
                                                            <label for="analysisSlicerBoolean">
                                                            <input type="checkbox" class="analysisSlicerBoolean" name="analysisSlicerBoolean" value="True">
                                                            Add default option for all values</label>
                                                          </div>
                                                          <div class="form-group">
                                                          <label>
                                                          <input class="mulcheckbox" type="checkbox">
                                                          Multiselect Slicer</label>
                                                        </div>
                                                      </div>
                                                      </div>
                                                  </div>
                                                  </div>
                                              </div>
                                          </div>
                                          <div class="modal-footer">
                                              <button type="button" id="saveTabSlicerConfig${analysisTabID}${tab_ID}" data-analysis_id="${analysisTabID}" data-tab_id="${tab_ID}" class="btn btn-primary btn-xs mx-2 rounded px-2" data-dismiss="modal">Save</button>
                                          </div>
                                      </div>
                                  </div>
                                </div>
                                </div>`)
                                if($('.chartDivSection').attr('data-layout') == "Landscape") {
                                  $('.chartDivSection').css({
                                      "background-size": "14.26% 10em",
                                      "width":"1125px",
                                      "margin":"auto",
                                      "border": "solid black 0.1px",
                                      "overflow-x": "hidden",
                                      "overflow-y": "hidden",
                                      "min-height":"715px",
                                      "max-height":"715px"
                                    })
                                  } else if($('.chartDivSection').attr('data-layout') == "Portrait"){
                                    $('.chartDivSection').css({
                                      "background-size": "14.26% 10em",
                                      "width":"900px",
                                      "margin":"auto",
                                      "border": "solid black 0.1px",
                                      "min-height":"1105px",
                                      "overflow-y": "hidden",
                                      "max-height":"1105px",
                                      "overflow-x": "hidden",
                                    })
                                  } else {
                                      $('.chartDivSection').css({
                                      "width":"92%",
                                      "padding-left": "70px",
                                      "padding-top": "9px",
                                      "padding-right": "9px",
                                  })
                                  }
                                  if($('.chartDivSection').attr('data-layout') == "Landscape" || $('.chartDivSection').attr('data-layout') == "Portrait") {
                                    if (Object.keys(tabDict).includes('grid')) {
                                        if(tabDict["grid"] == "no") {
                                          $(`#${tabDict["chartDivContainer"]}`).css('background-image',"none");
                                        } else {
                                          $(`#${tabDict["chartDivContainer"]}`).css({"background-image": "linear-gradient(rgba(0, 0, 0, 1) 0.07px, transparent 0.36%), linear-gradient(90deg, rgba(0, 0, 0, 1) 0.07px, transparent 0.46px)"});
                                        }
                                    } else {
                                      $(`#${tabDict["chartDivContainer"]}`).css({"background-image": "linear-gradient(rgba(0, 0, 0, 1) 0.07px, transparent 0.36%), linear-gradient(90deg, rgba(0, 0, 0, 1) 0.07px, transparent 0.46px)"});
                                    }

                                  }
                                fetchSlicerParams(app_code);
                                function fetchAnalysisSlicer(tabSlicerConfig, analysisTabID, tabNo) {
                                    var ctoken = $('form').find("input[name='csrfmiddlewaretoken']").attr('value')
                                    $.ajaxSetup({
                                        beforeSend: function (xhr, settings) {
                                            xhr.setRequestHeader("X-CSRFToken", ctoken);
                                        }
                                    });

                                    $.ajax({
                                    url: `/users/${urlPath}/processGraphModule/`,
                                    data: {
                                        'tab_slicer_config': JSON.stringify(tabSlicerConfig),
                                        'element_id': analysisTabID,
                                        'tab_id': (tabNo),
                                        'app_code': app_code,
                                        'operation': 'saveAnalysisSlicerConfigL3',
                                    },
                                    type: "POST",
                                    dataType: "json",
                                    success: function (data) {
                                        var analysisSlicerElementId = data.elementID;
                                        var analysisSlicerTabId = data.slicer_tab_id;
                                        $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').empty();
                                        $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').append(`        <button type="button" value="AddComment" class="btn btn-primary commentButton btn-xs" id="AddComment${analysisSlicerElementId}${analysisSlicerTabId}"  data-toggle="tooltip" title="Add comment" style="height: 25px;border-radius:5px;border-color:none;color:white;margin-top:10px; margin-bottom:10px"><i class='far fa-comment-dots' style="font-size:1rem;"></i></button>&nbsp;        <button type="button" value="PDF" class=" btn btn-primary" data-tabHeaderID="tabHeader${analysisSlicerElementId}${analysisSlicerTabId}" id='analysisPDF${analysisSlicerElementId}${analysisSlicerTabId}' style="border-radius:5px;  margin-right:5px;margin-top:10px; gridLines;margin-bottom:10px;padding-left: 9px;padding-top: 2px; height:25px" onMouseOver='' onMouseOut=''>PDF </button>          <button type="button" value="slicerConfig" class="btn btn-primary" data-tabHeaderID="tabHeader${analysisSlicerElementId}${analysisSlicerTabId}" id='slicerConfig${analysisSlicerElementId}${analysisSlicerTabId}' data-toggle="modal" data-target="#slicerConfigModal${analysisSlicerElementId}${analysisSlicerTabId}" style="height: 25px;border-radius:5px;border-color:none;color:white;padding-left:9px;padding-top:2px; margin-right:10px; margin-top:10px; margin-bottom:10px;display:none"><i class="fas fa-filter"></i>&nbsp;Slicer</button><button type="button" value="gridLines" class="btn btn-primary" data-tabHeaderID="tabHeader${analysisSlicerElementId}${analysisSlicerTabId}" id='gridLines${analysisSlicerElementId}${analysisSlicerTabId}' style="border-radius:5px; height:25px; margin-right:10px; margin-top:10px; margin-bottom:10px;padding-left: 9px;padding-top: 2px"   onclick="gridLine.call(this)">Grid Line </button>`             );

                                        let tabSlicerConfigOutput = data[analysisSlicerTabId];
                                        let analysis_additional_config = tabSlicerConfigOutput.analysis_additional_config;
                                        if (analysis_additional_config == "slicer_config") {
                                        let slicerTables = tabSlicerConfigOutput.slicerTable;
                                        let slicerParameters = tabSlicerConfigOutput.slicerParameter;
                                        let mapDict = tabSlicerConfigOutput.mappingDict
                                        let slicerParameterValues = tabSlicerConfigOutput.slicer_parameter_values;
                                        let slicerBooleans= tabSlicerConfigOutput.slicerBoolean;
                                        let slicerReloadValue = tabSlicerConfigOutput.slicerReload;
                                        let multipleSlicer = tabSlicerConfigOutput.multipleSlicer;
                                        var html = '';
                                        for(let i = 0; i < slicerParameterValues.length; i++) {
                                            let attr_ = 'data-value = ""'
                                            let multiple = "";
                                            if(slicerReloadValue != undefined){
                                              if (slicerReloadValue.length != 0) {
                                                attr_ = 'data-value' + `= '${JSON.stringify(slicerReloadValue[i])}'`
                                              }
                                            }
                                            if(multipleSlicer != undefined){
                                              if(multipleSlicer.length > 0){
                                                if(multipleSlicer[i]){
                                                  multiple = "multiple";
                                                }
                                              }
                                            }
                                            html = html + `
                                            <div class="form-inline">
                                            <span style="color:var(--primary-color); margin-right:10px; margin-left:10px;">${mapDict[i][slicerParameters[i]]}:</span>
                                            <select class="selectSlicerConfig_${analysisSlicerElementId}${analysisSlicerTabId} select2 form-control slicerParamValue${analysisSlicerElementId}" data-tab="${analysisSlicerTabId}" data-slicertable="${slicerTables[i]}" data-slicerColumn= "${slicerParameters[i]}" ${attr_} data-id="selectSlicerConfig_${analysisSlicerElementId}${analysisSlicerTabId}" style="width:150px;display:inline-block;" ${multiple}>`
                                                if(slicerBooleans != undefined){
                                                  if (slicerBooleans.length != 0) {
                                                    if(slicerBooleans[i] == 'True'){
                                                      html = html + `<option value="" selected>All</option>`
                                                    }
                                                  }
                                                }
                                            for(let slc_val = 0; slc_val < slicerParameterValues[i].length; slc_val++) {
                                              if(slicerParameterValues[i][slc_val] != ''){
                                                html = html + `<option value="${slicerParameterValues[i][slc_val]}">${slicerParameterValues[i][slc_val]}</option>`
                                            }
                                            }
                                            html = html +
                                            `</select>
                                            </div>
                                            `
                                        }
                                        $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').append(html);
                                        $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').find('.select2').each(function(){
    parent = $(this).parent()
    $(this).select2({dropdownParent:parent})
  })
                                        $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').find('.select2').parent().find(".select2-container").css("max-height","55px");
                                        $(`#tab${analysisSlicerElementId}${analysisSlicerTabId}`).find('.card-tools.tabCardTools').find('.select2').parent().find(".select2-container").css("overflow-y","scroll");
                                        }
                                          slicerChangeUpdatePlots(app_code = app_code);
                                          $(`#analysisPDF${analysisSlicerElementId}${analysisSlicerTabId}`).click(async function(){
                                              function sleep(ms) {
                                                  return new Promise(resolve => setTimeout(resolve, ms));
                                                }
                                                      var buttonText = $(this).html()
                                                      $(this).html(`<i class="fa fa-circle-notch fa-spin"></i> Loading`);
                                                      $(this).parent().attr("data-html2canvas-ignore", true);
                                                      $('.nav-tabs').attr("data-html2canvas-ignore", true);
                                                      $(`#${$(this).parent().parent().next().attr('id')}`).css('border','none')
                                                      var layout_old = $(`#${$(this).parent().parent().next().attr('id')}`).attr('data-layout')
                                                      $('body').css('pointer-events','none')
                                                      $('body').css('background-color','black')
                                                      $('body').css('opacity',0.5)
                                                      $('body').css('overflow-y','hidden')
                                                      $('.tab-content').find('.tab-pane').find('.card-body').find('.tab-content').find('.tab-pane').find('.chartDivSection').find('.charts').find('.card-header').find('.row').find('i').css('display','none')
                                                      $(document).scrollTop(0);
                                                      await sleep(1000);
                                                      page_section = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent();
                                                      HTML_Width = page_section.width();
                                                      HTML_Height = page_section.height();
                                                      top_left_margin = 5;
                                                      PDF_Width = HTML_Width + (top_left_margin * 2);
                                                      PDF_Height = (PDF_Width * 1.2) + (top_left_margin * 2);
                                                      pdfName=$(`#${$(this).attr('data-tabHeaderID')}`).text()

                                                      var wid = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0].offsetWidth
                                                      var hei = $(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0].offsetHeight
                                                      await html2canvas($(`#${$(this).parent().parent().next().attr('id')}`).parent().parent().parent()[0], { allowTaint: true }).then(function(canvas) {
                                                        canvas_image_height= HTML_Height
                                                        canvas_image_width=HTML_Width
                                                        var imgData = canvas.toDataURL('image/png');
                                                        var doc = new jsPDF("l","px",[wid,hei]);
                                                        doc.addImage(imgData, 'PNG',0,0,doc.internal.pageSize.width, doc.internal.pageSize.height);
                                                        doc.save(pdfName);
                                                        $('.tab-content').find('.tab-pane').find('.card-body').find('.tab-content').find('.tab-pane').find('.chartDivSection').find('.charts').find('.card-header').find('.row').find('i').css('display','inline-block')
                                                      });
                                                      $(this).empty();
                                                      $(this).html(buttonText);
                                                      if(layout_old != "No layout") {
                                                        $(`#${$(this).parent().parent().next().attr('id')}`).css('border',"solid black 0.1px")
                                                      }
                                                      $('.nav-tabs').removeAttr("data-html2canvas-ignore");
                                                      $(this).parent().removeAttr("data-html2canvas-ignore");
                                                      $('body').css('pointer-events','')
                                                      $('body').css('background-color','')
                                                      $('body').css('opacity','')
                                                      $('body').css('overflow-y','')
                                            })
                                          $(`#AddComment${analysisSlicerElementId}${analysisSlicerTabId}`).click(function(){
                                              var id_ = ('analysisEditor' + Math.random()).replace('.',"");
                                              $(this).parent().parent().next().append(`
                                                <div class="small-box commentboxcard" data-id="${id_}" id = "${id_}" onmouseenter="showTool.call(this)" onmouseleave="hideTool.call(this)" style="min-height:6rem;min-width:6rem;height:6rem;width:9rem;" >
                                                  <div class="row"  style="position:absolute; margin-left:100%; display:none;flex-wrap:wrap;">
                                                    <i class="fa fa-times deleteCommentBox" title="Delete" style="font-size:1rem;margin-right:0.5rem;margin-left:1px;margin-bottom:2px;"></i>
                                                    <i class='fas fa-edit' onclick="ckEditorFunc.call(this)" style="font-size:1rem;margin-right:0.5rem;margin-bottom:2px;"></i>
                                                    <i class="fa fa-arrows" style="font-size:1rem;margin-right:0.5rem;"></i>
                                                  </div>
                                                  <div class="commentbox contentEditable" name="comment" style="margin-top:1rem;max-height: 75%;padding: 0.3em 0.5em 0 0.5em;background-color: transparent;text-align: left;overflow-y: auto;">

                                                  </div>
                                                </div>`)
                                              $(".commentboxcard").resizable();
                                              $('.contentEditable').each(function () {
                                                  $(this).on('click', function () {
                                                  $(this).attr("contenteditable", "true")
                                                  $(this).focus()
                                                  })
                                                  $(this).focusout(function () {
                                                      var content = this.innerText
                                                      content = content.trim()
                                                      if (content.length == 0){
                                                      this.innerText = "Enter text here."
                                                      $(this).removeAttr("contenteditable");
                                                      $(this).trigger("click")
                                                      }
                                                      else{
                                                      $(this).removeAttr("contenteditable");
                                                      }
                                                  })
                                              })
                                              $('.deleteCommentBox').click(function () {
                                                  $(this).parent().parent().remove()
                                              })
                                              $(".commentboxcard").draggable({
                                                  cancel: '',
                                                  containment: "parent",
                                              });
                                          })
                                    },
                                    error: function () {
                                        Swal.fire({icon: 'error',text: 'Error! Failure in fetching the columns. Please try again.'});
                                    }
                                    });
                                }
                                fetchAnalysisSlicer(tabSlicerConfig, analysisTabID, tab_ID);

                              //   Updating slicer config
                                $(`#saveTabSlicerConfig${analysisTabID}${tab_ID}`).off('click').on('click', function(){
                                    let anlysisElementId = $(this).attr('data-analysis_id');
                                    let analysistabNo = $(this).attr('data-tab_id');
                                    var analysisSlicerTabDict = {
                                      "TabID":(analysistabNo),
                                      "slicerTable":[],
                                      "slicerParameter":[],
                                      "slicerBoolean" :[],
                                      "slicerReload":[],
                                      "multipleSlicer":[],
                                    }
                                    $(`#slicerConfigCard${anlysisElementId}${analysistabNo}`).find('.card').find('.analysisSlicerTable').each(function() {
                                        analysisSlicerTabDict["slicerTable"].push($(this).val());
                                    });
                                    $(`#slicerConfigCard${anlysisElementId}${analysistabNo}`).find('.card').find('.analysisSlicerParameter').each(function() {
                                        analysisSlicerTabDict["slicerParameter"].push($(this).val());
                                    });
                                    $(`#slicerConfigCard${anlysisElementId}${analysistabNo}`).find('.card').find('.mulcheckbox').each(function() {
                                        if ($(this).is(":checked")){
                                          analysisSlicerTabDict["multipleSlicer"].push(true);
                                        } else{
                                          analysisSlicerTabDict["multipleSlicer"].push(false);
                                        }
                                    });
                                    $(`#slicerConfigCard${anlysisElementId}${analysistabNo}`).find('.card').find('.analysisSlicerBoolean').each(function() {
                                      if ($(this).is(":checked")){
                                        analysisSlicerTabDict["slicerBoolean"].push("True")
                                      }else {
                                        analysisSlicerTabDict["slicerBoolean"].push("False")
                                      }
                                    });
                                    fetchAnalysisSlicer(analysisSlicerTabDict, analysisTabID, (analysistabNo));
                                    slicerChangeUpdatePlots(app_code = app_code);
                                });


                                $(`#slicerConfigCard${analysisTabID}${tab_ID}`).empty()
                                  for (let slicer=0; slicer < tabSlicerConfig.slicerTable.length; slicer++) {
                                      addSlicers(analysisTabID, tab_ID);
                                      $(`#slicerConfigCard${analysisTabID}${tab_ID}`).find('.card').eq(slicer).find(".analysisSlicerTable").empty()
                                      for (var table of analysisTableNames) {
                                          $(`#slicerConfigCard${analysisTabID}${tab_ID}`).find('.card').eq(slicer).find(".analysisSlicerTable").append(`<option value="${table}">${table}</option>`)
                                      };
                                      $(`#slicerConfigCard${analysisTabID}${tab_ID}`).find('.card').eq(slicer).find(".analysisSlicerTable").val(tabSlicerConfig.slicerTable[slicer]).trigger('select2:select');
                                      $(`#slicerConfigCard${analysisTabID}${tab_ID}`).find('.card').eq(slicer).find(".analysisSlicerTable").val(tabSlicerConfig.slicerTable[slicer]).trigger('change');
                                      if(tabSlicerConfig.slicerBoolean != undefined){
                                        if (tabSlicerConfig.slicerBoolean.length > 0) {
                                          $(`#slicerConfigCard${analysisTabID}${tab_ID}`).find('.card').eq(slicer).find(".analysisSlicerBoolean").prop("checked", tabSlicerConfig.slicerBoolean[slicer])
                                        }
                                      }
                                      if(tabSlicerConfig.multipleSlicer != undefined && tabSlicerConfig.multipleSlicer.length > 0){
                                        if( tabSlicerConfig.multipleSlicer[slicer] != undefined){
                                          $(`#slicerConfigCard${analysisTabID}${tab_ID}`).find('.card').eq(slicer).find(".mulcheckbox").prop("checked", tabSlicerConfig.multipleSlicer[slicer])
                                        }
                                      }
                                      if($(`#slicerConfigCard${analysisTabID}${tab_ID}`).find('.card').eq(slicer).find(".analysisSlicerParameter").attr('data-slicerParam') != undefined){
                                        $(`#slicerConfigCard${analysisTabID}${tab_ID}`).find('.card').eq(slicer).find(".analysisSlicerParameter").attr('data-slicerParam').removeAttr(data-slicerParam)
                                      }
                                      $(`#slicerConfigCard${analysisTabID}${tab_ID}`).find('.card').eq(slicer).find(".analysisSlicerParameter").attr('data-slicerParam', tabSlicerConfig.slicerParameter[slicer])


                                  }         var analysisTableList = [];
                                  var ctoken = $('form').find("input[name='csrfmiddlewaretoken']").attr('value')
                                  $.ajaxSetup({
                                      beforeSend: function (xhr, settings) {
                                          xhr.setRequestHeader("X-CSRFToken", ctoken);
                                      }
                                  });


                                $(`#${tabDict["chartDivContainer"]}`).append($(`<div class="hidden" style="height:${tabDict["chartDivContainerHeight"]+"px"}">`));
                                $(`#${tabDict["deleteButtonID"]}`).click(function(){
                                  var tabAnchorID=$(this).attr('data-tabAnchorID')
                                  var tabContainerDivID=$(this).attr('data-tabContainerDivID')
                                  $(`#${tabAnchorID}`).parent().remove()
                                  $(`#${tabContainerDivID}`).remove()
                                })


                                $('.contentEditable').each(function () {
                                $(this).on('click', function () {
                                  $(this).attr("contenteditable", "true")
                                  $(this).focus()
                                })
                                $(this).focusout(function () {
                                  var tab_header = this.innerText
                                  tab_header = tab_header.trim()
                                  if (tab_header.length == 0){
                                    this.innerText = "Set Name"
                                    $(this).removeAttr("contenteditable");
                                    $(this).addClass("bg-danger")
                                    $(this).trigger("click")

                                  }
                                  else{
                                  $(this).removeAttr("contenteditable");
                                  $(this).removeClass("bg-danger")
                                  }
                              })
                              })
                              $(`#${tabDict["commentButtonID"]}`).click(function(){
                                var id_ = ('analysisEditor' + Math.random()).replace('.',"");
                                  $(this).parent().parent().next().append(`
                                  <div class="small-box commentboxcard" data-id="${id_}" id = "${id_}" onmouseenter="showTool.call(this)" onmouseleave="hideTool.call(this)" style="min-height:6rem;min-width:6rem;height:6rem;width:9rem;" >
                                        <div class="row"  style="position:absolute; margin-left:100%; display:none;flex-wrap:wrap;">
                                          <i class="fa fa-times deleteCommentBox" title="Delete" style="font-size:1rem;margin-right:0.5rem;margin-left:1px;margin-bottom:2px;"></i>
                                          <i class='fas fa-edit' onclick="ckEditorFunc.call(this)" style="font-size:1rem;margin-right:0.5rem;margin-bottom:2px;"></i>
                                          <i class="fa fa-arrows" style="font-size:1rem;margin-right:0.5rem;"></i>
                                        </div>
                                        <div class="commentbox contentEditable" name="comment" style="margin-top:1rem;max-height: 75%;padding: 0.3em 0.5em 0 0.5em;background-color: transparent;text-align: left;overflow-y: auto;">

                                        </div>
                                      </div>
                                  `)
                                  $(".commentboxcard").resizable();
                                  $('.contentEditable').each(function () {
                                      $(this).on('click', function () {
                                        $(this).attr("contenteditable", "true")
                                        $(this).focus()
                                      })
                                      $(this).focusout(function () {
                                          var content = this.innerText
                                          content = content.trim()
                                          if (content.length == 0){
                                            this.innerText = "Enter text here."
                                            $(this).removeAttr("contenteditable");
                                            $(this).trigger("click")
                                          }
                                          else{
                                          $(this).removeAttr("contenteditable");
                                          }
                                      })
                                    })
                                  $('.deleteCommentBox').click(function () {
                                      $(this).parent().parent().remove()
                                  })
                                  $(".commentboxcard").draggable({
                                      cancel: '',
                                      containment: "parent",
                                  });
                              })

                          }

                          const editables = document.getElementsByClassName('contentEditable tabname');
                            Array.from(editables).forEach(ele => {
                              ele.addEventListener("blur", (e) => {
                                updateIndex(ele.id, ele.textContent)
                              })
                          });

                          for(k in analysisDataRaw["subTabChartDetails"]){
                              var chartDict=analysisDataRaw["subTabChartDetails"][k]
                              var parentContainerID=chartDict["ParentContainerID"]
                              navigateTabId = parentContainerID.replace("row","tab")
                              $("#"+navigateTabId).attr("data-data",JSON.stringify(chartDict["chartJson"]))
                              $("#"+navigateTabId).attr("data-parentContainerID",JSON.stringify(parentContainerID))
                              $("#"+navigateTabId).attr("app_code",app_code)
                              $("#"+navigateTabId).attr("onclick","plotChartsAnalysis.call(this)")
                              $("#"+navigateTabId).attr("slicerTabConnectObj", JSON.stringify(analysisDataRaw["slicerTabConnectDict"]))
                              var configDic = {
                                "tabDict":tabDict,
                                "tabSlicerConfig":tabSlicerConfig,
                                "final_f_dict2":final_f_dict2,
                                "thresholdGuage":thresholdGuage,
                                "interaction":interaction,
                                "tab_ID":tab_ID,
                                "parentId":parentId
                              }
                              $("#"+navigateTabId).attr("data-configdic",JSON.stringify(configDic))
                              if(k == 0) {
                                $("#"+navigateTabId).trigger("click")
                              }
                          }
                          var tab_object = $(`#analysisDashboard${analysisTabID} .tab-content`)
                            var bg_x= analysisDataRaw['subTabContent'][0]['tab_background-color']
                            var bg_image= analysisDataRaw['subTabContent'][0]['global_bg_name']
                            var bg_folder= analysisDataRaw['subTabContent'][0]['global_bg_folder']
                            var global_bg_value = analysisDataRaw['subTabContent'][0]['global_bg_value']
                            $(`#global_bg${analysisTabID}`).val(global_bg_value).trigger("change")
                            if(global_bg_value == "background_image"){
                              $('.global_bg_color').css("display","none")
                              $('.global_bg_image').css("display","block")
                              if(bg_image != "" || bg_image != undefined)
                            {
                              if ($(`#analysisTabContent${analysisTabID}`).find('.chartDivSection').attr('data-layout') == "Landscape") {
                                  $(`#analysisTabContent${analysisTabID}`).find('.chartDivSection').css("background-size",'1125px 715px' )
                                  }
                              else if ($(`#analysisTabContent${analysisTabID}`).find('.chartDivSection').attr('data-layout') == "Portrait") {
                                  $(`#analysisTabContent${analysisTabID}`).find('.chartDivSection').css("background-size",'900px 1105px' )
                                  }
                              else{
                                $(`#analysisTabContent${analysisTabID}`).find('.chartDivSection').css("background-size",'100%' )
                              }

                              $.ajax({
                                  url: `/users/${urlPath}/reload_bg_image/`,

                                  data:{
                                      'folder_name': bg_folder,
                                      'filename': bg_image,
                                  },
                                  type: "POST",
                                  dataType: "json",
                                  success: function (data) {
                                      $(`.mainDiv`).css("background-image",'url(data:image/png;base64,' + data.image_url )
                                      $(`.mainDiv`).css("background-size",'56em 15em' )
                                      $(`#tabLinks`).css("background-image",'url(data:image/png;base64,' + data.image_url )
                                      $(`#tabLinks`).css("background-size",'56em 15em' )
                                      $(`#bg_image_url${analysisTabID}`).html("")
                                      $(`#bg_image_url${analysisTabID}`).html(data.image_url)
                                      $(`#bg_image_name${analysisTabID}`).html("")
                                      $(`#bg_image_name${analysisTabID}`).html(data.image_name)
                                      $(`#analysisTabContent${analysisTabID}`).find('.chartDivSection').css("background-image",'url(data:image/png;base64,' + data.image_url )

                                  }
                              })

                            }
                            }
                            else{
                              $('.global_bg_color').css("display","block")
                              $('.global_bg_image').css("display","none")
                              $(`.mainDiv`).css("background-image",'none' )
                            }
                            $(`#analysisTabContent${analysisTabID}`).find('.chartDivSection').css("background-color",bg_x)
                            $("#tabLinks").css("background-color",bg_x)

                            $(`#analysisTabContent${analysisTabID}`).find('.chartDivSection').attr("config_background-color",bg_x)
                            $(`#analysisDashboard${analysisTabID} .tab-content`).attr("config_background-color",bg_x);
                            $(`#analysisTab${analysisTabID}`).find('.nav-link').attr("config_background-color",bg_x);
                              if(bg_x != undefined){
                                $(`#myColor${analysisTabID}`).val(bg_x)
                                $(`#main_theme${analysisTabID}`).css("background-color",bg_x);
                              }
                              if(analysisDataRaw['subTabContent'][0]['outer_color'] != undefined){
                                $(`#theme1${analysisTabID}`).css("background-color",analysisDataRaw['subTabContent'][0]['outer_color']);
                                $(`#themeColor${analysisTabID}`).val(analysisDataRaw['subTabContent'][0]['outer_color'])
                              }
                              if(analysisDataRaw['subTabContent'][0]['inner_color'] != undefined)
                              {
                                $(`#themegrad${analysisTabID}`).css("background-color",analysisDataRaw['subTabContent'][0]['inner_color']);
                                $(`#themeColor1${analysisTabID}`).val(analysisDataRaw['subTabContent'][0]['inner_color'])
                              }


                              if(analysisDataRaw['subTabContent'][0]['indexCard_BGColor'] != undefined)
                              {
                                $(`#indextabBG${analysisTabID}`).css(analysisDataRaw['subTabContent'][0]['indexCard_BGColor']);
                                $(`#indextabBG${analysisTabID}`).val(analysisDataRaw['subTabContent'][0]['indexCard_BGColor'])
                              }
                              if(analysisDataRaw['subTabContent'][0]['indexCard_FontColor'] != undefined)
                              {
                                $(`#indextabFC${analysisTabID}`).css("color",analysisDataRaw['subTabContent'][0]['indexCard_FontColor']);
                                $(`#indextabFC${analysisTabID}`).val(analysisDataRaw['subTabContent'][0]['indexCard_FontColor'])
                              }

                               if(analysisDataRaw['subTabContent'][0]['header_color'] != undefined)
                              {
                                $(".inner-div_title").css("color",analysisDataRaw['subTabContent'][0]['header_color']);
                                $(".global_header_color").val(analysisDataRaw['subTabContent'][0]['header_color'])
                              }
                              if(analysisDataRaw['subTabContent'][0]['header_bg_color'] != undefined)
                              {
                                $(".inner-div_header").css("background-color",analysisDataRaw['subTabContent'][0]['header_bg_color']);
                                $(".global_header_bgcolor").val(analysisDataRaw['subTabContent'][0]['header_bg_color'])
                              }
                              if(analysisDataRaw['subTabContent'][0]['global_header_alignment'] != undefined)
                              {
                              $(".global_header_alignment").val(analysisDataRaw['subTabContent'][0]['global_header_alignment']).trigger("change")
                              }
                              $(".global_header_fontsize").val(analysisDataRaw['subTabContent'][0]['header_fontsize'])
                              $(".global_header_fontweight").val(analysisDataRaw['subTabContent'][0]['header_fontweight']).trigger("change")
                               $(".global_header_fontstyle").val(analysisDataRaw['subTabContent'][0]['header_fontstyle']).trigger("change")
                              $(".inner-div_title").css("font-size",analysisDataRaw['subTabContent'][0]['header_fontsize'] + 'px');
                              $(".inner-div_title").css("font-weight",analysisDataRaw['subTabContent'][0]['header_fontweight']);
                              $(".inner-div_title").css("font-style",analysisDataRaw['subTabContent'][0]['header_fontstyle']);
                              var theme_height = (parseInt(analysisDataRaw['subTabContent'][0]['header_fontsize']) + 20) + "px"
                              $(".inner-div_header").css("height",theme_height);
                              if(analysisDataRaw['subTabContent'][0]['global_checkBox'] != undefined)
                              {
                                $(".global_shadow").prop('checked',analysisDataRaw['subTabContent'][0]['global_checkBox'])
                              }
                              if(analysisDataRaw['subTabContent'][0]['global_checkBox_border'] != undefined)
                              {
                                $(".global_border").prop('checked',analysisDataRaw['subTabContent'][0]['global_checkBox_border'])
                              }
                              if(analysisDataRaw['subTabContent'][0]['global_shadowColor'] != undefined)
                              {
                                $(".global_shadow_color").val(analysisDataRaw['subTabContent'][0]['global_shadowColor'])
                              }
                              if(analysisDataRaw['subTabContent'][0]['global_shadowXOffset'] != undefined)
                              {
                                $(".global_shadow_x").val(analysisDataRaw['subTabContent'][0]['global_shadowXOffset'])
                              }
                              if(analysisDataRaw['subTabContent'][0]['global_shadowBlur'] != undefined)
                              {
                                $(".global_shadow_blur").val(analysisDataRaw['subTabContent'][0]['global_shadowBlur'])
                              }
                              if(analysisDataRaw['subTabContent'][0]['global_shadowYOffset'] != undefined)
                              {
                                $(".global_shadow_y").val(analysisDataRaw['subTabContent'][0]['global_shadowYOffset'])
                              }
                              if(analysisDataRaw['subTabContent'][0]['global_shadowThickness'] != undefined)
                              {
                                $(".global_shadow_thickness").val(analysisDataRaw['subTabContent'][0]['global_shadowThickness'])
                              }

                              if(analysisDataRaw['subTabContent'][0]['global_borderThickness'] != undefined)
                              {
                                $(".global_border_thickness").val(analysisDataRaw['subTabContent'][0]['global_borderThickness'])
                              }
                              if(analysisDataRaw['subTabContent'][0]['global_borderStyle'] != undefined)
                              {
                                $(".global_border_style").val(analysisDataRaw['subTabContent'][0]['global_borderStyle']).trigger("change")
                              }
                              if(analysisDataRaw['subTabContent'][0]['global_borderColor'] != undefined)
                              {
                                $(".global_border_color").val(analysisDataRaw['subTabContent'][0]['global_borderColor'])
                              }
                              globalBorderFunction()
                              globalShadowFunction()
                              if(analysisDataRaw['subTabContent'][0]['g_color'] == "yes"){
                              $('.global_gradient_color').prop('checked', true);
                            }
                            else{
                              $('.global_gradient_color').prop('checked', false);
                            }
                          setTimeout(() => {
                              var i = 1
                              $('.chartDivSection').find('.charts').each(function() {
                                  var idPlot = $(this).attr('id').split('card')[0]
                                  var s_subtype = $(this).attr('data-subtype')
                                  if(interaction.length > 0) {
                                      if(interaction[i-1]) {
                                          $('#'+idPlot+'interaction').attr('checked','checked')
                                      } else {
                                          $('#'+idPlot+'interaction').prop('checked',false)
                                      }
                                  } else {
                                      $('#'+idPlot+'interaction').attr('checked','checked')
                                  }
                                  i = i + 1;

                                  if(s_subtype == "Table"){
                                  if(Object.keys(f2_dict).length > 0){

                                  var table = $(`#table_example${idPlot}`).DataTable();
                                  new $.fn.dataTable.FixedColumns( table,
                                    f2_dict[`${idPlot}`]
                                  );
                                }
                                }


                              })

                          },5000)
                          if (Object.keys(analysisDataRaw).includes('slicerTabConnectDict')) {
                              slicerTabConnectDict = analysisDataRaw['slicerTabConnectDict'];
                          }
                          if($(`#analysisDashboard${analysisTabID} .nav-tabs a:first`).attr("id") != undefined){
                            if($(`#analysisDashboard${analysisTabID} .nav-tabs a:first`).attr("id").includes("indexTab")){
                              $(`#analysisDashboard${analysisTabID} .nav-tabs a:first`).tab('show')
                              }else{
                              $(`#analysisDashboard${analysisTabID} .nav-tabs a:first`).trigger("click");
                            }
                          }
                          }
                          var ctoken = $('form').find("input[name='csrfmiddlewaretoken']").attr('value')
                          $.ajaxSetup({
                              beforeSend: function (xhr, settings) {
                                  xhr.setRequestHeader("X-CSRFToken", ctoken);
                              }
                          });

              }
              function savedChartConfig() {

                // $.ajax({
                //   url:`/users/${urlPath}/dynamicVal/`,
                //   data: {
                //     'operation':'saveChartConfig',
                //     'element_id': chartSaveEleId
                //     },
                //     type: 'POST',
                //     dataType: "json",
                //     success: function (data) {
                //       savedChartConfigFunc(data);
                //   },
                //   error: ()=>{
                //       Swal.fire({icon: 'error',text: 'Error! Please try again.'});
                //   }
                // })
              }
            </script>
             <script>
            analysiselementIDList.push("ellipse06740877683828901");

        </script>
          <script src="/static/js/Kore_TI_js/plot_charts/plot_charts.js"></script>
          <script>masterPlotFunc(elementIDList);</script>
          <script src="/static/js/Kore_TI_js/plot_charts/plotly_chartsAnalysisUtilites.js"></script><script src="/static/js/Kore_TI_js/plot_charts/plotly_chartsAnalysis.js"></script><script src="/static/js/Kore_TI_js/plot_charts/plotly_chartsAnalysis_modal.js"></script>


      <!-- Date Range Picker -->
      <script type="text/javascript" src="{%static 'moment/moment.min.js'%}"></script>
      <script type="text/javascript" src="{%static 'daterangepicker/js/daterangepicker.min.js'%}"></script>
      <link rel="stylesheet" href="{%static 'daterangepicker/css/daterangepicker.css'%}">
      <script type="text/javascript" src="{% static 'js/Kore_TI_js/htmlGeneratorScript.js' %}"></script> {%endblock%}