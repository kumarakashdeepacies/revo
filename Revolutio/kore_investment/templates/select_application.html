{% extends "base_all.html" %}
{% load static %}
{% load i18n %}
{{extend_template}}
<head>

  {% block new_css %}

  <style>
      .choose-buttons{
      margin: 10px 20px;
      width: 70%;
      background: var(--primary-color) !important;
      color: var(--font-hover-color) !important;
      padding: 10px 7px;
      border: none;
      border-radius: 20px;
      box-shadow: 1px 1px 7px #706f6f;
      transition: .2s;
    }
    .choose-buttons:hover{
      background-color: var(--secondary-color) !important;
      color: var(--font-hover-color) !important;
    }

     .yourapps-items:hover{
      background: var(--primary-color) !important;
    }

    .yourapps-items:hover .appList span{
      color: var(--font-hover-color) !important;
    }

    .btn-primary {
  color: var(--font-hover-color) !important;
  background-color: var(--primary-color) !important;
  border: none;
  box-shadow: none;
  margin-left: 0rem;
}

.btn-primary:hover, .btn-primary.focus, .btn-primary:focus, .btn-primary:active {
  background: var(--secondary-color) !important;
  color: var(--font-hover-color) !important;
}
    .dropdown-item:focus, .dropdown-item:hover {
    color: var(--font-hover-color) !important;
    text-decoration: none;
    background-color: var(--primary-color) !important
  }
    .switch:checked ~ .switch-color {
      background: var(--primary-color) !important;
    }
    .selectize-dropdown .active {
    background-color: var(--primary-color) !important;
    color: var(--font-hover-color) !important;
    }
    .selectize-input.focus {
    border-color: var(--primary-color) !important;
    box-shadow: unset !important;
    }
    .swal2-styled.swal2-confirm, .swal2-styled.swal2-deny, .swal2-styled.swal2-cancel{
  background-color: var(--primary-color) !important;
  padding: 0.3em 0.8em;
  flex: 0 0 5em;
  border: 0  !important;
  color: var(--font-hover-color) !important;
}
.swal2-styled.swal2-confirm:hover, .swal2-styled.swal2-deny:hover, .swal2-styled.swal2-cancel:hover {
  background-color: var(--secondary-color)!important;
  color: var(--font-hover-color)!important;
  border: 0 !important;
  box-shadow: none;
}
 .custom-file-input:lang(en) ~ .custom-file-label::after {
    content: "Browse";
    color: var(--font-hover-color);
  }
  .custom-file-label::after {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    z-index: 3;
    display: block;
    height: 2.25rem;
    padding: .375rem .75rem;
    line-height: 2;
    color: var(--font-hover-color);
    content: "Browse";
    background-color: var(--primary-color);
    border-left: inherit;
    border-radius: 0 .20rem .20rem 0
  }
  .custom-control-label::after {
    position: absolute;
    top: .25rem;
    left: -1.5rem;
    display: block;
    width: 1rem;
    height: 1rem;
    content: "";
    border: var(--primary-color) solid 1px ;
    background: no-repeat 50%/50% 50%;
  }
  .custom-checkbox .custom-control-input:checked ~ .custom-control-label::after {
  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3E%3Cpath fill='%23ffffff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26 2.974 7.25 8 2.193z'/%3E%3C/svg%3E");
  background-color: var(--primary-color);
  border-color: var(--primary-color);
}
    .app_description{
      cursor: pointer;
    }
    .radioButton{
        display: flex;
        justify-content: flex-start;
        margin: 1em auto;
    }
    .radioButton .allRadioButtons{
        display: grid;
        grid-auto-columns: 1fr;
        grid-auto-flow: column;
        height: 50px;
    }
    .radioButton .allRadioButtons label{
        margin: 0;
    }
    .radioButton .allRadioButtons label > .radioButtonContainer > input[type=radio]{
      display: none;
    }
    .radioButton .allRadioButtons label > .radioButtonContainer > input[type=radio] + *::before{
      display: block;
      margin: 20px auto;
      -ms-transform: scale(1.5);
      -webkit-transform: scale(1.5);
      transform: scale(1.5);
      content: "";
      width: 1rem;
      height: 1rem;
      border-radius: 50%;
      border: 0.1rem solid grey;
    }

    .radioButton .allRadioButtons label > .radioButtonContainer > input[type=radio]:checked + *::before{
      background: radial-gradient( var(--primary-color) 0%,  var(--secondary-color) 40%, transparent 50%, transparent);
      border-color:  var(--primary-color);
    }

    .radioButton .allRadioButtons.colorsRadio label > .radioButtonContainer > input[type=radio] + *::before{
      margin: 12px auto;
    }

    .radioButton .allRadioButtons .radioButtonContainer {
        border: 2px solid rgb(187, 187, 187);
        padding: 0px 15px;
    }
    .radioButton .allRadioButtons .radioButtonContainer p{
        font-weight: 700;
        margin-bottom: 5px;
      }
      .allRadioButtons label:hover{
        cursor: pointer;
      }
      .radioButton .allRadioButtons{
          display: grid;
          grid-auto-columns: 1fr;
          grid-auto-flow: column;
          height: 50px;
      }
      .radioButton .allRadioButtons label{
          margin: 0;
      }
      .radioButton .allRadioButtons label > .radioButtonContainer > input[type=radio]{
        display: none;
      }
      .radioButton .allRadioButtons label > .radioButtonContainer > input[type=radio] + *::before{
        display: block;
        margin: 20px auto;
        -ms-transform: scale(1.5);
        -webkit-transform: scale(1.5);
        transform: scale(1.5);
        content: "";
        width: 1rem;
        height: 1rem;
        border-radius: 50%;
        border: 0.1rem solid grey;
      }

      .radioButton .allRadioButtons label > .radioButtonContainer > input[type=radio]:checked + *::before{
        background: radial-gradient( var(--primary-color) 0%,  var(--secondary-color) 40%, transparent 50%, transparent);
        border-color:  var(--primary-color);
      }

      .radioButton .allRadioButtons.colorsRadio label > .radioButtonContainer > input[type=radio] + *::before{
        margin: 12px auto;
      }

      .radioButton .allRadioButtons .radioButtonContainer {
          border: 2px solid rgb(187, 187, 187);
          padding: 0px 15px;
      }
      .radioButton .allRadioButtons .radioButtonContainer p{
          font-weight: 700;
          margin-bottom: 5px;
          display: block;
          text-align: center;
      }

      .radioButton .allRadioButtons label:last-child .radioButtonContainer{
          border-radius: 0px 10px 10px 0px !important;
          border-left: 0px;
      }
      .radioButton .allRadioButtons label:first-child .radioButtonContainer{
          border-radius: 10px 0px 0px 10px !important;
          border-right: 0;
      }
      .radioButton .allRadioButtons label:last-child .borderColor{
          border-left: 0px;
          background: #d3d3d340;
      }
      .radioButton .allRadioButtons label:first-child .borderColor{
          border-right: 0px;
          background: #d3d3d340;
      }
      .radioButton .allRadioButtons label .borderColor{
          background: #d3d3d340;
      }

      .radioButton .allRadioButtons .radioButtonContainer input[type="radio"]{
          display: block;
          margin: 10px auto;
          -ms-transform: scale(1.5);
          -webkit-transform: scale(1.5);
          transform: scale(1.5);
      }
      .radioButton .allRadioButtons label > .radioButtonContainer > input[type=radio] + *::before{
          margin: 11px auto;
        }
      .radioButton .allRadioButtons .radioButtonContainer p {
          font-weight: 500;
        }
      .dev-options-dropdown .dropdown-divider{
        margin: 0;
      }
      .dev-options-dropdown{
        height: fit-content;
        min-width: 15em;
        border-radius: 1rem;
        overflow-y: auto;
        padding:0;
        overflow: hidden;
      }
      .dev-options-dropdown.show{
        overflow-y: unset;
      }
      .dev-options-dropdown a.dropdown-item:hover{
        background-color: var(--primary-color);
        color: var(--font-hover-color) !important;
      }
      .dev-options-dropdown a.dropdown-item{
        font-size: 85%;
        padding: 8% 10%;
        display: flex;
        align-items: center;
      }
      .dropdown-text{
        white-space: break-spaces;
      }
      .view-options a{
        font-size: 85%;
        padding: 5% 8%;
      }
      .modal{
        overflow: auto !important;
      }
      .modal-body:not(.modal-options-body) ::placeholder {
        color: #c5c5c0;
      }

      .app_wrapper {
        color: var(--font-color);
        background-color: #ffffff;
        margin: 20px;
        border-radius: 1rem;
        height: 16em;
        width: 88%;
        box-shadow: 1px 1px 3px #c5c5c5;
      }

      .app_wrapper:hover,
      .app_preview {
        box-shadow: 3px 4px 6px #c5c5c0;
        transition: 0.3s;
      }

      .app_preview {
        height: 204px;
        border-radius: 1rem;
      }

        .searchApplication {
          border: 1px solid darkgrey !important;
          color: darkgrey;
          background: #efefef !important;
          padding-left: 9px;
          height: 33px;
          border-radius: 5px !important;
        }

        .searchApplication::placeholder {
          color: rgb(105, 105, 105);
        }

        .form-group-search {
          margin: auto 10px
        }

        .create_new_application_wrapper {
          border-radius: 1rem;
          background-color: #fff;
          position: relative;
          margin: 20px;
          padding: 20px;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          box-shadow: 1px 1px 10px #c5c5c0;
          transition: .3s;
          height: 204px;
          color: var(--primary-color);
        }

        .create_new_application_wrapper:hover,.app_workspace.create_new:hover,
        .create-options:hover {
          box-shadow: none;
          background-color: var(--primary-color);
          color: var(--font-hover-color)!important;
        }

        .create_new_application_wrapper:hover span,.app_workspace.create_new:hover,
        .create-options:hover span {
          color: var(--font-hover-color)!important;
        }

        .info-box {
          border-top-right-radius: 1rem;
          border-top-left-radius: 1rem;
          border-bottom-right-radius: 0 !important;
          border-bottom-left-radius: 0 !important;
        }

        .create-options {
          border-radius: 00.75rem;
          background-color: #fff;
          min-height: 230px;
          position: relative;
          padding: 20px;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          margin-bottom: 10px;
          box-shadow: 1px 1px 10px #c5c5c0;
          transition: .3s;
          color: var(--primary-color)
        }

        .create-options-p {
          font-size: 11px !important;
        }

        .newapp_modalspan {
          text-align: center;
          align-items:center;
          font-size: 16px;
          color: var(--primary-color);
        }

        .modal-header:not(.modal-options-header),
        .modal-footer {
          border: none !important;
        }
        .more-info-icon.dropdown{
          display: flex;
          justify-content:flex-end;
          padding: 10px 20px;
          font-size: 17px;
          position: absolute;
          right: 6%;
          bottom: 6%;
        }
        .more-options{
          display: flex;
          justify-content:flex-end;
          padding: 10px 20px;
          font-size: 17px;
          position: absolute;
          right: 6%;
          bottom: 6%;
        }

        .form-group-flex,
        .form-group-expand-flex {
          display: flex;
          justify-content: space-between;
          margin: 15px 0;
        }

        .form-group-expand-flex {
          justify-content: flex-start !important;
        }

        .app-detail-input {
          border: 1px solid #c5c5c0;
          padding: 0 7px;
          border-radius: 4px !important;
          height: 28px;
        }

        #app_preview_icon,
        #app_preview_icon_design {
          font-size: 1.875rem !important;
        }

        .app_preview_div {
          border: 1px solid #c5c5c03d;
          padding: 10px 20px;
          border-radius: 1rem;
          margin: 16px auto;
        }

        .name_app_preview {
          background-color: #f7f7f7;
        }

        .application_config_expand {
          border: none;
          border-radius: 0px;
          padding: 7px 10px;
          transition: background-color 0.3s, box-shadow 0.3s, color 0.3s;
        }

        .modal-footer {
          justify-content: space-between !important;
        }

        .modal-footer button,
        .modal-header:not(.modal-options-header) button {
          background-color: var(--primary-color);
          color: var(--font-hover-color);
          border: none !important;
        }
        .modal-footer button:hover,
        .modal-header:not(.modal-options-header) button:hover{
          background-color: var(--secondary-color);
          /* color: var(--font-color); */
        }

        #check-tick, #excel-check-tick{
          margin: 8px;
          color: white;
        }

        .color-checkspan {
          height: 25px;
          width: 22px;
          border-radius: 5px;
          margin: 7px 4px;
          cursor: pointer;
        }

        .color-checkbox:checked {
          background-color: var(--primary-color);
        }

        .color-checkbox:checked {
          visibility: hidden;
        }

        .modal-content:not(.modal-options) {
          border-radius: 25px;
          padding: 15px;
        }

        input.form-control {
          padding: 0 10px;
        }

        .fuller-button {
          border: #dddddd solid 1px;
          background: #dddddd;
          outline: none !important;
          border-radius: 5px;
          box-shadow: 1px 1px 10px #dddddd;
          padding: 0 30px;
        }

        .fuller-button:active {
          box-shadow: none;
          border: none !important;
        }

        .fuller-button:hover {
          background-color: #cac7c7;
        }

        .modal-dialog:not(.modal-sm) {
          max-width: 830px;
        }

        button {
          outline: none;
        }

        .myapp_title {
          padding: 22px;
          justify-content:space-between;
          color: var(--font-color);
        }

        .input-span-group {
          display: flex;
          flex-direction: column;
          width: 100%;
        }

        .input-i-group {
          display: flex;
          width: 100%;
        }

        .expand-check-group {
          display: flex;
        }

        .icons {
          height: 32px;
          padding: 0;
        }

        .icons i {
          padding: 3px !important;
        }

        .remaining-count {
          position: absolute;
          right: 40px;
          top: 6px;
        }

        #AppDesignModal .app_preview_div {
          margin-top: 65px;
          width: 100%;
        }

        .more-info-icon {
          margin-top: 15px;
        }

        .main-container {
          position: relative;
          text-align: center;
        }

        .colorpicker {
          width: 234px
        }

        #view,
        #viewC{
          color: black;
          height: 60px;
          width: 60px;
          border-radius: 100%;
        }

        .right {

          position: absolute;
          right: 4px;
          bottom: 2px;

        }

        li.active a,
        li.active a:hover {
          background: #fff;
          color: #4c4c4c;
          border-top: 1px solid;
          border-left: 1px solid;
          border-right: 1px solid;
        }

        .more_colors {
          border: none;
          padding: 5px 10px;
          border-radius: 5px;
          text-transform: capitalize;
          margin-bottom: 20px;
        }

        .more_colors:hover {
          box-shadow: 1px 1px 10px #c5c5c0;
        }

        ul[class^="icon-picker-list"] {
          display: flex;
          flex-flow: row wrap;
          list-style: none;
          padding-left: 0;
          padding-right: 5px;
          justify-content: flex-start;
        }

        ul[class^="icon-picker-list"] li {
          width: 16%;
          margin-bottom: 5px;
        }

        ul[class^="icon-picker-list"] a {
          background-color: #f9f9f9;
          border: 1px solid #fff;
          color: black;
          display: block;
          flex: 1 1 auto;
          font-size: 20px;
          line-height: 1.4;
          min-height: 50px;
          padding: 10px;
          text-align: center;
          user-select: none;
        }

        ul[class^="icon-picker-list"] .fa {
          font-size: 24px;
          margin-bottom: 10px;
          margin-top: 5px;
        }

        ul[class^="icon-picker-list"] .name-class {
          display: block;
          text-align: center;
          word-wrap: break-word;
        }

        .container {
          overflow-y: scroll;

        }

        .info-box .info-box-text{
          overflow: unset;
          text-overflow: unset;
          white-space: unset;
        }

        button#hideApps:focus {
        outline: unset !important;
        border: unset !important;
        }
        .view-options .dropdown-item:hover{
          background-color: var(--primary-color);
          color: var(--font-hover-color) !important;
        }

        .hide{
          display : none;
        }
        .modal-header:not(.modal-options-header){
          padding-left: 20px;
          padding-right: 20px;
        }
        .modal-body:not(.modal-options-body){
          padding: 0 1.5rem;
        }
        .modal-md{
          justify-content: center;
        }
        .modal-box-icon{
          padding-left:10px;
          color: var(--primary-color);
          font-size:50px;
        }
        #alertSpanApp, #alertSpanLink{
          display:none;
          color:red;
        }

        #div_id_application_database, #div_id_application_theme{
          margin-top: 25px;
        }

        .info-box-icon{
          font-size: 20px;
          width:50px
        }
        #loadcloneApplication{
          display:none;
          padding: 5px;
        }
        #alertSpanAppBackup{
          display:none;
          color:red;
        }
        #datafile-check-tick{
          color:white;
          margin-top: 31px;
          margin-left: 8px;
        }
        #AppDesignModal .more-options{
          bottom: 7%
        }
        .sortableItem.ui-sortable-handle{
          margin-left: 0 !important;
        }

        @media screen and (min-width: 768px) {
          .expand-check-group {
              flex-basis: 47%;
          }
        }

        @media screen and (min-width: 501px) and (max-width: 768px) {
          .expand-check-group {
            flex-basis: 112% !important;
          }
        }

        @media screen and (max-width: 321px) {
          .expand-check-group {
            flex-basis: 46% !important;
          }
        }


        @media screen and (max-width: 376px) {
          .optional {
            font-size: 9px;
          }
          .expand-check-group {
            flex-basis: 43%;
          }
          .app_preview {
            height: 9rem !important;
          }
          .app_preview_div, #AppDesignModal .app_preview_div {
              width: 60% !important;
          }
          .app_preview_div .info-box {
              min-height: 2.8rem !important;
          }
          .app_preview_div  .info-box .info-box-icon{
            width: 25% !important;
          }
          .app_preview_div #app_preview_icon, #app_preview_icon_design {
              font-size: 1.2rem !important;
          }
          .app_preview_div #preview_app_name{
            font-size: 0.8rem;
          }
          .app_preview_div .info-box-text{
            font-size: 0.6rem;
          }
          .app_preview_div .more-options{
            font-size: 14px;
          }
          .form-group-flex {
              margin: 12px 0;
          }
          .desc_app_preview{
            padding: 0 12px !important;
          }
        }

        @media screen and (min-width: 421px) and (max-width: 500px) {
          .expand-check-group {
            flex-basis: 44%;
          }
        }

        @media screen and (min-width: 377px) and (max-width: 421px) {
          .expand-check-group {
            flex-basis: 35%;
          }
          .fuller-button {
            padding: 0px 10px;
            font-size: 0.7rem;
          }
        }

        @media screen and (max-width: 421px) {
          .fuller-button {
            padding: 0px 10px;
            font-size: 0.7rem;
          }
        }


        @media screen and (max-width: 500px) {
          #newAppdetails .buttonfooter {
            width: 80px;
          }
          .view-options button {
            width: 100%;
            font-size: 12px !important;
            padding: 6px;
          }
          .more-info-icon.dropdown {
            padding: 2px 25px !important;
          }
          .form-group-search {
            margin: 0 0 10px 0;
          }
          .myapp_title {
            font-size: 28px;
            flex-direction: column;
            justify-content:center;
          }

          #AppDesignModal .modal-body {
            padding-left: 0;
          }

          .app_icon_color_code,
          .app_card_color_code,
          .app_text_color_code,
          .app_text_description_color_code{
            margin-right: -25.5px !important;
          }

          #AppDesignModal .app_preview_div {
            margin-left: 15px !important;
          }

          .select2-container {
            width: 100% !important;
          }

          .content {
            padding: 4rem 2rem !important;
          }
          .app_preview_div {
            margin-left: -12px !important;
          }
          .app_preview_div, #AppDesignModal .app_preview_div{
            width: 70% ;
          }
          #AppDesignModal .app_preview_div .more-options{
            right: 10% !important;
          }
          #newAppdetails .modal-body{
            padding: 0 0.5rem;
          }
          .modal-header:not(.modal-options-header) {
            font-size: 1rem !important;
            margin-bottom: 0px !important;
            padding: 0px 0 !important;
          }
          #newAppdetails .modal-content{
            height: 100%
          }
          #newAppdetails .modal-dialog{
            overflow: unset !important;
            height: auto;
          }

        }

        @media screen and (max-width: 607px) {
          .view-options button{
            font-size: 15px;
          }
          .searchApplication{
            margin-bottom: 10px;
          }
          .text-input-wrap{
            flex-direction: column;
          }
          .myapp_title {
            flex-direction: column;
            font-size: 28px;
          }
          #newAppdetails .more-options{
            right: 0% !important;
          }
          .content {
            padding: 3rem 8rem !important;
          }
          #AppDesignModal .more-options {
            right: 29%;
            bottom: 2%;
          }
        }

        @media screen and (max-width: 700px) {
          .modal-dialog:not(.modal-sm) {
            min-width: auto;
          }

          .content {
            padding: 1rem 2rem !important;
          }
        }

        @media screen and (max-width: 769px) {

          .appdrawerlogo{
            text-align: center !important;
          }

          .right{
            right: -8px;
          }
          #selected-color-label{
            display: none;
          }

          #AppDatabaseModal .modal-content, #app_create_excel .modal-content, #backup .modal-content, #cloneAppModal1 .modal-content{
            width: 98% !important;
          }

          .select2-dropdown--below,
          .select2-container--open {
            width: 253.625px !important;
          }

          #app_create_excel .modal-content{
            width: 100% !important;
          }
          #app_create_excel .modal-title, #backup .modal-title, #cloneAppModal1 .modal-title{
            font-size: 19px !important;
          }
          #app_create_excel .modal-header button, #backup .modal-header button, #cloneAppModal1 .modal-header button{
            font-size: 12px !important;
          }
          #app_create_excel .modal-body, #backup .modal-body {
            padding: 1rem !important;
          }
          #app_create_excel #div_id_application_database label, #backup #div_id_application_database label,#backup #div_id_application_design label {
            width: 33% !important;
          }
          #app_create_excel .modal-footer, #backup .modal-footer, #cloneAppModal1 .modal-footer {
            padding: 0rem !important;
          }


          #morecolors .modal-content {
            width: 98% !important;
          }

          #morecolors #hex,
          #morecolors #view {
            display: none;
          }

          #morecolors .right #hexC {
            font-size: 11px;
          }

          #morecolors .right #viewC {
            height: 50px;
            width: 50px;
          }

          #moreicons .modal-content {
            width: 100% !important;
          }

          #search-icons {
            border: 1px solid lightgrey;
            width: 100%;
            height: 28px;
            margin-bottom: 15px;
            padding-left: 5px;
          }

          .form-group-flex {
            flex-direction: column;
          }

          .form-group-flex label,
          .form-group-flex input {
            width: 96% !important;
          }

          .form-group-expand-flex {
            justify-content: space-between !important;
          }

          .remaining-count {
            position: absolute;
            right: 40px;
            top: 34px;
          }

          .myapp_title {
            font-size: 20px;
            text-align: left;
          }

          .app_wrapper,
          .create_new_application_wrapper {
            width: 85%;
            height: 210px;
            margin: 10px auto !important;
          }

          .create-options {
            border-radius: 0.75rem;
            background-color: #fff;
            min-height: auto;
            position: relative;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px !important;
            box-shadow: 1px 1px 10px #c5c5c0;
            transition: .3s;
            width: 80%;
            margin: auto;
          }

          .modal-box-icon {
            padding-left: 10px;
            color: var(--primary-color);
            font-size: 30px;
          }

          .create-options-p {
            font-size: 12px !important;
            text-align: center;
          }

          .modal-header:not(.modal-options-header) {
            font-size: 1.25rem ;
            margin-bottom: 5px ;
            padding: 10px 0 ;
          }

          .color-checkspan i {
            margin-left: 0 !important;
          }

          .newapp_modalspan {
            font-size: 14px !important;
          }

          p {
            margin-top: 0;
            margin-bottom: 2rem !important;
          }

          .searchApplication {
            height: 40px;
          }

          .app_preview {
            height: 173px;
          }
          .info-box{
            min-height: 64px
          }

          #AppDesignModal .app_preview {
            width: 90% !important;
            margin: auto !important;
            height: 198px !important;
          }
          .app_preview_div {
            padding: 5px 0 !important;
            margin: auto !important;
          }
          #AppDesignModal .app_preview_div {
            margin: auto !important;
            width: 45%;
          }
          #AppDesignModal .more-options{
            right: 29%;
            bottom: 2%
          }
          #newAppDetails .more-options{
            right: -2% !important;
            bottom: 1%
          }


          .color-checkspan {
            margin: 3px 3px;
          }

          .listoficons {
            padding: 1px !important;
            font-size: 18px;
          }
          #searchApplication{
            font-size: 15px !important;
          }
          .view-options button {
            width: 100%;
            font-size: 12px !important;
            padding: 6px;
          }
        }

        @media screen and (max-width: 1000px) {
          .content {
            padding: 4rem 2rem;
          }

          .app_wrapper,
          .create_new_application_wrapper {
            margin: 10px;
          }

        .app_preview_div{
            padding: 10px 36px;
          }
          .more-options{
            right: 11%;
          }
          .more-info-icon.dropdown {
            padding: 2px 20px;
          }

        }

        .appdrawerlogo {
          text-align: right;
          height: 60px;
      }

      .appdrawerlogo img{
          height: 100% !important;
          width: auto;
      }

  {% if appdrawer_bg_image_name|length %}

      body {
        background: url('/media/{{tenant}}/TenantTheme/appdrawer/background_images/{{appdrawer_bg_image_name}}');
        background-attachment: fixed;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
      }
        .content-wrapper {
          background: none;
        }
        .main-footer.fixed-bottom{
          background:none;
        }
        .floating-wrapper{
          background-color: transparent !important;
        }
  {% endif %}

  {% if appdrawer_bgColorCode|length %}
      .floating-wrapper {
        background:{{appdrawer_bgColorCode}} !important;
        }
        .content-wrapper {
        background: {{appdrawer_bgColorCode}};
        }
        .main-footer.fixed-bottom{
        background:{{appdrawer_bgColorCode}};
        }
  {% endif %}

  {% if customize_app_footer == "True" %}
        .main-footer.fixed-bottom{
          font-size: {{app_footer_size}};
          text-align: {{app_footer_placement}};
          color: {{app_footer_bgcolor}} !important
        }
  {% endif %}


  {% if app_template == "template2"%}
        .app_workspace{
          width: 90%;
          box-shadow: 0 0 2px rgba(0,0,0,0.12), 0 2px 4px rgba(0,0,0,0.14);
          border-radius: 6px;
          padding: 15px;
          margin: 20px;
        }
        .app_workspace:hover{
          background-color: #f5f5f5;
          cursor: pointer;
        }
        .app_workspace:hover .apps_options{
          display: block;
        }
        .app-header{
          flex-shrink: 0;
          grid-auto-rows: 1fr min-content;
          grid-auto-columns: min-content 1fr min-content;
          height: 40px;
          -webkit-box-align: center;
          align-items: center;
          justify-content: center;
        }
        .app_header_image{
          display: flex;
          min-height: 40px;
          min-width: 40px;
          width: 40px;
          height: 40px;
        }
        .app-header-text{
          text-align: start;
          white-space: normal;
          display: inline;
          line-height: 20px;
          font-weight: 600;
          word-break: break-word;
          font-size: 15px;
        }
        .apps_options{
          display: none;
          font-size: 15px;
          height: 30px;
          width: 30px;
        }

        .app_icon_wrapper{
          border: 1px solid #d1d1d1;
          padding: 5px;
          border-radius: 3px;
          width: 40px;
          text-align: center;
        }
        .app-icon{
          font-size: 25px;
        }
        .app-description{
          margin: 15px 10px;
        }
        .developer_options_temp2{
          padding: 5px;
          overflow-y: unset !important;
          border-radius: 6px;
        }
        .developer_options_temp2 .dropdown-item:hover{
          border-radius: 5px;
          background-color: #f5f5f5;
          color: black !important;
        }
        .developer_options_temp2 .dropdown-item:hover i{
          color: var(--primary-color);
        }

        .app_workspace.create_new{
          color: var(--primary-color);
          background: white;
        }
        .app-content{
          display: flex;
          flex-direction: column;
          justify-content: space-between;
          height: 63%;
        }

        .sys_workspace2.app_workspace{
          background:linear-gradient(to bottom, var(--primary-color) 0%, #ffffff 100%);
        }

        .sys_workspace2.app_workspace span.app_icon_wrapper{
          color: var(--font-hover-color);
        }

        .sys_workspace2.app_workspace .app-header-text{
          color: var(--font-color);
        }


        {% if dashboard_card_ui.sys_appcard_color|length %}
          .template2_dashboard .sys_workspace2.app_workspace{
            background: {{dashboard_card_ui.sys_appcard_color}} !important;
          }
        {% endif %}

        {% if dashboard_card_ui.sys_appicon_color|length %}
          .template2_dashboard .sys_workspace2.app_workspace span.app_icon_wrapper{
            color: {{dashboard_card_ui.sys_appicon_color}} !important;
          }
        {% endif %}

        {% if dashboard_card_ui.sys_appname_color|length %}
          .template2_dashboard .sys_workspace2.app_workspace .app-header-text{
            color: {{dashboard_card_ui.sys_appname_color}} !important;
          }
        {% endif %}

        {% if dashboard_card_ui.sys_appdesc_color|length %}
          .template2_dashboard .sys_workspace2.app_workspace .app-description{
            color: {{dashboard_card_ui.sys_appdesc_color}} !important;
          }
        {% endif %}

        {% if planner_card_ui.sys_appcard_color|length %}
          #plannerAppWrapper .sys_workspace2.app_workspace{
            background: {{planner_card_ui.sys_appcard_color}} !important;
          }
        {% endif %}

        {% if planner_card_ui.sys_appicon_color|length %}
          #plannerAppWrapper .sys_workspace2.app_workspace span.app_icon_wrapper{
            color: {{planner_card_ui.sys_appicon_color}} !important;
          }
        {% endif %}

        {% if planner_card_ui.sys_appname_color|length %}
          #plannerAppWrapper .sys_workspace2.app_workspace .app-header-text{
            color: {{planner_card_ui.sys_appname_color}} !important;
          }
        {% endif %}
        {% if planner_card_ui.sys_appdesc_color|length %}
          #plannerAppWrapper .sys_workspace2.app_workspace .app-description{
            color: {{planner_card_ui.sys_appdesc_color}} !important;
          }
        {% endif %}
    {% endif %}

    {% if app_template == "template3"%}
      .app_workspace {
        /* width: 90%; */
        box-shadow: 0 0 2px rgba(0, 0, 0, 0.12), 0 2px 4px rgba(0, 0, 0, 0.14);
        border-radius: 6px;
        padding: 15px;
        margin: 20px;
      }

      .app_workspace:hover {
        background-color: #f5f5f5;
        cursor: pointer;
      }

      .app_workspace:hover .apps_options {
        display: block;
      }

      .app-header {
        flex-shrink: 0;
        grid-auto-rows: 1fr min-content;
        grid-auto-columns: min-content 1fr min-content;
        height: 40px;
        -webkit-box-align: center;
        align-items: center;
        justify-content: center;
      }

      .app_header_image {
        display: flex;
        min-height: 40px;
        min-width: 40px;
        width: 40px;
        height: 40px;
      }

      .app-header-text {
        text-align: center;
        white-space: normal;
        display: inline;
        line-height: 20px;
        font-weight: 600;
        word-break: break-word;
        font-size: 15px;
      }

      .apps_options {
        display: none;
        font-size: 15px;
      }


      .app_icon_wrapper {
        border: 1px solid #d1d1d1;
        padding: 5px;
        border-radius: 3px;
        width: 40px;
        text-align: center;
      }



      .app-description {
        margin: 15px 10px;
      }

      .developer_options_temp2 {
        padding: 5px;
        overflow-y: unset !important;
        border-radius: 6px;
      }

      .developer_options_temp2 .dropdown-item:hover,
      .developer_options_temp3 .dropdown-item:hover {
        border-radius: 5px;
        background-color: #f5f5f5;
        color: black !important;
      }

      .developer_options_temp2 .dropdown-item:hover i,
      .developer_options_temp3 .dropdown-item:hover i {
        color: var(--primary-color);
      }

      .app_workspace.create_new {
        color: var(--primary-color);
        background: white;
      }

      .app-content {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        height: 63%;
      }




      #sortableContainer {
        display: flex;
        flex-wrap: wrap;
      }

      .sortableItem {
        margin: 0.5rem;
        background-color: #f2f2f2;
        border-radius: 5px;
        box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.2);
        overflow: hidden;
        cursor: move;
      }

      .tile {
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.125rem;
        color: #333;
      }

      .square-tile {
        width: 10rem;
        height: 10rem;
      }

      .rectangular-tile {
        width: 20rem;
        height: 10rem;
      }

      .small-tile {
        width: 5rem;
        height: 5rem;
      }
      #dashboardAppWrapper .app_icon_wrapper i, #plannerAppWrapper .app_icon_wrapper i{
        margin-bottom: 23px;
        color:var(--font-hover-color);
      }
      #dashboardAppWrapper .template3box{
          background: linear-gradient(to bottom, var(--primary-color) 0%, #ffffff 100%);
        }

      {% if dashboard_card_ui.sys_appcard_color|length %}
        #dashboardAppWrapper .template3box{
          background: {{dashboard_card_ui.sys_appcard_color}} !important;
        }
      {% endif %}

      {% if dashboard_card_ui.sys_appicon_color|length %}
      #dashboardAppWrapper .template3box .app_icon_wrapper i{
          color: {{dashboard_card_ui.sys_appicon_color}} !important;
        }
      {% endif %}

      {% if dashboard_card_ui.sys_appname_color|length %}
        #dashboardAppWrapper .template3box .app-header-text{
          color: {{dashboard_card_ui.sys_appname_color}} !important;
        }
      {% endif %}

      {% if planner_card_ui.sys_appcard_color|length %}
        #plannerAppWrapper .template3box{
          background: {{planner_card_ui.sys_appcard_color}} !important;
        }
      {% endif %}

      {% if planner_card_ui.sys_appicon_color|length %}
      #plannerAppWrapper .template3box .app_icon_wrapper i{
          color: {{planner_card_ui.sys_appicon_color}} !important;
        }
      {% endif %}

      {% if planner_card_ui.sys_appname_color|length %}
        #plannerAppWrapper .template3box .app-header-text{
          color: {{planner_card_ui.sys_appname_color}} !important;
        }
      {% endif %}

    {% endif %}

    {% if app_template == "template4" or app_template == "template5" %}
     .apps_options{
      display: none;
    }
    .app-card:hover .apps_options, .recentAppsT4:hover .apps_options {
      display: block;
    }
    .template4container{
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    .template4container .app-container{
      text-align: center;
      width: 10rem;
      border-radius: 1rem;
      padding: 1rem;
    }
    .template4container .app-container i.app-icon{
      font-size: 5rem;
      color:var(--font-hover-color);
      margin: 0 auto;
      display: block;
    }
    .template4container .app-name{
      font-size: 1rem;
      margin-top: 1%;
      text-align: center;
      color:var(--font-color);
    }

    {% if app_template == "template5" %}
    .template4container .app-container i.app-icon{
      color: var(--primary-color) !important;
    }
    {% endif %}

    {% if app_template == "template4" and widgets_template_value == "CircleApp" %}
    .template4container .app-container{
      background:var(--primary-color) !important;
      border-radius: 50% !important;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
      color:var(--font-hover-color) !important;
    }
    {% endif %}

    {% if app_template == "template4" %}
      .template4container .app-container{
        background:var(--primary-color);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      {% if dashboard_card_ui.sys_appcard_color|length %}
        #dashboardAppWrapper .app-container{
          background: {{dashboard_card_ui.sys_appcard_color}} !important;
        }
      {% endif %}

      {% if planner_card_ui.sys_appcard_color|length %}
        #plannerAppWrapper .app-container{
          background: {{planner_card_ui.sys_appcard_color}} !important;
        }
      {% endif %}
    {% endif %}




      {% if dashboard_card_ui.sys_appicon_color|length %}
        #dashboardAppWrapper .app-container i.app-icon{
          color: {{dashboard_card_ui.sys_appicon_color}} !important;
        }
      {% endif %}

      {% if dashboard_card_ui.sys_appname_color|length %}
        #dashboardAppWrapper .app-name{
          color: {{dashboard_card_ui.sys_appname_color}} !important;
        }
      {% endif %}



      {% if planner_card_ui.sys_appicon_color|length %}
        #plannerAppWrapper .app-container i.app-icon{
          color: {{planner_card_ui.sys_appicon_color}} !important;
        }
      {% endif %}

      {% if planner_card_ui.sys_appname_color|length %}
        #plannerAppWrapper .app-name{
          color: {{planner_card_ui.sys_appname_color}} !important;
        }
      {% endif %}

    {% endif %}

    {% if app_template == "default" or app_template == null or app_template == ""%}
        #hideApps{
          position: absolute;
          right: 6px;
          top: 5px;
          border-radius: 14px;
          border: none;
          box-shadow: 1px 1px 2px grey;
          text-transform: capitalize;
          font-size: 11px;
          background-color: white;
        }

        .sys_apps_info_box{
        background-color: var(--primary-color);
        cursor: pointer;
        margin-bottom:0;
      }

      .sys_apps_icon{
        padding: 10px !important;
      }

      .sys_apps_info_box span.recently_used_apps{
        padding-left:10px;
        color: var(--font-hover-color);
      }
      .sys_apps_info_box div.recently_used_apps{
        display:flex;
        min-width:80%;
        justify-content:space-between;
        align-items:center;
        font-size: 14px;
      }
      .sys_apps_info_box div.recently_used_apps span.info-box-text{
        font-weight: bold;
        padding-right:10%;
        color: var(--font-hover-color);
      }

      {% if dashboard_card_ui.sys_appcard_color|length %}
        #dashboardAppWrapper .sys_apps_info_box{
          background: {{dashboard_card_ui.sys_appcard_color}} !important;
        }
      {% endif %}

      {% if dashboard_card_ui.sys_appicon_color|length %}
        #dashboardAppWrapper .sys_apps_info_box span.recently_used_apps{
          color: {{dashboard_card_ui.sys_appicon_color}} !important;
        }
      {% endif %}

      {% if dashboard_card_ui.sys_appname_color|length %}
        #dashboardAppWrapper .sys_apps_info_box div.recently_used_apps span.info-box-text{
          color: {{dashboard_card_ui.sys_appname_color}} !important;
        }
      {% endif %}

      {% if planner_card_ui.sys_appcard_color|length %}
        #plannerAppWrapper .sys_apps_info_box{
          background: {{planner_card_ui.sys_appcard_color}} !important;
        }
      {% endif %}

      {% if planner_card_ui.sys_appicon_color|length %}
        #plannerAppWrapper .sys_apps_info_box span.recently_used_apps{
          color: {{planner_card_ui.sys_appicon_color}} !important;
        }
      {% endif %}

      {% if planner_card_ui.sys_appname_color|length %}
        #plannerAppWrapper .sys_apps_info_box div.recently_used_apps span.info-box-text{
          color: {{planner_card_ui.sys_appname_color}} !important;
        }
      {% endif %}
    {% endif %}


  </style>


  {% endblock new_css %}
</head>


{% block body_block %}
<section class="content" id="mainSectionContent" style="padding: 1rem 5rem;">
  {% if logo_file_appdrawer|length %}
  <div class="appdrawerlogo" id="appdrawerlogo">
    <img src="/media/{{tenant}}/TenantTheme/appdrawer/logo/{{logo_file_appdrawer}}" class="acies_logo_short" height="50" width="60">
  </div>
  {% endif %}

  {% if recently_used_apps and applications|length %}
    <div class="conatiner-fluid" style="margin-bottom: 30px;">
      <h2 class="myapp_title">Recently used Apps</h2>

      <div class="row recently_used_wrapper" style='{%if app_template == "template2" %}display: grid;grid-template-columns: repeat(auto-fill,20.9rem);gap:0.5rem;{%elif app_template == "template4" and widgets_template_value == "CircleApp" or app_template == "template5" %}display: grid;grid-template-columns: repeat(auto-fill,12rem);{% endif %}'>
          {% for i in recently_used_apps %}
            {% for app in applications %}
              {% if i.application_code == app.application_code %}
                {% if app_template == "default" or app_template == null or app_template == ""%}
                  <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                    <div class="app_wrapper">
                      <div class="info-box"
                        onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')"
                        style="background: {{app.app_card_color}};cursor: pointer;margin-bottom:0;">
                        <span class="info-box-icon recently_used_apps" style="padding-left:10px;color: {{app.app_icon_color}}"><i
                            class="{{app.app_icon}} mr-2"></i> </span>
                        <div class="recently_used_apps" style="display:flex;min-width:80%;align-items:center;font-size: 14px;"
                          data-app_name="{{app.application_code}}" data-app_code="{{app.application_code}}">
                          <span class="info-box-text" style="font-weight: bold;padding-right:10%;color: {{app.app_text_color}}"
                            data-app_code="{{app.application_code}}">{{app.application_name}}</span>
                        </div>
                      </div>
                      <div class="app-content">
                        <div class="app_description" style="padding: 20px;" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')">
                          {{app.description}}
                        </div>
                        <div class="more-info-icon dropdown">
                          {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                            {% if system_dev_mode == 'Edit + Build'%}
                              {% for dev_app in dev_applications %}
                                {% if app.application_code == dev_app.application_code %}
                                  {% if developer_mode and developer_mode == "True" %}
                                  <i class="fas fa-edit edit-app" id="edit-app" style="margin-top: 0.18em; cursor:pointer"
                                  onclick='edit_app("{{app.application_name}}","{{app.application_code}}","{{app.app_card_color}}","{{app.app_icon_color}}","{{app.app_icon}}","{{app.app_text_color}}","{{app.description}}","","")'></i>
                                  {% endif %}
                                {% endif %}
                              {% endfor %}
                            {% endif %}
                          {% endif %}
                          <span title="Developer mode options" data-toggle="dropdown" style="cursor: pointer;"><i
                              class="fas fa-right-to-bracket ml-2"></i></span>
                          <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown">

                            <a href="#" class="dropdown-item selectAppCard" data-app_name="{{app.application_name}}"
                              data-app_code="{{app.application_code}}">
                              <i class="fas fa-user mr-2"></i> <span class="dropdown-text">Login as User </span>
                            </a>
                            {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                            {% for dev_app in dev_applications %}
                            {% if app.application_code == dev_app.application_code %}
                            {% if developer_mode and developer_mode == "True" %}
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item devMode" data-app_code="{{app.application_code}}"
                              data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                              <i class="fas fa-tools mr-2"></i> <span class="dropdown-text">Developer mode ({{system_dev_mode}})</span>
                            </a>
                            {% endif %}
                            <div class="dropdown-divider"></div>
                            <a href="#" class="update_app dropdown-item" data-app_code="{{app.application_code}}"
                              data-app_name="{{app.application_name}}">
                              <i class="fa fa-refresh mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;"> <span class="dropdown-text">Update</span>
                                Application</span>
                            </a>
                            {% if developer_mode and developer_mode == "True" %}
                            <div class="dropdown-divider"></div>
                            <a href="#" class="delete_app dropdown-item" data-app_code="{{app.application_code}}"
                              data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                              <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;"> <span class="dropdown-text">Delete</span>
                                Application</span>
                            </a>
                            {% endif %}
                            {% endif %}

                            {% endfor %}

                            {% endif %}
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>
                  {% elif app_template == "template2"%}
                  <div class="app_workspace"  style="background:{{app.app_card_color}};" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')">
                    <div class="app-header row">
                      <div class="app_header_image col-2 d-flex align-items-center justify-content-center">
                        <span class="app_icon_wrapper"><i aria-hidden="true" class="{{app.app_icon}} app-icon" style="color:{{app.app_icon_color}}"></i></span>
                      </div>
                      <div class="col-8 d-flex align-items-center">
                        <span class="app-header-text" style="color:{{app.app_text_color}}" data-app_code="{{app.application_code}}">{{app.application_name}}</span>
                      </div>
                      <div class="col-2 text-center">
                        <i class="apps_options fa-solid fa-ellipsis" style="margin-left: 0.5rem;color:{{app.app_icon_color}};" data-toggle="dropdown"></i>
                        <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown">
                          <a href="#" class="dropdown-item selectAppCard" data-app_name="{{app.application_name}}"
                            data-app_code="{{app.application_code}}">
                            <i class="fas fa-user mr-2"></i> <span class="dropdown-text">Login as User </span>
                          </a>
                          {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                          {% for dev_app in dev_applications %}
                          {% if app.application_code == dev_app.application_code %}
                          {% if developer_mode and developer_mode == "True" %}
                          <div class="dropdown-divider"></div>
                          <a href="#" class="dropdown-item devMode" data-app_code="{{app.application_code}}"
                            data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                            <i class="fas fa-tools mr-2"></i> <span class="dropdown-text">Developer mode ({{system_dev_mode}})</span>
                          </a>
                          {% endif %}
                          {% if system_dev_mode == 'Edit + Build'  and developer_mode == "True" %}
                          <div class="dropdown-divider"></div>
                          <a href="#" class="dropdown-item edit-app" id="edit-app" data-app_code="{{i.application_code}}"
                                    data-app_name="{{i.application_name}}" onclick='edit_app("{{app.application_name}}","{{app.application_code}}","{{app.app_card_color}}","{{app.app_icon_color}}","{{app.app_icon}}","{{app.app_text_color}}","{{app.description}}","{{app.app_text_description_color}}","")'>
                                    <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit
                                      Application</span>
                                  </a>
                          {% endif %}
                          <div class="dropdown-divider"></div>
                          <a href="#" class="update_app dropdown-item" data-app_code="{{i.application_code}}"
                              data-app_name="{{i.application_name}}">
                              <i class="fa fa-refresh mr-2" data-toggle="tooltip"></i><span
                                  style="font-weight: normal;">Update
                                  Application</span>
                          </a>
                          {% if developer_mode and developer_mode == "True" %}
                          <div class="dropdown-divider"></div>
                          <a href="#" class="delete_app dropdown-item" data-app_code="{{app.application_code}}"
                            data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                            <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;"> <span class="dropdown-text">Delete</span>
                              Application</span>
                          </a>
                          {% endif %}
                          {% endif %}

                          {% endfor %}

                          {% endif %}
                        </div>
                      </div>
                    </div>
                    <div class="app-description"  style="color:{{app.app_text_description_color}}" >
                      {{app.description}}
                    </div>
                  </div>
                  {% elif app_template == "template3"%}
                  {% if app.t3_app_size == 'Rectangle' or app.t3_app_size == 'Square' or app.t3_app_size == '' or 't3_app_size' not in app %}
                    <div class="" style="margin-bottom: 1rem;">
                      <div class="app_workspace template3box {% if app.t3_app_size == 'Square' or app.t3_app_size == '' or 't3_app_size' not in app%}square-tile{% endif %} {% if app.t3_app_size == 'Rectangle'%}rectangular-tile{% endif %} " style="background:{{app.app_card_color}};box-shadow: 0 0 2px rgb(0 0 0 / 12%), 0 2px 4px rgb(0 0 0 / 14%);border-radius: 4px;margin:1rem;" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')">
                        <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
                          <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown" style="color:{{app.app_icon_color}};padding-right: 0.25rem;"></i>
                          <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown" >

                            <a href="#" class="dropdown-item selectAppCard" data-app_name="{{i.application_name}}"
                              data-app_code="{{app.application_code}}">
                              <i class="fas fa-user mr-2"></i> Login as User
                            </a>
                            {% if i.application_code in hidden_apps %}
                            <div class="dropdown-divider"></div>
                              <a href="#" class="dropdown-item devMode" data-app_code="{{app.application_code}}"
                              data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                                <i class="fa-solid fa-eye mr-2"></i>
                                <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"  style="all:unset;"
                                data-hidden="{% if app.application_code in hidden_apps %}True{% else %}False{% endif %}"
                                onclick="hideUnhideApps(event,this)">UnHide</button>
                              </a>
                              {% else %}
                              <div class="dropdown-divider"></div>
                              <a href="#" class="dropdown-item devMode" data-app_code="{{app.application_code}}"
                              data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                                <i class="fa-solid fa-eye-slash mr-2"></i>
                                <button id="hideApps" class="hideApps" data-app_code="{{app.application_code}}"
                                data-hidden="{% if app.application_code in hidden_apps %}True{% else %}False{% endif %}"
                                onclick="hideUnhideApps(event,this)" style="all:unset;"
                                >Hide</button>
                              </a>
                            {% endif %}
                            {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                            {% for dev_app in dev_applications %}
                            {% if app.application_code == dev_app.application_code %}
                            {% if developer_mode and developer_mode == "True" %}
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item devMode" data-app_code="{{app.application_code}}" data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                              <i class="fas fa-tools mr-2"></i>Developer mode ({{system_dev_mode}})
                            </a>
                            {% endif %}
                            {% if system_dev_mode == 'Edit + Build' and developer_mode == "True" %}
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item edit-app" id="edit-app" data-app_code="{{i.application_code}}"
                              data-app_name="{{app.application_name}}"
                              onclick='edit_app("{{app.application_name}}","{{app.application_code}}","{{i.app_card_color}}","{{app.app_icon_color}}","{{app.app_icon}}","{{app.app_text_color}}","{{app.description}}","{{app.app_text_description_color}}","")'>
                              <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit
                                Application</span>
                            </a>
                            {% endif %}
                            <div class="dropdown-divider"></div>
                            <a href="#" class="update_app dropdown-item" data-app_code="{{i.application_code}}"
                                data-app_name="{{i.application_name}}">
                                <i class="fa fa-refresh mr-2" data-toggle="tooltip"></i><span
                                    style="font-weight: normal;">Update
                                    Application</span>
                            </a>
                            {% if developer_mode and developer_mode == "True" %}
                            <div class="dropdown-divider"></div>
                            <a href="#" class="delete_app dropdown-item" data-app_code="{{app.application_code}}"
                              data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                              <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Delete
                                Application</span>
                            </a>
                            {% endif %}
                            {% endif %}
                            {% endfor %}
                            {% endif %}
                          </div>
                        </div>
                        <div class="icon_wrapper d-flex justify-content-center align-items-center">
                          <i aria-hidden="true" class=" fas {{app.app_icon}} fa-5x" style="color:{{app.app_icon_color}}"></i>
                        </div>
                        <div class="app-name-text" style="padding: 1rem;padding-bottom: 0.25rem;">
                          <span class="app-header-text d-flex justify-content-center align-items-center" style="color:{{app.app_text_color}}" data-app_code="{{app.application_code}}">{{app.application_name}}</span>
                        </div>
                      </div>
                    </div>
                  {% endif %}
                  {% if app.t3_app_size == 'cube' %}
                  <div class="">
                    <div class="app_workspace small-tile" style="background:{{app.app_card_color}};box-shadow: 0 0 2px rgb(0 0 0 / 12%), 0 2px 4px rgb(0 0 0 / 14%);border-radius: 4px;margin: 1rem;" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')">

                      <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
                        <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown" style="color:{{app.app_icon_color}};padding-right: 0.25rem;"></i>
                        <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown" >

                          <a href="#" class="dropdown-item selectAppCard" data-app_name="{{i.application_name}}"
                            data-app_code="{{app.application_code}}">
                            <i class="fas fa-user mr-2"></i> Login as User
                          </a>
                          {% if i.application_code in hidden_apps %}
                          <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item devMode" data-app_code="{{app.application_code}}"
                            data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                              <i class="fa-solid fa-eye mr-2"></i>
                              <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"  style="all:unset;"
                              data-hidden="{% if app.application_code in hidden_apps %}True{% else %}False{% endif %}"
                              onclick="hideUnhideApps(event,this)">UnHide</button>
                            </a>
                            {% else %}
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item devMode" data-app_code="{{app.application_code}}"
                            data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                              <i class="fa-solid fa-eye-slash mr-2"></i>
                              <button id="hideApps" class="hideApps" data-app_code="{{app.application_code}}"
                              data-hidden="{% if app.application_code in hidden_apps %}True{% else %}False{% endif %}"
                              onclick="hideUnhideApps(event,this)" style="all:unset;"
                              >Hide</button>
                            </a>
                          {% endif %}
                          {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                          {% for dev_app in dev_applications %}
                          {% if app.application_code == dev_app.application_code %}
                          {% if developer_mode and developer_mode == "True" %}
                          <div class="dropdown-divider"></div>
                          <a href="#" class="dropdown-item devMode" data-app_code="{{app.application_code}}" data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                            <i class="fas fa-tools mr-2"></i>Developer mode ({{system_dev_mode}})
                          </a>
                          {% endif %}
                          {% if system_dev_mode == 'Edit + Build' and developer_mode == "True" %}
                          <div class="dropdown-divider"></div>
                          <a href="#" class="dropdown-item edit-app" id="edit-app" data-app_code="{{i.application_code}}"
                            data-app_name="{{app.application_name}}"
                            onclick='edit_app("{{app.application_name}}","{{app.application_code}}","{{i.app_card_color}}","{{app.app_icon_color}}","{{app.app_icon}}","{{app.app_text_color}}","{{app.description}}","{{app.app_text_description_color}}","")'>
                            <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit
                              Application</span>
                          </a>
                          {% endif %}
                          <div class="dropdown-divider"></div>
                          <a href="#" class="update_app dropdown-item" data-app_code="{{i.application_code}}"
                              data-app_name="{{i.application_name}}">
                              <i class="fa fa-refresh mr-2" data-toggle="tooltip"></i><span
                                  style="font-weight: normal;">Update
                                  Application</span>
                          </a>
                          {% if developer_mode and developer_mode == "True" %}
                          <div class="dropdown-divider"></div>
                          <a href="#" class="delete_app dropdown-item" data-app_code="{{app.application_code}}"
                            data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                            <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Delete
                              Application</span>
                          </a>
                          {% endif %}
                          {% endif %}

                          {% endfor %}

                          {% endif %}
                        </div>
                      </div>
                      <div class="app-header row">
                        <div class="">
                          <div class="  app_header_image d-flex align-items-center justify-content-center" style="max-width: unset;max-height: unset;width: unset;height: unset;">
                            <span class=" app_icon_wrapper" style="border:0;width: 100%;"><i aria-hidden="true" class="{{app.app_icon}} app-icon" style="color:{{app.app_icon_color}};font-size:2em;"></i></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  {% endif %}

                {% elif app_template == "template4" or app_template == "template5"%}
                    {% if app_template == "template4" and widgets_template_value == "SuqareApp" %}
                        <div class="recentAppsT4" style="padding: 1%;">
                          <div class="d-flex justify-content-center align-items-center flex-column">
                            <div class="app-container" style="text-align: center;width: 10rem;background:{{app.app_card_color}};border-radius: 1rem;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);padding: 1rem;">
                              <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
                                <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown" style="color:{{app.app_icon_color}};padding-right: 0.25rem;"></i>
                                <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown" >

                                  <a href="#" class="dropdown-item selectAppCard" data-app_name="{{i.application_name}}"
                                    data-app_code="{{app.application_code}}">
                                    <i class="fas fa-user mr-2"></i> Login as User
                                  </a>
                                  {% if i.application_code in hidden_apps %}
                                  <div class="dropdown-divider"></div>
                                    <a href="#" class="dropdown-item devMode" data-app_code="{{app.application_code}}"
                                    data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                                      <i class="fa-solid fa-eye mr-2"></i>
                                      <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"  style="all:unset;"
                                      data-hidden="{% if app.application_code in hidden_apps %}True{% else %}False{% endif %}"
                                      onclick="hideUnhideApps(event,this)">UnHide</button>
                                    </a>
                                    {% else %}
                                    <div class="dropdown-divider"></div>
                                    <a href="#" class="dropdown-item devMode" data-app_code="{{app.application_code}}"
                                    data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                                      <i class="fa-solid fa-eye-slash mr-2"></i>
                                      <button id="hideApps" class="hideApps" data-app_code="{{app.application_code}}"
                                      data-hidden="{% if app.application_code in hidden_apps %}True{% else %}False{% endif %}"
                                      onclick="hideUnhideApps(event,this)" style="all:unset;"
                                      >Hide</button>
                                    </a>
                                  {% endif %}
                                  {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                                  {% for dev_app in dev_applications %}
                                  {% if app.application_code == dev_app.application_code %}
                                  {% if developer_mode and developer_mode == "True" %}
                                  <div class="dropdown-divider"></div>
                                  <a href="#" class="dropdown-item devMode" data-app_code="{{app.application_code}}" data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                                    <i class="fas fa-tools mr-2"></i>Developer mode ({{system_dev_mode}})
                                  </a>
                                  {% endif %}
                                  {% if system_dev_mode == 'Edit + Build' and developer_mode == "True" %}
                                  <div class="dropdown-divider"></div>
                                  <a href="#" class="dropdown-item edit-app" id="edit-app" data-app_code="{{i.application_code}}"
                                    data-app_name="{{app.application_name}}"
                                    onclick='edit_app("{{app.application_name}}","{{app.application_code}}","{{i.app_card_color}}","{{app.app_icon_color}}","{{app.app_icon}}","{{app.app_text_color}}","{{app.description}}","{{app.app_text_description_color}}","")'>
                                    <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit
                                      Application</span>
                                  </a>
                                  {% endif %}
                                  <div class="dropdown-divider"></div>
                                  <a href="#" class="update_app dropdown-item" data-app_code="{{i.application_code}}"
                                      data-app_name="{{i.application_name}}">
                                      <i class="fa fa-refresh mr-2" data-toggle="tooltip"></i><span
                                          style="font-weight: normal;">Update
                                          Application</span>
                                  </a>
                                  {% if developer_mode and developer_mode == "True" %}
                                  <div class="dropdown-divider"></div>
                                  <a href="#" class="delete_app dropdown-item" data-app_code="{{app.application_code}}"
                                    data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                                    <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Delete
                                      Application</span>
                                  </a>
                                  {% endif %}
                                  {% endif %}

                                  {% endfor %}

                                  {% endif %}
                                </div>
                              </div>
                              <i class="app-icon {{app.app_icon}}" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')" style="font-size: 5rem;color:{{app.app_icon_color}};margin: 0 auto;display: block;"></i>
                            </div>
                            <div class="app-name" style="font-size: 1rem;margin-top: 1%;text-align: center;color:{{app.app_text_color}}">{{app.application_name}}</div>
                          </div>
                        </div>
                    {% endif %}
                    {% if app_template == "template4" and widgets_template_value == "CircleApp" or app_template == "template5" %}
                        <div class="recentAppsT4" style="padding: 1%;">
                          <div class="d-flex justify-content-center align-items-center flex-column">
                            <div class="app-container" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')" style='width: 8rem;height: 8rem;padding: 1rem;display: flex;justify-content: center;align-items: center;{% if app_template == "template4" and widgets_template_value == "CircleApp" %}background:{{app.app_card_color}};border-radius: 50%;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);{% endif %}'
                            >

                              <i class="app-icon {{app.app_icon}}" style="font-size: 5rem;color:{{app.app_icon_color}};margin: 0 auto;display: block;"></i>
                            </div>
                            <div class="app-name" style="font-size: 1rem;margin-top: 1%;text-align: center;color:{{app.app_text_color}};display: flex; align-items: center;"><span>{{app.application_name}}</span>
                              <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
                                <i class="apps_options fa-solid fa-ellipsis mx-2" data-toggle="dropdown" style="color:{{app.app_text_color}};padding-right: 0.25rem;"></i>
                                <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown" >

                                  <a href="#" class="dropdown-item selectAppCard" data-app_name="{{i.application_name}}"
                                    data-app_code="{{app.application_code}}">
                                    <i class="fas fa-user mr-2"></i> Login as User
                                  </a>
                                  {% if i.application_code in hidden_apps %}
                                  <div class="dropdown-divider"></div>
                                    <a href="#" class="dropdown-item devMode" data-app_code="{{app.application_code}}"
                                    data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                                      <i class="fa-solid fa-eye mr-2"></i>
                                      <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"  style="all:unset;"
                                      data-hidden="{% if app.application_code in hidden_apps %}True{% else %}False{% endif %}"
                                      onclick="hideUnhideApps(event,this)">UnHide</button>
                                    </a>
                                    {% else %}
                                    <div class="dropdown-divider"></div>
                                    <a href="#" class="dropdown-item devMode" data-app_code="{{app.application_code}}"
                                    data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                                      <i class="fa-solid fa-eye-slash mr-2"></i>
                                      <button id="hideApps" class="hideApps" data-app_code="{{app.application_code}}"
                                      data-hidden="{% if app.application_code in hidden_apps %}True{% else %}False{% endif %}"
                                      onclick="hideUnhideApps(event,this)" style="all:unset;"
                                      >Hide</button>
                                    </a>
                                  {% endif %}
                                  {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                                  {% for dev_app in dev_applications %}
                                  {% if app.application_code == dev_app.application_code %}
                                  {% if developer_mode and developer_mode == "True" %}
                                  <div class="dropdown-divider"></div>
                                  <a href="#" class="dropdown-item devMode" data-app_code="{{app.application_code}}" data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                                    <i class="fas fa-tools mr-2"></i>Developer mode ({{system_dev_mode}})
                                  </a>
                                  {% endif %}
                                  {% if system_dev_mode == 'Edit + Build' and developer_mode == "True" %}
                                  <div class="dropdown-divider"></div>
                                  <a href="#" class="dropdown-item edit-app" id="edit-app" data-app_code="{{i.application_code}}"
                                    data-app_name="{{app.application_name}}"
                                    onclick='edit_app("{{app.application_name}}","{{app.application_code}}","{{i.app_card_color}}","{{app.app_icon_color}}","{{app.app_icon}}","{{app.app_text_color}}","{{app.description}}","{{app.app_text_description_color}}","")'>
                                    <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit
                                      Application</span>
                                  </a>
                                  {% endif %}
                                  <div class="dropdown-divider"></div>
                                  <a href="#" class="update_app dropdown-item" data-app_code="{{i.application_code}}"
                                      data-app_name="{{i.application_name}}">
                                      <i class="fa fa-refresh mr-2" data-toggle="tooltip"></i><span
                                          style="font-weight: normal;">Update
                                          Application</span>
                                  </a>
                                  {% if developer_mode and developer_mode == "True" %}
                                  <div class="dropdown-divider"></div>
                                  <a href="#" class="delete_app dropdown-item" data-app_code="{{app.application_code}}"
                                    data-app_name="{{app.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                                    <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Delete
                                      Application</span>
                                  </a>
                                  {% endif %}
                                  {% endif %}

                                  {% endfor %}

                                  {% endif %}
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                    {% endif %}
                {% endif %}
              {% endif %}
            {% endfor %}
          {% endfor %}
        </div>
    </div>
  {% endif %}

  <div class="container-fluid" style="margin-bottom: 50px;">
    <div class="myapp_title" style="display:flex;padding-top: 0;">
      <div class="d-flex text-input-wrap">
        <h2 class="myapp_title" style="padding-left: 0;">My apps</h2>
        <div class="form-group-search">
          <input type="text" placeholder='Search application' autocomplete="off" id="searchApplication" name="searchApplication"
            class="textinput textInput form-control searchApplication" style="padding-left: 0.23rem;" readonly="true" onfocus="this.removeAttribute('readonly')">
        </div>
      </div>
      <div class="d-flex justify-content-between align-items-center" style="gap:10px;">
        {% if developer_mode and developer_mode == "True" %}
        <div class="view-options dropdown d-flex justify-content-center align-items-center">
          <button class="btn btn-primary" id="dragSort">Re-order Apps <i class="fa-solid fa-wand-magic-sparkles"></i></button>
        </div>
        {% endif %}
        <div class="view-options dropdown d-flex justify-content-center align-items-center">
          <button class="btn btn-primary" data-toggle="dropdown">View options <i class="fa fa-chevron-circle-down" aria-hidden="true"></i></button>
          <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right" style="height: fit-content;min-width: 15em;border-radius: 1rem;overflow-y: auto;padding:0">
            <a onclick="viewAllApps('show')" class="dropdown-item" >View all applications</a>
            <div class="dropdown-divider" style="margin:0"></div>
            <a onclick="viewAllApps('hide')" class="dropdown-item" >View limited applications</a>
          </div>
        </div>
      </div>
    </div>
    <div style="display: none;">
      <button class="btn btn-primary btn-xs mx-2 rounded px-2" id="updateDatabase" style="float: right; display: none;">
        Update databases
      </button>
    </div>

    <script>
      var sys_edit = false
      function edit_sys_app(id){

        sys_edit = true

        $('#newAppdetails').modal({backdrop: 'static', keyboard: false})
        $('#newAppdetails').modal('show');

        $("#div_id_application_database").css("display","none")
        $(".app_preview .more-options").css("display","none")

        if ("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
          $('#applicationName').val($(`#${id} `+".sys_apps_info_box .info-box-text").text().trim());
          $('#applicationDesc').val($(`#${id} `+".sys_app_desc").text().trim());

          $(".app_preview h5").css("color", $(`#${id} `+".sys_apps_info_box .info-box-text").css("color"));
          $("#app_preview_icon").css("color", $(`#${id} `+".sys_apps_info_box .info-box-icon").css("color"));
          $("#app_preview_icon_design").css("color", $(`#${id} `+".sys_apps_info_box .info-box-icon").css("color"));
          $(".desc_app_preview .info-box-text").text($(`#${id} `+".sys_app_desc").text());
          $(".name_app_preview h5").text($(`#${id} `+".sys_apps_info_box .info-box-text").text());
          $("#app_preview_icon_design,#app_preview_icon").attr("class", $(`#${id} `+".sys_apps_info_box .info-box-icon i").attr("class"));
          $(".name_app_preview").css("background", $(`#${id} `+".sys_apps_info_box").css("background"));
        }

        else if("{{app_template}}" == "template2"){

          $('#applicationName').val($(`#${id} `+".app-header-text").text().trim());
          $('#applicationDesc').val($(`#${id} `+".app-description").text().trim());

          $(".app_preview h5").css("color", $(`#${id} `+".app-header-text").css("color"));
          $(".template2_preview .info-box-icon i").css("color", $(`#${id} `+".app_icon_wrapper").css("color"));
          $(".template2_preview .info-box-icon i").css("color", $(`#${id} `+".app_icon_wrapper").css("color"));
          $(".t2appDescription").text($(`#${id} `+".app-description").text());
          $(".t2appDescription").css("color",$(`#${id} `+".app-description").css("color") );
          $(".name_app_preview h5").text($(`#${id} `+".app-header-text").text());
          $(".template2_preview .info-box-icon i").attr("class", $(`#${id} `+".app_icon_wrapper i").attr("class"));
          $(".app_workspace.template2_preview").css("background", $(`#${id} `+".app_workspace.sys_workspace2").css("background"));
          $(".name_app_preview.row").css("background-color", "unset");
        }
        if ("{{app_template}}" == "template3"){
          $('#applicationName').val($(`#${id} `+".template3box").attr("data-name").trim());
          $('#applicationDesc').val($(`#${id} `+".template3box").attr("data-desc").trim());

          $(".app_preview h5").css("color", $(`#${id} `+".template3box .app-header-text").css("color"));
          $("#app_preview_icon").css("color", $(`#${id} `+".template3box .app_icon_wrapper i").css("color"));
          $("#app_preview_icon_design").css("color", $(`#${id} `+".template3box .app_icon_wrapper i").css("color"));
          $(".name_app_preview h5").text($(`#${id} `+".template3box").attr("data-name").trim());
          $("#app_preview_icon_design,#app_preview_icon").attr("class", $(`#${id} `+".template3box .app_icon_wrapper i").attr("class"));
          $(".HLtemplate3_preview, .template3_preview").css("background", $(`#${id} `+".template3box").css("background"));

          t3_app_size_preview = $(`#${id} `+".template3box").attr("data-size").trim();

          if (t3_app_size_preview == null || t3_app_size_preview == "" || t3_app_size_preview == "undefined"){
            $(".app_workspace.app_preview.template3_preview").css("width", "13rem");
            $(".app_workspace.app_preview.HLtemplate3_preview").css("width", "13rem");
          }
          if(t3_app_size_preview === 'Square'){
              $(".app_workspace.app_preview.template3_preview").css("width", "13rem")
              $(".app_workspace.app_preview.HLtemplate3_preview").css("width", "13rem");
          }
          if(t3_app_size_preview === 'Rectangle'){
              $(".app_workspace.app_preview.template3_preview").css("width", "22rem");
              $(".app_workspace.app_preview.HLtemplate3_preview").css("width", "22rem");
            }

          if(t3_app_size_preview === 'cube'){
            $(".appNameDiv").css("display", "none");
              $(".app_workspace.app_preview.template3_preview").css("width", "8rem");
              $(".app_workspace.app_preview.HLtemplate3_preview").css("width", "8rem");
          }
        }

        if ("{{app_template}}" == "template4" || "{{app_template}}" == "template5"){


          $('#applicationName').val($(`#${id} `+".app-name .span-app-name").text().trim());
          $('#applicationDesc').val($(`#${id} `).attr("data-desc").trim());

          $("#template4_appIcon").attr("class", $(`#${id} `+".app-icon").attr("class"));
          $("#template4_appIcon").css("color", $(`#${id} `+".app-icon").css("color"));
          $("#appdesigntemplate4_appIcon").attr("class", $(`#${id} `+".app-icon").attr("class"));
          $("#appdesigntemplate4_appIcon").css("color", $(`#${id} `+".app-icon").css("color"));
          $(".app-name.template4").css("color", $(`#${id} `+".app-name").css("color"));
          $(".app-name.template4").text($(`#${id} `+".app-name .span-app-name").text());

          if("{{app_template}}" == "template4"){
            $(".app-container.template4_preview").css("background", $(`#${id} `+".app-container").css("background"));
          }
        }

        $("#applicationDesign + #check-tick").css("color", "green");

        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        $("#appDesignsave").prop("disabled",false);

        $("#saveNewApplication").prop("disabled",false);

        $("#goback").css("display","")

        var value = $("#applicationName").val()
        $(".remaining-count-name").text(`${value.length}/24`);
        if(value.length>24){
          $(".remaining-count-name + #check-tick").css("color", "white");
          $("#applicationName").css("border-color","red")
        }
        else{
          $("#applicationName").css("border-color","#c5c5c0")
          $(".remaining-count-name + #check-tick").css("color", "green");
        }

        var value = $("#applicationDesc").val()
        $(".remaining-count-desc").text(`${value.length}/45`);
        if(value.length>45){
          $(".remaining-count-desc + #check-tick").css("color", "white");
          $("#applicationDesc").css("border-color","red")
        }
        else{
          $("#applicationDesc").css("border-color","#c5c5c0")
          $(".remaining-count-desc + #check-tick").css("color", "green");
        }

        display_button("#newAppdetails .sys_app_tick#check-tick", "#saveNewApplication","sys_app")

        if(id=="dashboardAppWrapper"){
          $("#newAppdetails .modal-footer #saveNewApplication").attr("data-save","saveDashboardUi")
        }else{
          $("#newAppdetails .modal-footer #saveNewApplication").attr("data-save","savePlannerUi")
        }
      }

      function saveSysAppUiConfig(app){
        var sys_app_name = $('#applicationName').val();
        var sys_app_desc = $('#applicationDesc').val();



        if ("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
          var sys_appname_color = rgb2hex($(".app_preview h5").css("color"));
          var sys_appicon_color = rgb2hex($("#app_preview_icon").css("color"));
          var sys_appicon = $("#app_preview_icon_design").attr("class");
          var sys_appcard_color = $(".name_app_preview").css("background-color");
          var sys_appdesc_color = "";
          var sys_appsize_t3 = "";
        }

        else if ("{{app_template}}" == "template2"){
          var sys_appname_color = rgb2hex($(".app_preview h5").css("color"));
          var sys_appicon_color = rgb2hex($("#app_preview_icon").css("color"));
          var sys_appicon = $("#app_preview_icon_design").attr("class");
          var sys_appcard_color = String($(".app_workspace.app_preview.template2_preview").css("background"));
          var sys_appdesc_color = rgb2hex($(".t2appDescription").css("color"));
          var sys_appsize_t3 = "";
        }

        else if ("{{app_template}}" == "template3"){
          var sys_appname_color = rgb2hex($(".app_preview h5").css("color"));
          var sys_appicon_color = rgb2hex($("#app_preview_icon").css("color"));
          var sys_appicon = $("#app_preview_icon_design").attr("class");
          var sys_appcard_color = String($(".HLtemplate3_preview").css("background"));
          var sys_appdesc_color = "";
          var sys_appsize_t3 = $('#selectAppSizes').val();
        }

        else if ("{{app_template}}" == "template4" || "{{app_template}}" == "template5"){
          var sys_appicon = $("#template4_appIcon").attr("class");
          var sys_appicon_color = rgb2hex($("#template4_appIcon").css("color"));
          var sys_appname_color = rgb2hex($(".app-name.template4").css("color"));

          if ("{{app_template}}" == "template4"){
            var sys_appcard_color = String($(".app-container.template4_preview").css("background"));
          }else{
            var sys_appcard_color = ""
          }

          var sys_appdesc_color = ""
          var sys_appsize_t3 = ""
        }

        if(app == "dashboard"){
          var app_db_name = "dashboard"
          var app_db_conn = "{{dashboard_db_conn}}"
        }
        else{
          var app_db_name = "planner"
          var app_db_conn = "{{planner_db_conn}}"
        }

        data={
          "sys_app_name":sys_app_name,
          "sys_app_desc":sys_app_desc,
          "sys_appcard_color":sys_appcard_color,
          "sys_appname_color":sys_appname_color,
          "sys_appicon_color":sys_appicon_color,
          "sys_appicon":sys_appicon,
          "sys_appdesc_color":sys_appdesc_color,
          "sys_appsize_t3":sys_appsize_t3,
          "operation":"saveSystemAppsUi",
          "app_db_name":app_db_name,
          "app_db_conn":app_db_conn
        }

        $.ajax({
          url: '/users/selectApplication/',
          data: data,
          type: "POST",
          dataType: "json",
          success: function(data) {
            Swal.fire({text:data["response"],icon:'success'})
            .then((result) => {
                  if (result.isConfirmed) {
                    location.reload();
                  }
                })
              }
        })
      }

    </script>

    <div class="myAppsContainer">

      {% if app_template == "default" or app_template == null or app_template == ""%}
        <div class="row" id="sortableContainer">
            {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
            {% if system_dev_mode == 'Edit + Build' and developer_mode == "True" %}
            <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12 no_sort">
                <div class=" create_new_application_wrapper" data-toggle="modal" data-target="#createNew" data-backdrop="static"
                    data-keyboard="false" style="cursor: pointer;">
                    <span class="info-box-icon create_new_application" style="text-align:center;font-size:50px;"><i
                            class="fas fa-plus"></i> </span>
                    <div class="create_new_application" style="text-align:center;font-size: 20px;">
                        <span class="info-box-text" style="font-weight: bold;">Create New</span>
                    </div>
                </div>
            </div>
            {% endif %}
            {% endif %}

            {% if allow_dashboard_portal == "True" %}
            {% if dashboard_display_config.show_dashboard == 'true' and dashboard_display_config.display_position == "dashboard_app" %}
            <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12 applicationList" name="Revolutio 2">
              <div class="app_wrapper" id="dashboardAppWrapper">
                <a href='/users/selectDashboard/'>
                  <div class="info-box sys_apps_info_box">
                    <span class="info-box-icon recently_used_apps">
                      {% if dashboard_card_ui.sys_appicon|length %}
                      <i class="{{dashboard_card_ui.sys_appicon}} mr-2"></i>
                      {% else %}
                      <i class="fas fa-chart-bar mr-2"></i>
                      {% endif %}
                    </span>
                    <div class="recently_used_apps" data-app_name="SysDashboardApp" data-app_code="SysDashboardApp">
                      <span class="info-box-text" id="info-app-name" data-app_code="SysDashboardApp">
                        {% if dashboard_card_ui.sys_app_name|length %}
                          {{dashboard_card_ui.sys_app_name}}
                        {% else %}
                          Dashboard
                        {% endif %}

                      </span>
                    </div>
                  </div>
                </a>
                <div class="app_description sys_app_desc" style="padding: 20px;">
                  {% if dashboard_card_ui.sys_app_desc|length %}
                    {{dashboard_card_ui.sys_app_desc}}
                  {% else %}
                    View all the published dashboards
                  {% endif %}

                </div>
                <div class="more-info-icon dropdown sys_apps_icon mr-2">
                  {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                    {% if system_dev_mode == 'Edit + Build'%}
                      <i class="fas fa-edit edit-app" id="edit-app" style="margin-bottom: 6px; cursor:pointer" data-toggle="tooltip" title="Edit Hyperlink"
                      onclick='edit_sys_app("dashboardAppWrapper")'></i>
                    {% endif %}
                  {% endif %}
                </div>

              </div>
            </div>
            {% endif %}
            {% endif %}

            {% if planner_display_config.show_planner == 'true' and planner_display_config.display_position == "planner_app" %}
              <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12 applicationList" name="Revolutio 2">
                <div class="app_wrapper" id="plannerAppWrapper">
                  <a href='/users/planner/'>
                    <div class="info-box sys_apps_info_box">
                      <span class="info-box-icon recently_used_apps">
                        {% if planner_card_ui.sys_appicon|length %}
                        <i class="{{planner_card_ui.sys_appicon}} mr-2"></i>
                        {% else %}
                        <i class="fas fa-calendar-alt mr-2"></i>
                        {% endif %}

                      </span>
                      <div class="recently_used_apps" data-app_name="SysPlannerApp" data-app_code="SysPlannerApp">
                          <span class="info-box-text" id="info-app-name" data-app_code="SysPlannerApp">
                            {% if planner_card_ui.sys_app_name|length %}
                              {{planner_card_ui.sys_app_name}}
                            {% else %}
                              Planner
                            {% endif %}
                          </span>
                      </div>
                    </div>
                  </a>
                  <div class="app_description sys_app_desc" style="padding: 20px;">
                    {% if planner_card_ui.sys_app_desc|length %}
                    {{planner_card_ui.sys_app_desc}}
                    {% else %}
                    Create and View plans
                    {% endif %}
                  </div>
                  <div class="more-info-icon dropdown sys_apps_icon mr-2">
                    {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                      {% if system_dev_mode == 'Edit + Build'%}
                        <i class="fas fa-edit edit-app" id="edit-app" style="margin-bottom: 6px; cursor:pointer" data-toggle="tooltip" title="Edit Hyperlink"
                        onclick='edit_sys_app("plannerAppWrapper")'></i>
                      {% endif %}
                    {% endif %}
                  </div>
                </div>
              </div>
            {% endif %}

            {% if applications_order %}
              {% for appCode in applications_order %}
                {% for i in applications %}
                  {% if appCode == i.application_code %}
                  <div class="sortableItem col-lg-3 col-md-4 col-sm-6 col-xs-12 applicationList {% if i.application_code in hidden_apps %}hide{% endif %}" name="{{i.application_name}}" id="apps" appCode="{{i.application_code}}" data-info="{{i.application_name}} {{i.description}}">
                    <div class="app_wrapper" id="myapps-wrapper">
                        <div class="info-box" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')"
                            style="background: {{i.app_card_color}};cursor: pointer;margin-bottom:0;">
                            <span class="info-box-icon recently_used_apps" style="padding-left:10px;color: {{i.app_icon_color}}"><i
                                    class="{{i.app_icon}} mr-2"></i> </span>
                            <div class="recently_used_apps"
                                style="display:flex;min-width:80%;justify-content:space-between;align-items:center;font-size: 14px;"
                                data-app_name="{{i.application_code}}" data-app_code="{{i.application_code}}">
                                <span class="info-box-text" id="info-app-name"
                                    style="font-weight: bold;padding-right:10%;color: {{i.app_text_color}}"
                                    data-app_code="{{i.application_code}}">{{i.application_name}}</span>
                                <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"
                                    data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                                    onclick="hideUnhideApps(event,this)" {% if i.application_code in hidden_apps
                                    %}style="background:var(--primary-color);color:var(--font-color);box-shadow: 1px 1px 2px #f7f7f7;" {%
                                    endif %}>
                                    {% if i.application_code in hidden_apps %}
                                    unhide
                                    {% else %}
                                    hide
                                    {% endif %}
                                </button>
                            </div>
                        </div>
                        <div class="app-content">
                            <div class="app_description" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')" style="padding: 20px;">
                                {{i.description}}
                            </div>
                            <div class="more-info-icon dropdown">
                                {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                                {% if system_dev_mode == 'Edit + Build'%}
                                {% for dev_app in dev_applications %}
                                {% if i.application_code == dev_app.application_code %}
                                {% if developer_mode and developer_mode == "True" %}
                                <i class="fas fa-edit edit-app" id="edit-app" style="margin-top: 0.18em; cursor:pointer"
                                    onclick='edit_app("{{i.application_name}}","{{i.application_code}}","{{i.app_card_color}}","{{i.app_icon_color}}","{{i.app_icon}}","{{i.app_text_color}}","{{i.description}}","","")'></i>
                                {% endif %}
                                {% endif %}
                                {% endfor %}
                                {% endif %}
                                {% endif %}
                                <span title="Developer mode options" data-toggle="dropdown" style="cursor: pointer;"><i
                                        class="fas fa-right-to-bracket ml-2"></i></span>
                                <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown">

                                    <a href="#" class="dropdown-item selectAppCard" data-app_name="{{i.application_name}}"
                                        data-app_code="{{i.application_code}}">
                                        <i class="fas fa-user mr-2"></i> Login as User
                                    </a>
                                    {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                                    {% for dev_app in dev_applications %}
                                    {% if i.application_code == dev_app.application_code %}
                                    {% if developer_mode and developer_mode == "True" %}
                                    <div class="dropdown-divider"></div>
                                    <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                                        data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                                        <i class="fas fa-tools mr-2"></i><span class="dropdown-text">Developer mode ({{system_dev_mode}})</span>
                                    </a>
                                    {% endif %}
                                    <div class="dropdown-divider"></div>
                                    <a href="#" class="update_app dropdown-item" data-app_code="{{i.application_code}}"
                                        data-app_name="{{i.application_name}}">
                                        <i class="fa fa-refresh mr-2" data-toggle="tooltip"></i><span
                                            style="font-weight: normal;">Update
                                            Application</span>
                                    </a>
                                    {% if developer_mode and developer_mode == "True" %}
                                    <div class="dropdown-divider"></div>
                                    <a href="#" class="delete_app dropdown-item" data-app_code="{{i.application_code}}"
                                        data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                                        <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span
                                            style="font-weight: normal;">Delete
                                            Application</span>
                                    </a>
                                    {% endif %}
                                    {% endif %}

                                    {% endfor %}

                                    {% endif %}
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                  {% endif %}
                {% endfor %}
                {% for i in external_apps %}
            {% if appCode == i.hyperlink_code %}
            <div class="sortableItem col-lg-3 col-md-4 col-sm-6 col-xs-12 applicationList" name="Revolutio 2" appCode="{{i.hyperlink_code}}" data-info="{{i.hyperlink_name}} {{i.hyperlink_desc}}">
              <div class="app_wrapper">
                  <a href='{{i.hyperlink_url}}' target="_blank">
                      <div class="info-box" style="background: {{i.hyperlink_card_color}};cursor: pointer;margin-bottom:0;">
                          <span class="info-box-icon recently_used_apps"
                              style="padding-left:10px;color: {{i.hyperlink_icon_color}}"><i
                                  class="{{i.hyperlink_icon}} mr-2"></i> </span>
                          <div class="recently_used_apps"
                              style="display:flex;min-width:80%;justify-content:space-between;align-items:center;font-size: 14px;">
                              <span class="info-box-text" id="info-app-name"
                                  style="font-weight: bold;padding-right:10%;color: {{i.hyperlink_text_color}}">{{i.hyperlink_name}}</span>

                          </div>
                      </div>
                  </a>
                  <div class="app_description" style="padding: 20px;">
                      {{i.hyperlink_desc}}
                  </div>
                  <div class="more-info-icon dropdown">
                      {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                      {% if system_dev_mode == 'Edit + Build'%}
                      <i class="fas fa-edit edit-app mr-2" id="edit-app" style="margin-bottom: 6px; cursor:pointer"
                          data-toggle="tooltip" title="Edit Hyperlink"
                          onclick='edit_app("{{i.hyperlink_name}}","{{i.hyperlink_code}}", "{{i.hyperlink_card_color}}","{{i.hyperlink_icon_color}}","{{i.hyperlink_icon}}","{{i.hyperlink_text_color}}","{{i.hyperlink_desc}}","","","{{i.hyperlink_url}}")'></i>
                      <i class="far fa-trash-alt" style="margin-bottom: 6px; cursor:pointer" data-toggle="tooltip"
                          title="Delete Hyperlink" onclick="delete_link(this)" data-app_code="{{i.hyperlink_code}}"
                          data-app_name="{{i.hyperlink_name}}" data-system_dev_mode="{{system_dev_mode}}"></i>
                      {% endif %}
                      {% endif %}
                  </div>
              </div>
          </div>
            {% endif %}
            {% endfor %}
              {% endfor %}
            {% endif %}

            {% for i in applications %}
              {% if i.application_code not in applications_order %}
              <div class="sortableItem col-lg-3 col-md-4 col-sm-6 col-xs-12 applicationList {% if i.application_code in hidden_apps %}hide{% endif %}" name="{{i.application_name}}" id="apps" appCode="{{i.application_code}}" data-info="{{i.application_name}} {{i.description}}">
                <div class="app_wrapper" id="myapps-wrapper">
                    <div class="info-box" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')"
                        style="background: {{i.app_card_color}};cursor: pointer;margin-bottom:0;">
                        <span class="info-box-icon recently_used_apps" style="padding-left:10px;color: {{i.app_icon_color}}"><i
                                class="{{i.app_icon}} mr-2"></i> </span>
                        <div class="recently_used_apps"
                            style="display:flex;min-width:80%;justify-content:space-between;align-items:center;font-size: 14px;"
                            data-app_name="{{i.application_code}}" data-app_code="{{i.application_code}}">
                            <span class="info-box-text" id="info-app-name"
                                style="font-weight: bold;padding-right:10%;color: {{i.app_text_color}}"
                                data-app_code="{{i.application_code}}">{{i.application_name}}</span>
                            <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"
                                data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                                onclick="hideUnhideApps(event,this)" {% if i.application_code in hidden_apps
                                %}style="background:var(--primary-color);color:var(--font-color);box-shadow: 1px 1px 2px #f7f7f7;" {%
                                endif %}>
                                {% if i.application_code in hidden_apps %}
                                unhide
                                {% else %}
                                hide
                                {% endif %}
                            </button>
                        </div>
                    </div>
                    <div class="app-content">
                        <div class="app_description" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')" style="padding: 20px;">
                            {{i.description}}
                        </div>
                        <div class="more-info-icon dropdown">
                            {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                            {% if system_dev_mode == 'Edit + Build'%}
                            {% for dev_app in dev_applications %}
                            {% if i.application_code == dev_app.application_code %}
                            {% if developer_mode and developer_mode == "True" %}
                            <i class="fas fa-edit edit-app" id="edit-app" style="margin-top: 0.18em; cursor:pointer"
                                onclick='edit_app("{{i.application_name}}","{{i.application_code}}","{{i.app_card_color}}","{{i.app_icon_color}}","{{i.app_icon}}","{{i.app_text_color}}","{{i.description}}","","")'></i>
                            {% endif %}
                            {% endif %}
                            {% endfor %}
                            {% endif %}
                            {% endif %}
                            <span title="Developer mode options" data-toggle="dropdown" style="cursor: pointer;"><i
                                    class="fas fa-right-to-bracket ml-2"></i></span>
                            <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown">

                                <a href="#" class="dropdown-item selectAppCard" data-app_name="{{i.application_name}}"
                                    data-app_code="{{i.application_code}}">
                                    <i class="fas fa-user mr-2"></i> Login as User
                                </a>
                                {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                                {% for dev_app in dev_applications %}
                                {% if i.application_code == dev_app.application_code %}
                                {% if developer_mode and developer_mode == "True" %}
                                <div class="dropdown-divider"></div>
                                <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                                    data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                                    <i class="fas fa-tools mr-2"></i><span class="dropdown-text">Developer mode ({{system_dev_mode}})</span>
                                </a>
                                {% endif %}
                                <div class="dropdown-divider"></div>
                                <a href="#" class="update_app dropdown-item" data-app_code="{{i.application_code}}"
                                    data-app_name="{{i.application_name}}">
                                    <i class="fa fa-refresh mr-2" data-toggle="tooltip"></i><span
                                        style="font-weight: normal;">Update
                                        Application</span>
                                </a>
                                {% if developer_mode and developer_mode == "True" %}
                                <div class="dropdown-divider"></div>
                                <a href="#" class="delete_app dropdown-item" data-app_code="{{i.application_code}}"
                                    data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                                    <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span
                                        style="font-weight: normal;">Delete
                                        Application</span>
                                </a>
                                {% endif %}
                                {% endif %}
                                {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                    </div>

                </div>
            </div>
              {% endif %}
            {% endfor %}

            {% for i in external_apps %}
              {% if i.hyperlink_code not in applications_order %}
              <div class="sortableItem col-lg-3 col-md-4 col-sm-6 col-xs-12 applicationList" name="Revolutio 2" appCode="{{i.hyperlink_code}}" data-info="{{i.hyperlink_name}} {{i.hyperlink_desc}}">
                <div class="app_wrapper">
                    <a href='{{i.hyperlink_url}}' target="_blank">
                        <div class="info-box" style="background: {{i.hyperlink_card_color}};cursor: pointer;margin-bottom:0;">
                            <span class="info-box-icon recently_used_apps"
                                style="padding-left:10px;color: {{i.hyperlink_icon_color}}"><i
                                    class="{{i.hyperlink_icon}} mr-2"></i> </span>
                            <div class="recently_used_apps"
                                style="display:flex;min-width:80%;justify-content:space-between;align-items:center;font-size: 14px;">
                                <span class="info-box-text" id="info-app-name"
                                    style="font-weight: bold;padding-right:10%;color: {{i.hyperlink_text_color}}">{{i.hyperlink_name}}</span>

                            </div>
                        </div>
                    </a>
                    <div class="app_description" style="padding: 20px;">
                        {{i.hyperlink_desc}}
                    </div>
                    <div class="more-info-icon dropdown">
                        {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                        {% if system_dev_mode == 'Edit + Build'%}
                        <i class="fas fa-edit edit-app mr-2" id="edit-app" style="margin-bottom: 6px; cursor:pointer"
                            data-toggle="tooltip" title="Edit Hyperlink"
                            onclick='edit_app("{{i.hyperlink_name}}","{{i.hyperlink_code}}", "{{i.hyperlink_card_color}}","{{i.hyperlink_icon_color}}","{{i.hyperlink_icon}}","{{i.hyperlink_text_color}}","{{i.hyperlink_desc}}","","","{{i.hyperlink_url}}")'></i>
                        <i class="far fa-trash-alt" style="margin-bottom: 6px; cursor:pointer" data-toggle="tooltip"
                            title="Delete Hyperlink" onclick="delete_link(this)" data-app_code="{{i.hyperlink_code}}"
                            data-app_name="{{i.hyperlink_name}}" data-system_dev_mode="{{system_dev_mode}}"></i>
                        {% endif %}
                        {% endif %}
                    </div>
                </div>
            </div>
              {% endif %}
            {% endfor %}

        </div>
      {% endif %}
      {% if app_template == "template2"%}
        <div class="row" id="sortableContainer" style="display: grid; grid-template-columns: repeat(auto-fill, 20.9rem); grid-gap: 0.5rem;">
          {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
          {% if system_dev_mode == 'Edit + Build' and developer_mode == "True" %}
            <div class="app_workspace create_new_application_wrapper create_new no_sort" data-toggle="modal" data-target="#createNew"
              data-backdrop="static" data-keyboard="false" style="cursor: pointer; height: unset;">
              <div class="create_new_application" style="text-align:center;font-size:40px;"><i class="fas fa-plus"></i>
              </div>
              <div class="create_new_application" style="text-align:center;font-size: 20px;">
                <span class="info-box-text" style="font-weight: bold;">Create New App</span>
              </div>
            </div>
          {% endif %}
          {% endif %}
          {% if allow_dashboard_portal == "True" %}
          {% if dashboard_display_config.show_dashboard == 'true' and dashboard_display_config.display_position == "dashboard_app" %}
          <div class="template2_dashboard" id="dashboardAppWrapper" name="Revolutio 2">
              <div class="app_workspace sys_workspace2">
                <div class="app-header row ">
                  <div class="app_header_image col-2 d-flex align-items-center justify-content-center">
                    <span class="app_icon_wrapper">
                      {% if dashboard_card_ui.sys_appicon|length %}
                      <i class="{{dashboard_card_ui.sys_appicon}} app-icon"></i>
                      {% else %}
                      <i class="fas fa-chart-bar app-icon"></i>
                      {% endif %}
                    </span>
                  </div>
                  <div class="col-8 d-flex align-items-center" onclick="openSystemApp('dashboard')">
                    <span class="app-header-text" >
                      {% if dashboard_card_ui.sys_app_name|length %}
                        {{dashboard_card_ui.sys_app_name}}
                      {% else %}
                        Dashboard
                      {% endif %}
                    </span>
                  </div>
                  <div class="col-2">
                    <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown"
                      style="margin-left: 1rem;color:{{dashboard_card_ui.sys_appicon_color}};"></i>

                    <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown">

                      {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                      {% if system_dev_mode == 'Edit + Build'%}
                      <div class="dropdown-divider"></div>
                      <a href="#" class="dropdown-item edit-app" id="edit-app" onclick='edit_sys_app("dashboardAppWrapper")'>
                        <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit
                          Application</span>
                      </a>
                      {% endif %}
                      {% endif %}
                    </div>
                  </div>
                </div>
                <div class="app-description">
                  {% if dashboard_card_ui.sys_app_desc|length %}
                    {{dashboard_card_ui.sys_app_desc}}
                  {% else %}
                    View all the published dashboards
                  {% endif %}
                </div>
              </div>
          </div>
          {% endif %}
          {% endif %}

          {% if planner_display_config.show_planner == 'true' and planner_display_config.display_position == "planner_app" %}
          <div class="" id="plannerAppWrapper" name="Revolutio 2">
            <div class="app_workspace sys_workspace2">
                <div class="app-header row justify-content-start">
                  <div class="app_header_image col-2 d-flex align-items-center justify-content-center">
                    <span class="app_icon_wrapper">
                      {% if planner_card_ui.sys_appicon|length %}
                      <i class="{{planner_card_ui.sys_appicon}} app-icon"></i>
                      {% else %}
                      <i class="fas fa-calendar-alt app-icon"></i>
                      {% endif %}
                    </span>
                  </div>
                  <div class="col-8 d-flex align-items-center"  onclick="openSystemApp('planner')">
                    <span class="app-header-text">
                      {% if planner_card_ui.sys_app_name|length %}
                        {{planner_card_ui.sys_app_name}}
                      {% else %}
                        Planner
                      {% endif %}
                    </span>
                  </div>
                  <div class="col-2">
                    <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown"
                      style="margin-left: 1rem;color:{{planner_card_ui.sys_appicon_color}};"></i>

                    <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown">

                      {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                      {% if system_dev_mode == 'Edit + Build'%}
                      <div class="dropdown-divider"></div>
                      <a href="#" class="dropdown-item edit-app" id="edit-app" onclick='edit_sys_app("plannerAppWrapper")'>
                        <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit
                          Application</span>
                      </a>
                      {% endif %}
                      {% endif %}
                    </div>
                  </div>
                </div>
                <div class="app-description">
                  {% if planner_card_ui.sys_app_desc|length %}
                    {{planner_card_ui.sys_app_desc}}
                  {% else %}
                    Create and View Plans
                  {% endif %}
                </div>
            </div>
          </div>
          {% endif %}

          {% if applications_order %}
          {% for appCode in applications_order %}
          {% for i in applications %}
          {% if appCode == i.application_code %}
          <div class="sortableItem applicationList p-0 {% if i.application_code in hidden_apps %}hide{% endif %}" data-info="{{i.application_name}} {{i.description}}"
            name="{{i.application_name}}" id="apps" appCode="{{i.application_code}}">
            <div class="app_workspace" style="background:{{i.app_card_color}};"
              onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')">
              <div class="app-header row">
                <div class="app_header_image col-2 d-flex align-items-center justify-content-center">
                  <span class="app_icon_wrapper"><i aria-hidden="true" class="{{i.app_icon}} app-icon"
                      style="color:{{i.app_icon_color}}"></i></span>
                </div>
                <div class="col-8 d-flex align-items-center">
                  <span class="app-header-text" style="color:{{i.app_text_color}}"
                    data-app_code="{{i.application_code}}">{{i.application_name}}</span>
                </div>
                <div class="col-2">
                  <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown"
                    style="margin-left: 1rem;color:{{i.app_icon_color}};"></i>

                  <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown">

                    <a href="#" class="dropdown-item selectAppCard" data-app_name="{{i.application_name}}"
                      data-app_code="{{i.application_code}}">
                      <i class="fas fa-user mr-2"></i> Login as User
                    </a>
                    {% if i.application_code in hidden_apps %}
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                      data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                      <i class="fa-solid fa-eye mr-2"></i>
                      <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}" style="all:unset;"
                        data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                        onclick="hideUnhideApps(event,this)">UnHide</button>
                    </a>
                    {% else %}
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                      data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                      <i class="fa-solid fa-eye-slash mr-2"></i>
                      <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"
                        data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                        onclick="hideUnhideApps(event,this)" style="all:unset;">Hide</button>
                    </a>
                    {% endif %}
                    {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                    {% for dev_app in dev_applications %}
                    {% if i.application_code == dev_app.application_code %}
                    {% if developer_mode and developer_mode == "True" %}
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                      data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                      <i class="fas fa-tools mr-2"></i>Developer mode ({{system_dev_mode}})
                    </a>
                    {% endif %}
                    {% if system_dev_mode == 'Edit + Build' and developer_mode == "True"%}
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item edit-app" id="edit-app" data-app_code="{{i.application_code}}"
                      data-app_name="{{i.application_name}}"
                      onclick='edit_app("{{i.application_name}}","{{i.application_code}}","{{i.app_card_color}}","{{i.app_icon_color}}","{{i.app_icon}}","{{i.app_text_color}}","{{i.description}}","{{i.app_text_description_color}}","")'>
                      <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit
                        Application</span>
                    </a>
                    {% endif %}
                    <div class="dropdown-divider"></div>
                    <a href="#" class="update_app dropdown-item" data-app_code="{{i.application_code}}"
                        data-app_name="{{i.application_name}}">
                        <i class="fa fa-refresh mr-2" data-toggle="tooltip"></i><span
                            style="font-weight: normal;">Update
                            Application</span>
                    </a>
                    {% if developer_mode and developer_mode == "True" %}
                    <div class="dropdown-divider"></div>
                    <a href="#" class="delete_app dropdown-item" data-app_code="{{i.application_code}}"
                      data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                      <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Delete
                        Application</span>
                    </a>
                    {% endif %}
                    {% endif %}

                    {% endfor %}

                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="app-description" style="color:{{i.app_text_description_color}}">
                {{i.description}}
              </div>
            </div>
          </div>
          {% endif %}
          {% endfor %}
          {% for i in external_apps %}
          {% if appCode == i.hyperlink_code %}
          <div class="applicationList sortableItem" appCode="{{i.hyperlink_code}}" data-info="{{i.hyperlink_name}} {{i.hyperlink_desc}}">
            <div class="app_workspace" style="background: {{i.hyperlink_card_color}};">
              <div class="app-header row justify-content-between" style="margin-left: 0.50rem;">
                <a href='{{i.hyperlink_url}}' target="_blank" class="d-flex justify-content-start align-items-center">
                  <div class="app_header_image col-2 d-flex align-items-center justify-content-center">
                    <span class="app_icon_wrapper"><i aria-hidden="true" class="{{i.hyperlink_icon}} app-icon"
                        style="color:{{i.hyperlink_icon_color}}"></i></span>
                  </div>

                  <div class="col-12 d-flex align-items-center">
                    <span class="app-header-text" style="color:{{i.hyperlink_text_color}}"
                      data-app_code="{{i.application_code}}">{{i.hyperlink_name}}</span>
                  </div>
                </a>
                <div class="col-2">
                  <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown"
                    style="margin-left: 1rem;color:{{i.hyperlink_icon_color}};"></i>
                  <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown">
                    <div class="d-flex flex-column">
                      {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                      {% if system_dev_mode == 'Edit + Build'%}
                      <a onclick='edit_app("{{i.hyperlink_name}}","{{i.hyperlink_code}}", "{{i.hyperlink_card_color}}","{{i.hyperlink_icon_color}}","{{i.hyperlink_icon}}","{{i.hyperlink_text_color}}","{{i.hyperlink_desc}}","{{i.hyperlink_description_text_color}}","","{{i.hyperlink_url}}")'
                        id="edit-app" class="dropdown-item ">
                        <i class="fas fa-edit edit-app mr-2" style="margin-bottom: 6px; cursor:pointer"></i>
                        <span style="font-weight: normal;">Edit Application</span>
                      </a>
                      <div class="dropdown-divider"></div>
                      <a onclick="delete_link(this)" class="dropdown-item " data-app_code="{{i.hyperlink_code}}"
                        data-app_name="{{i.hyperlink_name}}" data-system_dev_mode="{{system_dev_mode}}">
                        <i class="far fa-trash-alt" style="margin-bottom: 6px; cursor:pointer"></i>
                        <span style="font-weight: normal;">Delete Application</span>
                      </a>
                      {% endif %}
                      {% endif %}
                    </div>
                  </div>

                </div>
              </div>
              <div class="app-description" style="color:{{i.hyperlink_description_text_color}}">
                {{i.hyperlink_desc}}
              </div>
            </div>
          </div>
          {% endif %}
          {% endfor %}
          {% endfor %}
          {% endif %}

          {% for i in applications %}
          {% if i.application_code not in applications_order %}
          <div class="sortableItem applicationList p-0 {% if i.application_code in hidden_apps %}hide{% endif %}" data-info="{{i.application_name}} {{i.description}}"
            name="{{i.application_name}}" id="apps" appCode="{{i.application_code}}">
            <div class="app_workspace" style="background:{{i.app_card_color}};"
              onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')">
              <div class="app-header row">
                <div class="app_header_image col-2 d-flex align-items-center justify-content-center">
                  <span class="app_icon_wrapper"><i aria-hidden="true" class="{{i.app_icon}} app-icon"
                      style="color:{{i.app_icon_color}}"></i></span>
                </div>
                <div class="col-8 d-flex align-items-center">
                  <span class="app-header-text" style="color:{{i.app_text_color}}"
                    data-app_code="{{i.application_code}}">{{i.application_name}}</span>
                </div>
                <div class="col-2">
                  <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown"
                    style="margin-left: 1rem;color:{{i.app_icon_color}};"></i>

                  <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown">

                    <a href="#" class="dropdown-item selectAppCard" data-app_name="{{i.application_name}}"
                      data-app_code="{{i.application_code}}">
                      <i class="fas fa-user mr-2"></i> Login as User
                    </a>
                    {% if i.application_code in hidden_apps %}
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                      data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                      <i class="fa-solid fa-eye mr-2"></i>
                      <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}" style="all:unset;"
                        data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                        onclick="hideUnhideApps(event,this)">UnHide</button>
                    </a>
                    {% else %}
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                      data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                      <i class="fa-solid fa-eye-slash mr-2"></i>
                      <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"
                        data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                        onclick="hideUnhideApps(event,this)" style="all:unset;">Hide</button>
                    </a>
                    {% endif %}
                    {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                    {% for dev_app in dev_applications %}
                    {% if i.application_code == dev_app.application_code %}
                    {% if developer_mode and developer_mode == "True" %}
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                      data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                      <i class="fas fa-tools mr-2"></i>Developer mode ({{system_dev_mode}})
                    </a>
                    {% endif %}
                    {% if system_dev_mode == 'Edit + Build'%}
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item edit-app" id="edit-app" data-app_code="{{i.application_code}}"
                      data-app_name="{{i.application_name}}"
                      onclick='edit_app("{{i.application_name}}","{{i.application_code}}","{{i.app_card_color}}","{{i.app_icon_color}}","{{i.app_icon}}","{{i.app_text_color}}","{{i.description}}","{{i.app_text_description_color}}","")'>
                      <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit
                        Application</span>
                    </a>
                    {% endif %}
                    {% if developer_mode and developer_mode == "True" %}
                    <div class="dropdown-divider"></div>
                    <a href="#" class="delete_app dropdown-item" data-app_code="{{i.application_code}}"
                      data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                      <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Delete
                        Application</span>
                    </a>
                    {% endif %}
                    {% endif %}

                    {% endfor %}

                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="app-description" style="color:{{i.app_text_description_color}}">
                {{i.description}}
              </div>
            </div>
          </div>
          {% endif %}
          {% endfor %}

          {% for i in external_apps %}
          {% if i.hyperlink_code not in applications_order %}
          <div class="applicationList sortableItem" appCode="{{i.hyperlink_code}}" data-info="{{i.hyperlink_name}} {{i.hyperlink_desc}}">
            <div class="app_workspace" style="background: {{i.hyperlink_card_color}};">
              <div class="app-header row justify-content-between" style="margin-left: 0.50rem;">
                <a href='{{i.hyperlink_url}}' target="_blank" class="d-flex justify-content-start align-items-center">
                  <div class="app_header_image col-2 d-flex align-items-center justify-content-center">
                    <span class="app_icon_wrapper"><i aria-hidden="true" class="{{i.hyperlink_icon}} app-icon"
                        style="color:{{i.hyperlink_icon_color}}"></i></span>
                  </div>

                  <div class="col-12 d-flex align-items-center">
                    <span class="app-header-text" style="color:{{i.hyperlink_text_color}}"
                      data-app_code="{{i.application_code}}">{{i.hyperlink_name}}</span>
                  </div>
                </a>
                <div class="col-2">
                  <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown"
                    style="margin-left: 1rem;color:{{i.hyperlink_icon_color}};"></i>
                  <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown">
                    <div class="d-flex flex-column">
                      {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                      {% if system_dev_mode == 'Edit + Build'%}
                      <a onclick='edit_app("{{i.hyperlink_name}}","{{i.hyperlink_code}}", "{{i.hyperlink_card_color}}","{{i.hyperlink_icon_color}}","{{i.hyperlink_icon}}","{{i.hyperlink_text_color}}","{{i.hyperlink_desc}}","{{i.hyperlink_description_text_color}}","","{{i.hyperlink_url}}")'
                        id="edit-app" class="dropdown-item ">
                        <i class="fas fa-edit edit-app mr-2" style="margin-bottom: 6px; cursor:pointer"></i>
                        <span style="font-weight: normal;">Edit Application</span>
                      </a>
                      <div class="dropdown-divider"></div>
                      <a onclick="delete_link(this)" class="dropdown-item " data-app_code="{{i.hyperlink_code}}"
                        data-app_name="{{i.hyperlink_name}}" data-system_dev_mode="{{system_dev_mode}}">
                        <i class="far fa-trash-alt" style="margin-bottom: 6px; cursor:pointer"></i>
                        <span style="font-weight: normal;">Delete Application</span>
                      </a>
                      {% endif %}
                      {% endif %}
                    </div>
                  </div>

                </div>
              </div>
              <div class="app-description" style="color:{{i.hyperlink_description_text_color}}">
                {{i.hyperlink_desc}}
              </div>
            </div>
          </div>
          {% endif %}
          {% endfor %}

        </div>
      {% endif %}
      {% if app_template == "template3"%}
      <div id="sortableContainer">
        {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
        {% if system_dev_mode == 'Edit + Build' and developer_mode == "True" %}
        <div class="rectangular-tile creatediv no_sort" style="margin:0.5rem" data-sortable="false">
          <div class="tile app_workspace template3box create_new_application_wrapper create_new m-0" data-toggle="modal" data-target="#createNew" data-backdrop="static" data-keyboard="false" style="cursor: pointer;width:100%;height: 100%;">
            <div class="create_new_application" style="text-align:center;font-size:40px;"><i class="fas fa-plus"></i> </div>
            <div class="create_new_application" style="text-align:center;font-size: 20px;">
              <span class="info-box-text" style="font-weight: bold;">Create New App</span>
            </div>
          </div>
        </div>
        {% endif %}
        {% endif %}
        {% if allow_dashboard_portal == "True" %}
        {% if dashboard_display_config.show_dashboard == 'true' and dashboard_display_config.display_position == "dashboard_app" %}
        <div class="applicationList {% if dashboard_card_ui.sys_appsize_t3 == 'Square' or dashboard_card_ui.sys_appsize_t3 == '' or 'sys_appsize_t3' not in i%}square-tile{% endif %} {% if dashboard_card_ui.sys_appsize_t3 == 'Rectangle'%}rectangular-tile {% elif dashboard_card_ui.sys_appsize_t3 == 'cube' %} small-tile {% endif %} {% if not dashboard_card_ui.sys_appsize_t3 %} square-tile {% endif %} dashboarddiv" name="Revolutio 2" style="margin:0.5rem" data-sortable="false" id="dashboardAppWrapper">
          <div class="app_workspace template3box" style="height:100%;margin:unset;" data-desc='{{dashboard_card_ui.sys_app_desc}}' data-name='{{dashboard_card_ui.sys_app_name}}' data-size='{{dashboard_card_ui.sys_appsize_t3}}'>

              <div class=" d-flex align-items-center justify-content-end" {% if dashboard_card_ui.sys_appsize_t3 == 'cube' %} style="height: 1em;margin-bottom:12px" {% else %} style="height: 1em;margin-bottom:24px" {% endif %} >
                <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown" style="color:{{dashboard_card_ui.sys_appicon_color}}"></i>
                <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown" >
                  {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                    {% if system_dev_mode == 'Edit + Build'%}
                    <a href="#" class="dropdown-item edit-app" id="edit-app" onclick='edit_sys_app("dashboardAppWrapper")'>
                      <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit Application</span>
                    </a>
                    {% endif %}
                  {% endif %}
                </div>
              </div>
              <div class="app-header row" style="flex-direction: column;height: unset;"  onclick="openSystemApp('dashboard')">
                <div class="app_header_image d-flex align-items-center justify-content-center" style="width:unset;">
                  <span class="app_icon_wrapper" style="border:0;width: 100%;">
                    {% if dashboard_card_ui.sys_appicon|length %}
                    <i class="{{dashboard_card_ui.sys_appicon}} app-icon" style="{% if dashboard_card_ui.sys_appsize_t3 == 'cube' %} font-size:2em !important {% else %} font-size:4em !important {% endif %}"></i>
                    {% else %}
                    <i aria-hidden="true" class="fas fa-chart-bar app-icon" style="{% if dashboard_card_ui.sys_appsize_t3 == 'cube' %} font-size:2em !important {% else %} font-size:4em !important {% endif %}"></i>
                    {% endif %}
                  </span>
                </div>
                {% if dashboard_card_ui.sys_appsize_t3 != 'cube' %}
                <div class="d-flex align-items-center">
                  {% if dashboard_card_ui.sys_app_name|length %}
                    <span class="app-header-text">{{dashboard_card_ui.sys_app_name}}</span>
                  {% else %}
                    <span class="app-header-text" style="color:var(--font-color)">Dashboard</span>
                  {% endif %}
                </div>
                {% endif %}
              </div>

          </div>
        </div>
        {% endif %}
        {% endif %}
        {% if planner_display_config.show_planner == 'true' and planner_display_config.display_position == "planner_app" %}
        <div class="applicationList {% if planner_card_ui.sys_appsize_t3 == 'Square' or planner_card_ui.sys_appsize_t3 == '' or 'sys_appsize_t3' not in i%}square-tile{% endif %} {% if planner_card_ui.sys_appsize_t3 == 'Rectangle'%}rectangular-tile  {% elif planner_card_ui.sys_appsize_t3 == 'cube' %} small-tile {% endif %} {% if not planner_card_ui.sys_appsize_t3 %} square-tile {% endif %}  dashboarddiv" name="Revolutio 2" style="margin:0.5rem" data-sortable="false" id="plannerAppWrapper">
          <div class="app_workspace template3box" style="height:100%;margin:unset;" data-desc='{{planner_card_ui.sys_app_desc}}' data-name='{{planner_card_ui.sys_app_name}}' data-size='{{planner_card_ui.sys_appsize_t3}}'>

              <div class=" d-flex align-items-center justify-content-end" {% if planner_card_ui.sys_appsize_t3 == 'cube' %} style="height: 1em;margin-bottom:12px" {% else %} style="height: 1em;margin-bottom:24px" {% endif %} >
                <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown" style="color:{{planner_card_ui.sys_appicon_color}}"></i>
                <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown" >
                  {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                    {% if system_dev_mode == 'Edit + Build'%}
                    <a href="#" class="dropdown-item edit-app" id="edit-app" onclick='edit_sys_app("plannerAppWrapper")'>
                      <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit Application</span>
                    </a>
                    {% endif %}
                  {% endif %}
                </div>
              </div>
              <div class="app-header row" onclick="openSystemApp('planner')">
                <div class="">
                  <div class="app_header_image d-flex align-items-center justify-content-center" style="width:unset;">
                    <span class="app_icon_wrapper" style="border:0;width: 100%;">
                      {% if planner_card_ui.sys_appicon|length %}
                      <i class="{{planner_card_ui.sys_appicon}} app-icon" style="{% if planner_card_ui.sys_appsize_t3 == 'cube' %} font-size:2em !important {% else %} font-size:4em !important {% endif %}"></i>
                      {% else %}
                      <i aria-hidden="true" class="fas fa-calendar-alt app-icon" style="{% if planner_card_ui.sys_appsize_t3 == 'cube' %} font-size:2em !important {% else %} font-size:4em !important {% endif %}"></i>
                      {% endif %}
                    </span>
                  </div>
                  {% if planner_card_ui.sys_appsize_t3 != 'cube' %}
                  <div class="d-flex align-items-center">
                    {% if planner_card_ui.sys_app_name|length %}
                      <span class="app-header-text">{{planner_card_ui.sys_app_name}}</span>
                    {% else %}
                    <span class="app-header-text" style="color:var(--font-color)">Planner</span>
                    {% endif %}
                  </div>
                  {% endif %}
                </div>
              </div>
          </div>
        </div>
        {% endif %}
        {% if applications_order %}
        {% for appCode in applications_order %}
        {% for i in applications %}
        {% if i.t3_app_size == 'Rectangle' or i.t3_app_size == 'Square' or i.t3_app_size == '' or 't3_app_size' not in i %}
        {% if appCode == i.application_code %}
        <div class="applicationList {% if i.application_code in hidden_apps %}hide{% endif %} sortableItem {% if i.t3_app_size == 'Square' or i.t3_app_size == '' or 't3_app_size' not in i%}square-tile{% endif %} {% if i.t3_app_size == 'Rectangle'%}rectangular-tile{% endif %} " appCode="{{i.application_code}}" name="{{ i.application_name }}" appCode="{{i.application_code}}" id="apps" data-info="{{i.application_name}} {{i.description}}">
          <div class="app_workspace sortable-app" style="background:{{i.app_card_color}};box-shadow: 0 0 2px rgb(0 0 0 / 12%), 0 2px 4px rgb(0 0 0 / 14%);border-radius: 4px;margin: 0;width: 100%;height: 100%;" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')">

            <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
              <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown" style="color:{{i.app_icon_color}}"></i>
              <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown" >

                <a href="#" class="dropdown-item selectAppCard" data-app_name="{{i.application_name}}"
                  data-app_code="{{i.application_code}}">
                  <i class="fas fa-user mr-2"></i> Login as User
                </a>
                {% if i.application_code in hidden_apps %}
                <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                  data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="fa-solid fa-eye mr-2"></i>
                    <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"  style="all:unset;"
                    data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                    onclick="hideUnhideApps(event,this)">UnHide</button>
                  </a>
                  {% else %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                  data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="fa-solid fa-eye-slash mr-2"></i>
                    <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"
                    data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                    onclick="hideUnhideApps(event,this)" style="all:unset;"
                    >Hide</button>
                  </a>
                {% endif %}
                {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                {% for dev_app in dev_applications %}
                {% if i.application_code == dev_app.application_code %}
                {% if developer_mode and developer_mode == "True" %}
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}" data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                  <i class="fas fa-tools mr-2"></i>Developer mode ({{system_dev_mode}})
                </a>
                {% endif %}
                {% if system_dev_mode == 'Edit + Build' and developer_mode == "True" %}
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item edit-app" id="edit-app" data-app_code="{{i.application_code}}"
                  data-app_name="{{i.application_name}}"
                  onclick='edit_app("{{i.application_name}}","{{i.application_code}}","{{i.app_card_color}}","{{i.app_icon_color}}","{{i.app_icon}}","{{i.app_text_color}}","{{i.description}}","{{i.app_text_description_color}}","")'>
                  <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit
                    Application</span>
                </a>
                {% endif %}
                <div class="dropdown-divider"></div>
                <a href="#" class="update_app dropdown-item" data-app_code="{{i.application_code}}"
                    data-app_name="{{i.application_name}}">
                    <i class="fa fa-refresh mr-2" data-toggle="tooltip"></i><span
                        style="font-weight: normal;">Update
                        Application</span>
                </a>
                {% if developer_mode and developer_mode == "True" %}
                <div class="dropdown-divider"></div>
                <a href="#" class="delete_app dropdown-item" data-app_code="{{i.application_code}}"
                  data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                  <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Delete
                    Application</span>
                </a>
                {% endif %}
                {% endif %}

                {% endfor %}

                {% endif %}
              </div>
            </div>
            <div class="app-header row">
              <div class="">
                <div class="  app_header_image d-flex align-items-center justify-content-center" style="max-width: unset;max-height: unset;width: unset;height: unset;">
                  <span class=" app_icon_wrapper" style="border:0;width: 100%;"><i aria-hidden="true" class="{{i.app_icon}} app-icon fa-4x" style="color:{{i.app_icon_color}};font-size:4em;"></i></span>
                </div>
                <div class="d-flex justify-content-center align-items-center">
                  <span class="app-header-text" style="color:{{i.app_text_color}}" data-app_code="{{i.application_code}}">{{i.application_name}}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endif %}
        {% endif %}
        {% if i.t3_app_size == 'cube' %}
        {% if appCode == i.application_code %}
        <div class="applicationList sortableItem small-tile {% if i.application_code in hidden_apps %}hide{% endif %}" appCode="{{i.application_code}}" name="{{i.application_name}}" appCode="{{i.application_code}}" id="apps" data-info="{{i.application_name}} {{i.description}}">
          <div class="app_workspace " style="background:{{i.app_card_color}};box-shadow: 0 0 2px rgb(0 0 0 / 12%), 0 2px 4px rgb(0 0 0 / 14%);border-radius: 4px;margin: 0;" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')">

            <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
              <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown" style="color:{{i.app_icon_color}};padding-right: 0.25rem;"></i>
              <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown" >

                <a href="#" class="dropdown-item selectAppCard" data-app_name="{{i.application_name}}"
                  data-app_code="{{i.application_code}}">
                  <i class="fas fa-user mr-2"></i> Login as User
                </a>
                {% if i.application_code in hidden_apps %}
                <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                  data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="fa-solid fa-eye mr-2"></i>
                    <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"  style="all:unset;"
                    data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                    onclick="hideUnhideApps(event,this)">UnHide</button>
                  </a>
                  {% else %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                  data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="fa-solid fa-eye-slash mr-2"></i>
                    <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"
                    data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                    onclick="hideUnhideApps(event,this)" style="all:unset;"
                    >Hide</button>
                  </a>
                {% endif %}
                {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                {% for dev_app in dev_applications %}
                {% if i.application_code == dev_app.application_code %}
                {% if developer_mode and developer_mode == "True" %}
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}" data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                  <i class="fas fa-tools mr-2"></i>Developer mode ({{system_dev_mode}})
                </a>
                {% endif %}
                {% if system_dev_mode == 'Edit + Build'%}
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item edit-app" id="edit-app" data-app_code="{{i.application_code}}"
                  data-app_name="{{i.application_name}}"
                  onclick='edit_app("{{i.application_name}}","{{i.application_code}}","{{i.app_card_color}}","{{i.app_icon_color}}","{{i.app_icon}}","{{i.app_text_color}}","{{i.description}}","{{i.app_text_description_color}}","")'>
                  <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit
                    Application</span>
                </a>
                {% endif %}
                {% if developer_mode and developer_mode == "True" %}
                <div class="dropdown-divider"></div>
                <a href="#" class="delete_app dropdown-item" data-app_code="{{i.application_code}}"
                  data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                  <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Delete
                    Application</span>
                </a>
                {% endif %}
                {% endif %}

                {% endfor %}

                {% endif %}
              </div>
            </div>
            <div class="app-header row">
              <div class="">
                <div class="  app_header_image d-flex align-items-center justify-content-center" style="max-width: unset;max-height: unset;width: unset;height: unset;">
                  <span class=" app_icon_wrapper" style="border:0;width: 100%;"><i aria-hidden="true" class="{{i.app_icon}} app-icon fa-4x" style="color:{{i.app_icon_color}};font-size:2em;"></i></span>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endif %}
        {% endif %}
        {% endfor %}
        {% for i in external_apps %}
        {% if appCode == i.hyperlink_code %}
        <div class="HperlinksApplicationList sortableItem {% if i.hyperlink_t3_app_size == 'Square' or i.hyperlink_t3_app_size == '' or 'hyperlink_t3_app_size' not in i%}square-tile{% endif %} {% if i.hyperlink_t3_app_size == 'Rectangle'%}rectangular-tile{% endif %} {% if i.hyperlink_t3_app_size == 'cube'%}small-tile{% endif %}" id="HperlinksApps" name="{{i.hyperlink_name}}" appCode="{{i.hyperlink_code}}" data-info="{{i.hyperlink_name}} {{i.hyperlink_desc}}">
          <div class="app_workspace"
            style="background:{{i.hyperlink_card_color}};box-shadow: 0 0 2px rgb(0 0 0 / 12%), 0 2px 4px rgb(0 0 0 / 14%);border-radius: 4px;margin: 0;width:100%;height: 100%;">
              <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
                <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown"
                  style="color:{{i.hyperlink_icon_color}} ;"></i>
                  <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown">
                    <div class="d-flex flex-column">
                        {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                        {% if system_dev_mode == 'Edit + Build'%}
                        <a onclick='edit_app("{{i.hyperlink_name}}","{{i.hyperlink_code}}", "{{i.hyperlink_card_color}}","{{i.hyperlink_icon_color}}","{{i.hyperlink_icon}}","{{i.hyperlink_text_color}}","{{i.hyperlink_desc}}","{{i.hyperlink_description_text_color}}","","{{i.hyperlink_url}}")'
                            id="edit-app" class="dropdown-item ">
                            <i class="fas fa-edit edit-app mr-2" style="margin-bottom: 6px; cursor:pointer"></i>
                            <span style="font-weight: normal;">Edit Application</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a onclick="delete_link(this)" class="dropdown-item "
                            data-app_code="{{i.hyperlink_code}}" data-app_name="{{i.hyperlink_name}}"
                            data-system_dev_mode="{{system_dev_mode}}">
                            <i class="far fa-trash-alt mr-2" style="margin-bottom: 6px; cursor:pointer"></i>
                            <span style="font-weight: normal;">Delete Application</span>
                        </a>
                        {% endif %}
                        {% endif %}
                    </div>
                </div>
              </div>

              <div class="app-header row">
            <a href='{{i.hyperlink_url}}' target="_blank" class="d-flex justify-content-start align-items-center">

                <div class="">
                  <div class="app_header_image d-flex align-items-center justify-content-center"
                    style="max-width: unset;max-height: unset;width: unset;height: unset;">
                    <span class=" app_icon_wrapper" style="border:0;width: 100%;"><i aria-hidden="true"
                        class="{{i.hyperlink_icon}} app-icon fa-4x" style="color:{{i.hyperlink_icon_color}};"
                        ></i></span>
                  </div>
                  {% if i.hyperlink_t3_app_size == 'Square' or i.hyperlink_t3_app_size == 'Rectangle' or i.hyperlink_t3_app_size == '' or 'hyperlink_t3_app_size' not in i%}
                    <div class="d-flex justify-content-center align-items-center">
                      <span class="app-header-text" style="color:{{i.hyperlink_text_color}}"
                        data-app_code="{{i.hyperlink_code}}">{{i.hyperlink_name}}</span>
                    </div>
                  {% endif %}
                </div>
            </a>

              </div>
          </div>
        </div>
        {% endif %}
        {% endfor %}
        {% endfor %}
        {% endif %}
        {% for i in applications %}
        {% if i.application_code not in applications_order %}
        {% if i.t3_app_size == 'Rectangle' or i.t3_app_size == 'Square' or i.t3_app_size == '' or 't3_app_size' not in i %}
        <div class="applicationList {% if i.application_code in hidden_apps %}hide{% endif %} sortableItem {% if i.t3_app_size == 'Square' or i.t3_app_size == '' or 't3_app_size' not in i%}square-tile{% endif %} {% if i.t3_app_size == 'Rectangle'%}rectangular-tile{% endif %} " appCode="{{i.application_code}}" name="{{ i.application_name }}" appCode="{{i.application_code}}" id="apps" data-info="{{i.application_name}} {{i.description}}">
          <div class="app_workspace sortable-app" style="background:{{i.app_card_color}};box-shadow: 0 0 2px rgb(0 0 0 / 12%), 0 2px 4px rgb(0 0 0 / 14%);border-radius: 4px;margin: 0;width: 100%;height: 100%;" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')">

            <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
              <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown" style="color:{{i.app_icon_color}}"></i>
              <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown" >

                <a href="#" class="dropdown-item selectAppCard" data-app_name="{{i.application_name}}"
                  data-app_code="{{i.application_code}}">
                  <i class="fas fa-user mr-2"></i> Login as User
                </a>
                {% if i.application_code in hidden_apps %}
                <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                  data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="fa-solid fa-eye mr-2"></i>
                    <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"  style="all:unset;"
                    data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                    onclick="hideUnhideApps(event,this)">UnHide</button>
                  </a>
                  {% else %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                  data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="fa-solid fa-eye-slash mr-2"></i>
                    <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"
                    data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                    onclick="hideUnhideApps(event,this)" style="all:unset;"
                    >Hide</button>
                  </a>
                {% endif %}
                {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                {% for dev_app in dev_applications %}
                {% if i.application_code == dev_app.application_code %}
                {% if developer_mode and developer_mode == "True" %}
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}" data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                  <i class="fas fa-tools mr-2"></i>Developer mode ({{system_dev_mode}})
                </a>
                {% endif %}
                {% if system_dev_mode == 'Edit + Build'%}
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item edit-app" id="edit-app" data-app_code="{{i.application_code}}"
                  data-app_name="{{i.application_name}}"
                  onclick='edit_app("{{i.application_name}}","{{i.application_code}}","{{i.app_card_color}}","{{i.app_icon_color}}","{{i.app_icon}}","{{i.app_text_color}}","{{i.description}}","{{i.app_text_description_color}}","")'>
                  <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit
                    Application</span>
                </a>
                {% endif %}
                {% if developer_mode and developer_mode == "True" %}
                <div class="dropdown-divider"></div>
                <a href="#" class="delete_app dropdown-item" data-app_code="{{i.application_code}}"
                  data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                  <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Delete
                    Application</span>
                </a>
                {% endif %}
                {% endif %}

                {% endfor %}

                {% endif %}
              </div>
            </div>
            <div class="app-header row">
              <div class="">
                <div class="  app_header_image d-flex align-items-center justify-content-center" style="max-width: unset;max-height: unset;width: unset;height: unset;">
                  <span class=" app_icon_wrapper" style="border:0;width: 100%;"><i aria-hidden="true" class="{{i.app_icon}} app-icon fa-4x" style="color:{{i.app_icon_color}};font-size:4em;"></i></span>
                </div>
                <div class="d-flex justify-content-center align-items-center">
                  <span class="app-header-text" style="color:{{i.app_text_color}}" data-app_code="{{i.application_code}}">{{i.application_name}}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% else %}
        <div class="applicationList sortableItem small-tile {% if i.application_code in hidden_apps %}hide{% endif %}" appCode="{{i.application_code}}" name="{{i.application_name}}" appCode="{{i.application_code}}" id="apps" data-info="{{i.application_name}} {{i.description}}">
          <div class="app_workspace " style="background:{{i.app_card_color}};box-shadow: 0 0 2px rgb(0 0 0 / 12%), 0 2px 4px rgb(0 0 0 / 14%);border-radius: 4px;margin: 0;" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')">

            <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
              <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown" style="color:{{i.app_icon_color}};padding-right: 0.25rem;"></i>
              <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown" >

                <a href="#" class="dropdown-item selectAppCard" data-app_name="{{i.application_name}}"
                  data-app_code="{{i.application_code}}">
                  <i class="fas fa-user mr-2"></i> Login as User
                </a>
                {% if i.application_code in hidden_apps %}
                <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                  data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="fa-solid fa-eye mr-2"></i>
                    <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"  style="all:unset;"
                    data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                    onclick="hideUnhideApps(event,this)">UnHide</button>
                  </a>
                  {% else %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                  data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="fa-solid fa-eye-slash mr-2"></i>
                    <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"
                    data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                    onclick="hideUnhideApps(event,this)" style="all:unset;"
                    >Hide</button>
                  </a>
                {% endif %}
                {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                {% for dev_app in dev_applications %}
                {% if i.application_code == dev_app.application_code %}
                {% if developer_mode and developer_mode == "True" %}
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}" data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                  <i class="fas fa-tools mr-2"></i>Developer mode ({{system_dev_mode}})
                </a>
                {% endif %}
                {% if system_dev_mode == 'Edit + Build'%}
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item edit-app" id="edit-app" data-app_code="{{i.application_code}}"
                  data-app_name="{{i.application_name}}"
                  onclick='edit_app("{{i.application_name}}","{{i.application_code}}","{{i.app_card_color}}","{{i.app_icon_color}}","{{i.app_icon}}","{{i.app_text_color}}","{{i.description}}","{{i.app_text_description_color}}","")'>
                  <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit
                    Application</span>
                </a>
                {% endif %}
                {% if developer_mode and developer_mode == "True" %}
                <div class="dropdown-divider"></div>
                <a href="#" class="delete_app dropdown-item" data-app_code="{{i.application_code}}"
                  data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                  <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Delete
                    Application</span>
                </a>
                {% endif %}
                {% endif %}

                {% endfor %}

                {% endif %}
              </div>
            </div>
            <div class="app-header row">
              <div class="">
                <div class="  app_header_image d-flex align-items-center justify-content-center" style="max-width: unset;max-height: unset;width: unset;height: unset;">
                  <span class=" app_icon_wrapper" style="border:0;width: 100%;"><i aria-hidden="true" class="{{i.app_icon}} app-icon fa-4x" style="color:{{i.app_icon_color}};font-size:2em;"></i></span>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endif %}
        {% endif %}
        {% endfor %}
        {% for i in external_apps %}
        {% if i.hyperlink_code not in applications_order %}
        <div class="HperlinksApplicationList sortableItem {% if i.hyperlink_t3_app_size == 'Square' or i.hyperlink_t3_app_size == '' or 'hyperlink_t3_app_size' not in i%}square-tile{% endif %} {% if i.hyperlink_t3_app_size == 'Rectangle'%}rectangular-tile{% endif %} {% if i.hyperlink_t3_app_size == 'cube'%}small-tile{% endif %}" id="HperlinksApps" name="{{i.hyperlink_name}}" appCode="{{i.hyperlink_code}}" data-info="{{i.hyperlink_name}} {{i.hyperlink_desc}}">
          <div class="app_workspace"
            style="background:{{i.hyperlink_card_color}};box-shadow: 0 0 2px rgb(0 0 0 / 12%), 0 2px 4px rgb(0 0 0 / 14%);border-radius: 4px;margin: 0;width:100%;height: 100%;">
              <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
                <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown"
                  style="color:{{i.hyperlink_icon_color}} ;"></i>
                  <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown">
                    <div class="d-flex flex-column">
                        {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                        {% if system_dev_mode == 'Edit + Build'%}
                        <a onclick='edit_app("{{i.hyperlink_name}}","{{i.hyperlink_code}}", "{{i.hyperlink_card_color}}","{{i.hyperlink_icon_color}}","{{i.hyperlink_icon}}","{{i.hyperlink_text_color}}","{{i.hyperlink_desc}}","{{i.hyperlink_description_text_color}}","","{{i.hyperlink_url}}")'
                            id="edit-app" class="dropdown-item ">
                            <i class="fas fa-edit edit-app mr-2" style="margin-bottom: 6px; cursor:pointer"></i>
                            <span style="font-weight: normal;">Edit Application</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a onclick="delete_link(this)" class="dropdown-item "
                            data-app_code="{{i.hyperlink_code}}" data-app_name="{{i.hyperlink_name}}"
                            data-system_dev_mode="{{system_dev_mode}}">
                            <i class="far fa-trash-alt mr-2" style="margin-bottom: 6px; cursor:pointer"></i>
                            <span style="font-weight: normal;">Delete Application</span>
                        </a>
                        {% endif %}
                        {% endif %}
                    </div>
                </div>
              </div>

              <div class="app-header row">
            <a href='{{i.hyperlink_url}}' target="_blank" class="d-flex justify-content-start align-items-center">

                <div class="">
                  <div class="app_header_image d-flex align-items-center justify-content-center"
                    style="max-width: unset;max-height: unset;width: unset;height: unset;">
                    <span class=" app_icon_wrapper" style="border:0;width: 100%;"><i aria-hidden="true"
                        class="{{i.hyperlink_icon}} app-icon fa-4x" style="color:{{i.hyperlink_icon_color}};"
                        ></i></span>
                  </div>
                  {% if i.hyperlink_t3_app_size == 'Square' or i.hyperlink_t3_app_size == 'Rectangle' or i.hyperlink_t3_app_size == '' or 'hyperlink_t3_app_size' not in i%}
                    <div class="d-flex justify-content-center align-items-center">
                      <span class="app-header-text" style="color:{{i.hyperlink_text_color}}"
                        data-app_code="{{i.hyperlink_code}}">{{i.hyperlink_name}}</span>
                    </div>
                  {% endif %}
                </div>
            </a>

              </div>
          </div>
        </div>
        {% endif %}
        {% endfor %}

      </div>
      {% endif %}

      {% if app_template == "template4" or app_template == "template5"%}
        {% if app_template == "template4" and widgets_template_value == "SuqareApp" %}
          <div class="row" id="sortableContainer" style="display: grid; grid-template-columns: repeat(auto-fill, 13.9rem); grid-gap: 0.5rem;">
            {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
              {% if system_dev_mode == 'Edit + Build' and developer_mode == "True" %}
                <div class="app-card fixedItem no_sort" data-toggle="modal" data-target="#createNew" data-backdrop="static" data-keyboard="false" style="display: flex; flex-direction: column; justify-content: center; align-items: center;cursor: pointer;">
                  <div class="app-container" style="text-align: center; width: 10rem; background:var(--primary-color); border-radius: 1rem; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); padding: 1rem;">
                    <i class="app-icon fas fa-plus" style="font-size: 5rem; color:var(--font-hover-color); margin: 0 auto; display: block;"></i>
                  </div>
                  <div class="app-name" style="font-size: 1rem; margin-top: 1%; text-align: center; color:var(--font-color);">
                    Create New App
                  </div>
                </div>
              {% endif %}
            {% endif %}
            {% if allow_dashboard_portal == "True" %}
            {% if dashboard_display_config.show_dashboard == 'true' and dashboard_display_config.display_position == "dashboard_app" %}
              <div class="app-card fixedItem template4container" name="Revolutio 2" id="dashboardAppWrapper" data-desc='{{dashboard_card_ui.sys_app_desc}}'>
                  <div class="app-container ">

                    <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
                      <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown" style="color:{{dashboard_card_ui.sys_appicon_color}}"></i>
                      <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown" >
                        {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                          {% if system_dev_mode == 'Edit + Build'%}
                          <a href="#" class="dropdown-item edit-app" id="edit-app" onclick='edit_sys_app("dashboardAppWrapper")'>
                            <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit Application</span>
                          </a>
                          {% endif %}
                        {% endif %}
                      </div>
                    </div>

                    {% if dashboard_card_ui.sys_appicon|length %}
                    <i class="{{dashboard_card_ui.sys_appicon}} app-icon"  onclick="openSystemApp('dashboard')"></i>
                    {% else %}
                    <i class="app-icon fas fa-chart-bar"  onclick="openSystemApp('dashboard')"></i>
                    {% endif %}
                  </div>
                  <div class="app-name"  onclick="openSystemApp('dashboard')">
                    <span class="span-app-name">
                      {% if dashboard_card_ui.sys_app_name|length %}
                        {{dashboard_card_ui.sys_app_name}}
                      {% else %}
                        Dashboard
                      {% endif %}
                    </span>
                  </div>
              </div>
            {% endif %}
            {% endif %}

            {% if planner_display_config.show_planner == 'true' and planner_display_config.display_position == "planner_app" %}
            <div class="app-card fixedItem template4container" name="Revolutio 2" id="plannerAppWrapper" data-desc='{{planner_card_ui.sys_app_desc}}'>
                <div class="app-container ">
                  <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
                    <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown" style="color:{{planner_card_ui.sys_appicon_color}}"></i>
                    <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown" >
                      {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                        {% if system_dev_mode == 'Edit + Build'%}
                        <a href="#" class="dropdown-item edit-app" id="edit-app" onclick='edit_sys_app("plannerAppWrapper")'>
                          <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit Application</span>
                        </a>
                        {% endif %}
                      {% endif %}
                    </div>
                  </div>

                  {% if planner_card_ui.sys_appicon|length %}
                  <i class="{{planner_card_ui.sys_appicon}} app-icon"  onclick="openSystemApp('planner')"></i>
                  {% else %}
                  <i class="app-icon fas fa-calendar-alt" onclick="openSystemApp('planner')"></i>
                  {% endif %}
                </div>
                <div class="app-name"  onclick="openSystemApp('planner')">
                  <span class="span-app-name">
                    {% if planner_card_ui.sys_app_name|length %}
                      {{planner_card_ui.sys_app_name}}
                    {% else %}
                      Planner
                    {% endif %}
                  </span>
                </div>
            </div>
            {% endif %}

            {% if applications_order %}
              {% for appCode in applications_order %}
                {% for i in applications %}
                  {% if appCode == i.application_code %}
                    <div class="sortableItem app-card" appCode="{{i.application_code}}" style="display: flex; flex-direction: column; justify-content: center; align-items: center;" data-info="{{i.application_name}} {{i.description}}">
                      <div class="app-container" style="text-align: center; width: 10rem; background:{{i.app_card_color}}; border-radius: 1rem; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); padding: 1rem;">
                        <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
                          <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown" style="color:{{i.app_icon_color}}"></i>
                          <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown" >

                            <a href="#" class="dropdown-item selectAppCard" data-app_name="{{i.application_name}}"
                              data-app_code="{{i.application_code}}">
                              <i class="fas fa-user mr-2"></i> Login as User
                            </a>
                            {% if i.application_code in hidden_apps %}
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                            data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                              <i class="fa-solid fa-eye mr-2"></i>
                              <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"  style="all:unset;"
                              data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                              onclick="hideUnhideApps(event,this)">UnHide</button>
                            </a>
                            {% else %}
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                            data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                              <i class="fa-solid fa-eye-slash mr-2"></i>
                              <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"
                              data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                              onclick="hideUnhideApps(event,this)" style="all:unset;"
                              >Hide</button>
                            </a>
                            {% endif %}
                            {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                            {% for dev_app in dev_applications %}
                            {% if i.application_code == dev_app.application_code %}
                            {% if developer_mode and developer_mode == "True" %}
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}" data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                              <i class="fas fa-tools mr-2"></i>Developer mode ({{system_dev_mode}})
                            </a>
                            {% endif %}
                            {% if system_dev_mode == 'Edit + Build' and developer_mode == "True" %}
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item edit-app" id="edit-app" data-app_code="{{i.application_code}}"
                              data-app_name="{{i.application_name}}"
                              onclick='edit_app("{{i.application_name}}","{{i.application_code}}","{{i.app_card_color}}","{{i.app_icon_color}}","{{i.app_icon}}","{{i.app_text_color}}","{{i.description}}","{{i.app_text_description_color}}","")'>
                              <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit
                                Application</span>
                            </a>
                            {% endif %}
                            <div class="dropdown-divider"></div>
                            <a href="#" class="update_app dropdown-item" data-app_code="{{i.application_code}}"
                                data-app_name="{{i.application_name}}">
                                <i class="fa fa-refresh mr-2" data-toggle="tooltip"></i><span
                                    style="font-weight: normal;">Update
                                    Application</span>
                            </a>
                            {% if developer_mode and developer_mode == "True" %}
                            <div class="dropdown-divider"></div>
                            <a href="#" class="delete_app dropdown-item" data-app_code="{{i.application_code}}"
                              data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                              <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Delete
                                Application</span>
                            </a>
                            {% endif %}
                            {% endif %}

                            {% endfor %}

                            {% endif %}
                          </div>
                        </div>
                        <i class="app-icon {{i.app_icon}}" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')" style="font-size: 5rem; color:{{i.app_icon_color}}; margin: 0 auto; display: block;"></i>
                      </div>
                    </div>

                  {% endif %}
                {% endfor %}
              {% endfor %}
            {% endif %}

          {% for i in applications %}
          {% if i.application_code not in applications_order %}
          <div class="sortableItem app-card" appCode="{{i.application_code}}" style="display: flex; flex-direction: column; justify-content: center; align-items: center;" data-info="{{i.application_name}} {{i.description}}">
            <div class="app-container" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')" style="text-align: center; width: 10rem; background:{{i.app_card_color}}; border-radius: 1rem; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); padding: 1rem;">
              <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
                <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown" style="color:{{i.app_icon_color}}"></i>
                <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown" >

                  <a href="#" class="dropdown-item selectAppCard" data-app_name="{{i.application_name}}"
                    data-app_code="{{i.application_code}}">
                    <i class="fas fa-user mr-2"></i> Login as User
                  </a>
                  {% if i.application_code in hidden_apps %}
                  <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                    data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                      <i class="fa-solid fa-eye mr-2"></i>
                      <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"  style="all:unset;"
                      data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                      onclick="hideUnhideApps(event,this)">UnHide</button>
                    </a>
                    {% else %}
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                    data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                      <i class="fa-solid fa-eye-slash mr-2"></i>
                      <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"
                      data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                      onclick="hideUnhideApps(event,this)" style="all:unset;"
                      >Hide</button>
                    </a>
                  {% endif %}
                  {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                  {% for dev_app in dev_applications %}
                  {% if i.application_code == dev_app.application_code %}
                  {% if developer_mode and developer_mode == "True" %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}" data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="fas fa-tools mr-2"></i>Developer mode ({{system_dev_mode}})
                  </a>
                  {% endif %}
                  {% if system_dev_mode == 'Edit + Build' and developer_mode == "True" %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item edit-app" id="edit-app" data-app_code="{{i.application_code}}"
                    data-app_name="{{i.application_name}}"
                    onclick='edit_app("{{i.application_name}}","{{i.application_code}}","{{i.app_card_color}}","{{i.app_icon_color}}","{{i.app_icon}}","{{i.app_text_color}}","{{i.description}}","{{i.app_text_description_color}}","")'>
                    <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit
                      Application</span>
                  </a>
                  {% endif %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="update_app dropdown-item" data-app_code="{{i.application_code}}"
                      data-app_name="{{i.application_name}}">
                      <i class="fa fa-refresh mr-2" data-toggle="tooltip"></i><span
                          style="font-weight: normal;">Update
                          Application</span>
                  </a>
                  {% if developer_mode and developer_mode == "True" %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="delete_app dropdown-item" data-app_code="{{i.application_code}}"
                    data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Delete
                      Application</span>
                  </a>
                  {% endif %}
                  {% endif %}

                  {% endfor %}

                  {% endif %}
                </div>
              </div>
              <i class="app-icon {{i.app_icon}}" style="font-size: 5rem; color:{{i.app_icon_color}}; margin: 0 auto; display: block;"></i>
            </div>
            <div class="app-name" style="font-size: 1rem; margin-top: 1%; text-align: center; color:{{i.app_text_color}}">
              {{i.application_name}}
            </div>
          </div>
          {% endif %}
          {% endfor %}

          {% for i in external_apps %}
          {% if i.hyperlink_code not in applications_order %}
          <div class="sortableItem app-card" appCode="{{i.hyperlink_code}}" style="display: flex; flex-direction: column; justify-content: center; align-items: center;" data-info="{{i.hyperlink_name}} {{i.hyperlink_desc}}">
            <div class="app-container" style="text-align: center; width: 10rem; background:{{i.hyperlink_card_color}}; border-radius: 1rem; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); padding: 1rem;">
              <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
                <i class="apps_options fa-solid fa-ellipsis" data-toggle="dropdown"
                  style="color:{{i.hyperlink_icon_color}} ;"></i>
                  <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown">
                    <div class="d-flex flex-column">
                        {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                        {% if system_dev_mode == 'Edit + Build'%}
                        <a onclick='edit_app("{{i.hyperlink_name}}","{{i.hyperlink_code}}", "{{i.hyperlink_card_color}}","{{i.hyperlink_icon_color}}","{{i.hyperlink_icon}}","{{i.hyperlink_text_color}}","{{i.hyperlink_desc}}","{{i.hyperlink_description_text_color}}","","{{i.hyperlink_url}}")'
                            id="edit-app" class="dropdown-item ">
                            <i class="fas fa-edit edit-app mr-2" style="margin-bottom: 6px; cursor:pointer"></i>
                            <span style="font-weight: normal;">Edit Application</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a onclick="delete_link(this)" class="dropdown-item "
                            data-app_code="{{i.hyperlink_code}}" data-app_name="{{i.hyperlink_name}}"
                            data-system_dev_mode="{{system_dev_mode}}">
                            <i class="far fa-trash-alt mr-2" style="margin-bottom: 6px; cursor:pointer"></i>
                            <span style="font-weight: normal;">Delete Application</span>
                        </a>
                        {% endif %}
                        {% endif %}
                    </div>
                </div>
              </div>
              <i class="app-icon {{i.hyperlink_icon}}" style="font-size: 5rem; color:{{i.hyperlink_icon_color}}; margin: 0 auto; display: block;"></i>
            </div>
            <div class="app-name" style="font-size: 1rem; margin-top: 1%; text-align: center; color:{{i.hyperlink_text_color}}">
              {{i.hyperlink_name}}
            </div>
          </div>
          {% endif %}
          {% endfor %}
          </div>
        {% elif app_template == "template4" and widgets_template_value == "CircleApp" or app_template == "template5"%}
        <div class="row" id="sortableContainer" style="display: grid; grid-template-columns: repeat(auto-fill, 13.9rem); grid-gap: 0.5rem;">
          {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
            {% if system_dev_mode == 'Edit + Build' and developer_mode == "True" %}
              <div class="app-card fixedItem no_sort" data-toggle="modal" data-target="#createNew" data-backdrop="static" data-keyboard="false" style="display: flex; flex-direction: column; justify-content: center; align-items: center;cursor: pointer;">
                <div class="app-container"
                style='width: 8rem;height: 8rem;padding: 1rem;display: flex;justify-content: center;align-items: center;{% if app_template == "template4" and widgets_template_value == "CircleApp" %}background:var(--primary-color);border-radius: 50%;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);color:#fff;{% endif %}'>
                  <i class="app-icon fas fa-plus" style='{% if app_template == "template5"%}color:var(--primary-color);{% endif %}font-size: 6rem; margin: 0 auto; display: block;'></i>
                </div>
                <div class="app-name" style="font-size: 1rem; margin-top: 1%; text-align: center; color:var(--font-color);">
                  Create New App
                </div>
              </div>
            {% endif %}
          {% endif %}

          {% if allow_dashboard_portal == "True" %}
            {% if dashboard_display_config.show_dashboard == 'true' and dashboard_display_config.display_position == "dashboard_app" %}
              <div class="app-card fixedItem template4container" id="dashboardAppWrapper" data-desc='{{dashboard_card_ui.sys_app_desc}}' name="Revolutio 2">
                  <div class="app-container"  onclick="openSystemApp('dashboard')" style='width: 8rem;height: 8rem;padding: 1rem;display: flex;justify-content: center;align-items: center;{% if app_template == "template4" and widgets_template_value == "CircleApp" %}background:var(--primary-color);border-radius: 50%;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);color:#fff{% endif %}'>
                    {% if dashboard_card_ui.sys_appicon|length %}
                    <i class="{{dashboard_card_ui.sys_appicon}} app-icon"></i>
                    {% else %}
                    <i class="app-icon fas fa-chart-bar" ></i>
                    {% endif %}
                  </div>
                  <div class="app-name" style="font-size: 1rem; margin-top: 1%; text-align: center; display: flex; align-items: center;">
                    <span class="span-app-name"  onclick="openSystemApp('dashboard')">
                      {% if dashboard_card_ui.sys_app_name|length %}
                        {{dashboard_card_ui.sys_app_name}}
                      {% else %}
                        Dashboard
                      {% endif %}
                    </span>
                    <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
                      <i class="apps_options fa-solid fa-ellipsis mx-2" data-toggle="dropdown" style="color:{{dashboard_card_ui.sys_appicon_color}}"></i>
                      <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown" >
                        {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                        {% if system_dev_mode == 'Edit + Build'%}
                        <a href="#" class="dropdown-item edit-app" id="edit-app" onclick='edit_sys_app("dashboardAppWrapper")'>
                          <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit Application</span>
                        </a>
                        {% endif %}
                      {% endif %}
                      </div>
                    </div>
                  </div>
              </div>
            {% endif %}
          {% endif %}
          {% if planner_display_config.show_planner == 'true' and planner_display_config.display_position == "planner_app" %}
            <div class="app-card fixedItem template4container" id="plannerAppWrapper" data-desc='{{planner_card_ui.sys_app_desc}}' name="Revolutio 2">
                <div class="app-container"  onclick="openSystemApp('planner')" style='width: 8rem;height: 8rem;padding: 1rem;display: flex;justify-content: center;align-items: center;{% if app_template == "template4" and widgets_template_value == "CircleApp" %}background:var(--primary-color);border-radius: 50%;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);color:#fff{% endif %}'>
                  {% if planner_card_ui.sys_appicon|length %}
                  <i class="{{planner_card_ui.sys_appicon}} app-icon"></i>
                  {% else %}
                  <i class="app-icon fas fa-calendar-alt"></i>
                  {% endif %}
                </div>
                <div class="app-name" style="font-size: 1rem; margin-top: 1%; text-align: center; display: flex; align-items: center;">
                  <span class="span-app-name"  onclick="openSystemApp('planner')">
                    {% if planner_card_ui.sys_app_name|length %}
                      {{planner_card_ui.sys_app_name}}
                    {% else %}
                      Planner
                    {% endif %}
                  </span>
                  <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
                    <i class="apps_options fa-solid fa-ellipsis mx-2" data-toggle="dropdown" style="color:{{planner_card_ui.sys_appicon_color}}"></i>
                    <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown" >
                      {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                      {% if system_dev_mode == 'Edit + Build'%}
                      <a href="#" class="dropdown-item edit-app" id="edit-app" onclick='edit_sys_app("plannerAppWrapper")'>
                        <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit Application</span>
                      </a>
                      {% endif %}
                    {% endif %}
                    </div>
                  </div>
                </div>
            </div>
          {% endif %}

          {% if applications_order %}
          {% for appCode in applications_order %}
          {% for i in applications %}
          {% if appCode == i.application_code %}
          <div class="sortableItem app-card" appCode="{{i.application_code}}" data-info="{{i.application_name}} {{i.description}}"
            style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
            <div class="app-container" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')"
              style='width: 8rem;height: 8rem;padding: 1rem;display: flex;justify-content: center;align-items: center;{% if app_template == "template4" and widgets_template_value == "CircleApp" %}background:{{i.app_card_color}};border-radius: 50%;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);{% endif %}'>
              <i class="app-icon {{i.app_icon}}"
                style="font-size: 5rem; color:{{i.app_icon_color}}; margin: 0 auto; display: block;"></i>
            </div>
            <div class="app-name"
              style="font-size: 1rem; margin-top: 1%; text-align: center; color:{{i.app_text_color}};display: flex; align-items: center;">
              <span>{{i.application_name}}</span>
              <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
                <i class="apps_options fa-solid fa-ellipsis mx-2" data-toggle="dropdown" style="color:{{i.app_text_color}}"></i>
                <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown">

                  <a href="#" class="dropdown-item selectAppCard" data-app_name="{{i.application_name}}"
                    data-app_code="{{i.application_code}}">
                    <i class="fas fa-user mr-2"></i> Login as User
                  </a>
                  {% if i.application_code in hidden_apps %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                    data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="fa-solid fa-eye mr-2"></i>
                    <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}" style="all:unset;"
                      data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                      onclick="hideUnhideApps(event,this)">UnHide</button>
                  </a>
                  {% else %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                    data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="fa-solid fa-eye-slash mr-2"></i>
                    <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"
                      data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                      onclick="hideUnhideApps(event,this)" style="all:unset;">Hide</button>
                  </a>
                  {% endif %}
                  {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                  {% for dev_app in dev_applications %}
                  {% if i.application_code == dev_app.application_code %}
                  {% if developer_mode and developer_mode == "True" %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                    data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="fas fa-tools mr-2"></i>Developer mode ({{system_dev_mode}})
                  </a>
                  {% endif %}
                  {% if system_dev_mode == 'Edit + Build' and developer_mode == "True"%}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item edit-app" id="edit-app" data-app_code="{{i.application_code}}"
                    data-app_name="{{i.application_name}}"
                    onclick='edit_app("{{i.application_name}}","{{i.application_code}}","{{i.app_card_color}}","{{i.app_icon_color}}","{{i.app_icon}}","{{i.app_text_color}}","{{i.description}}","{{i.app_text_description_color}}","")'>
                    <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit
                      Application</span>
                  </a>
                  {% endif %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="update_app dropdown-item" data-app_code="{{i.application_code}}"
                      data-app_name="{{i.application_name}}">
                      <i class="fa fa-refresh mr-2" data-toggle="tooltip"></i><span
                          style="font-weight: normal;">Update
                          Application</span>
                  </a>
                  {% if developer_mode and developer_mode == "True" %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="delete_app dropdown-item" data-app_code="{{i.application_code}}"
                    data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Delete
                      Application</span>
                  </a>
                  {% endif %}
                  {% endif %}

                  {% endfor %}

                  {% endif %}
                </div>
              </div>
            </div>
          </div>
          {% endif %}
          {% endfor %}
          {% for i in external_apps %}
          {% if appCode == i.hyperlink_code %}
          <div class="sortableItem app-card" appCode="{{i.hyperlink_code}}" data-info="{{i.hyperlink_name}} {{i.hyperlink_desc}}"
            style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
            <div class="app-container"
              style='width: 8rem;height: 8rem;padding: 1rem;display: flex;justify-content: center;align-items: center;{% if app_template == "template4" and widgets_template_value == "CircleApp" %}background:{{i.hyperlink_card_color}};border-radius: 50%;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);{% endif %}'>
              <i class="app-icon {{i.hyperlink_icon}}"
                style="font-size: 5rem; color:{{i.hyperlink_icon_color}}; margin: 0 auto; display: block;"></i>
            </div>
            <div class="app-name"
              style="font-size: 1rem; margin-top: 1%; text-align: center; color:{{i.hyperlink_text_color}};display: flex; align-items: center;">
              <span>{{i.hyperlink_name}}</span>
              <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
                <i class="apps_options fa-solid fa-ellipsis mx-2" data-toggle="dropdown"
                  style="color:{{i.hyperlink_text_color}} ;"></i>
                <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown">
                  <div class="d-flex flex-column">
                    {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                    {% if system_dev_mode == 'Edit + Build'%}
                    <a onclick='edit_app("{{i.hyperlink_name}}","{{i.hyperlink_code}}", "{{i.hyperlink_card_color}}","{{i.hyperlink_icon_color}}","{{i.hyperlink_icon}}","{{i.hyperlink_text_color}}","{{i.hyperlink_desc}}","{{i.hyperlink_description_text_color}}","","{{i.hyperlink_url}}")'
                      id="edit-app" class="dropdown-item ">
                      <i class="fas fa-edit edit-app mr-2" style="margin-bottom: 6px; cursor:pointer"></i>
                      <span style="font-weight: normal;">Edit Application</span>
                    </a>
                    <div class="dropdown-divider"></div>
                    <a onclick="delete_link(this)" class="dropdown-item " data-app_code="{{i.hyperlink_code}}"
                      data-app_name="{{i.hyperlink_name}}" data-system_dev_mode="{{system_dev_mode}}">
                      <i class="far fa-trash-alt mr-2" style="margin-bottom: 6px; cursor:pointer"></i>
                      <span style="font-weight: normal;">Delete Application</span>
                    </a>
                    {% endif %}
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% endif %}
          {% endfor %}
          {% endfor %}
          {% endif %}

          {% for i in applications %}
          {% if i.application_code not in applications_order %}
          <div class="sortableItem app-card" appCode="{{i.application_code}}" data-info="{{i.application_name}} {{i.description}}"
            style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
            <div class="app-container" onclick="mode_option({{is_user_superuser}},{{is_user_dev}},'{{system_dev_mode}}','{{i.application_name}}','{{i.application_code}}')"
              style='width: 8rem;height: 8rem;padding: 1rem;display: flex;justify-content: center;align-items: center;{% if app_template == "template4" and widgets_template_value == "CircleApp" %}background:{{i.app_card_color}};border-radius: 50%;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);{% endif %}'>
              <i class="app-icon {{i.app_icon}}"
                style="font-size: 5rem; color:{{i.app_icon_color}}; margin: 0 auto; display: block;"></i>
            </div>
            <div class="app-name"
              style="font-size: 1rem; margin-top: 1%; text-align: center; color:{{i.app_text_color}};display: flex; align-items: center;">
              <span>{{i.application_name}}</span>
              <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
                <i class="apps_options fa-solid fa-ellipsis mx-2" data-toggle="dropdown" style="color:{{i.app_text_color}}"></i>
                <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown">

                  <a href="#" class="dropdown-item selectAppCard" data-app_name="{{i.application_name}}"
                    data-app_code="{{i.application_code}}">
                    <i class="fas fa-user mr-2"></i> Login as User
                  </a>
                  {% if i.application_code in hidden_apps %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                    data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="fa-solid fa-eye mr-2"></i>
                    <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}" style="all:unset;"
                      data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                      onclick="hideUnhideApps(event,this)">UnHide</button>
                  </a>
                  {% else %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                    data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="fa-solid fa-eye-slash mr-2"></i>
                    <button id="hideApps" class="hideApps" data-app_code="{{i.application_code}}"
                      data-hidden="{% if i.application_code in hidden_apps %}True{% else %}False{% endif %}"
                      onclick="hideUnhideApps(event,this)" style="all:unset;">Hide</button>
                  </a>
                  {% endif %}
                  {% if is_user_dev == 'true' or is_user_superuser == 'true' %}
                  {% for dev_app in dev_applications %}
                  {% if i.application_code == dev_app.application_code %}
                  {% if developer_mode and developer_mode == "True" %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item devMode" data-app_code="{{i.application_code}}"
                    data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="fas fa-tools mr-2"></i>Developer mode ({{system_dev_mode}})
                  </a>
                  {% endif %}
                  {% if system_dev_mode == 'Edit + Build' and developer_mode == "True"%}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="dropdown-item edit-app" id="edit-app" data-app_code="{{i.application_code}}"
                    data-app_name="{{i.application_name}}"
                    onclick='edit_app("{{i.application_name}}","{{i.application_code}}","{{i.app_card_color}}","{{i.app_icon_color}}","{{i.app_icon}}","{{i.app_text_color}}","{{i.description}}","{{i.app_text_description_color}}","")'>
                    <i class="fas fa-edit mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Edit
                      Application</span>
                  </a>
                  {% endif %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="update_app dropdown-item" data-app_code="{{i.application_code}}"
                      data-app_name="{{i.application_name}}">
                      <i class="fa fa-refresh mr-2" data-toggle="tooltip"></i><span
                          style="font-weight: normal;">Update
                          Application</span>
                  </a>
                  {% if developer_mode and developer_mode == "True" %}
                  <div class="dropdown-divider"></div>
                  <a href="#" class="delete_app dropdown-item" data-app_code="{{i.application_code}}"
                    data-app_name="{{i.application_name}}" data-system_dev_mode="{{system_dev_mode}}">
                    <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span style="font-weight: normal;">Delete
                      Application</span>
                  </a>
                  {% endif %}
                  {% endif %}

                  {% endfor %}

                  {% endif %}
                </div>
              </div>
            </div>
          </div>
          {% endif %}
          {% endfor %}

          {% for i in external_apps %}
          {% if i.hyperlink_code not in applications_order %}
          <div class="sortableItem app-card" appCode="{{i.hyperlink_code}}" data-info="{{i.hyperlink_name}} {{i.hyperlink_desc}}"
            style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
            <div class="app-container"
              style='width: 8rem;height: 8rem;padding: 1rem;display: flex;justify-content: center;align-items: center;{% if app_template == "template4" and widgets_template_value == "CircleApp" %}background:{{i.hyperlink_card_color}};border-radius: 50%;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);{% endif %}'>
              <i class="app-icon {{i.hyperlink_icon}}"
                style="font-size: 5rem; color:{{i.hyperlink_icon_color}}; margin: 0 auto; display: block;"></i>
            </div>
            <div class="app-name"
              style="font-size: 1rem; margin-top: 1%; text-align: center; color:{{i.hyperlink_text_color}};display: flex; align-items: center;">
              <span>{{i.hyperlink_name}}</span>
              <div class=" d-flex align-items-center justify-content-end" style="height: 1em;">
                <i class="apps_options fa-solid fa-ellipsis mx-2" data-toggle="dropdown"
                  style="color:{{i.hyperlink_text_color}} ;"></i>
                <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right dev-options-dropdown">
                  <div class="d-flex flex-column">
                    {% if is_user_dev == 'true' or is_user_superuser == 'true'%}
                    {% if system_dev_mode == 'Edit + Build'%}
                    <a onclick='edit_app("{{i.hyperlink_name}}","{{i.hyperlink_code}}", "{{i.hyperlink_card_color}}","{{i.hyperlink_icon_color}}","{{i.hyperlink_icon}}","{{i.hyperlink_text_color}}","{{i.hyperlink_desc}}","{{i.hyperlink_description_text_color}}","","{{i.hyperlink_url}}")'
                      id="edit-app" class="dropdown-item ">
                      <i class="fas fa-edit edit-app mr-2" style="margin-bottom: 6px; cursor:pointer"></i>
                      <span style="font-weight: normal;">Edit Application</span>
                    </a>
                    <div class="dropdown-divider"></div>
                    <a onclick="delete_link(this)" class="dropdown-item " data-app_code="{{i.hyperlink_code}}"
                      data-app_name="{{i.hyperlink_name}}" data-system_dev_mode="{{system_dev_mode}}">
                      <i class="far fa-trash-alt mr-2" style="margin-bottom: 6px; cursor:pointer"></i>
                      <span style="font-weight: normal;">Delete Application</span>
                    </a>
                    {% endif %}
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% endif %}
          {% endfor %}

        </div>
        {% endif %}
      {% endif %}

    </div>

  </div>
</section>

<!-- Modal0 -->
<div class="modal fade" id="createNew" tabindex="-1" role="dialog" aria-labelledby="createNew" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">I want to..</h4>
        <button type="button" class="btn buttonfooter "
          data-dismiss="modal" aria-label="Close" id="closeCreateOptions" >
          <i class="fa-solid fa-arrow-left-long"></i> Go back
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6 col-lg-6 col-sm-12">
            <div class="create-options" data-toggle="modal" data-target="#createNewApp" data-backdrop="static" data-keyboard="false"
              style="cursor: pointer;">
              <span class="modal-box-icon " ><i class="fas fa-plus mr-2"></i> </span>
              <div class="newapp_modalspan">
                <span class="info-box-text" style="font-weight: bold;">Create a New App</span>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-6 col-sm-12">
            <div class="create-options create_new_hyperlink_modal" style="cursor: pointer;" data-toggle="modal" data-target="#newHyperlinkdetails" aria-expanded="false" aria-controls="app_create_excel"
            data-backdrop="static" data-keyboard="false">
              <span class="modal-box-icon "><i class="fa fa-link mr-2"></i></span>
              <div class="c">
                <span class="info-box-text" style="font-weight: bold;">Create a new Hyperlink</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
      </div>
    </div>
  </div>
</div>

<!-- Modal1 -->
<div class="modal fade" id="createNewApp" tabindex="-1" role="dialog" aria-labelledby="createNewApp" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">I want to..</h4>
        <button type="button" class="btn buttonfooter "
          data-dismiss="modal" aria-label="Close" id="closeCreateOptions">
          <i class="fa-solid fa-arrow-left-long"></i> Go back
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-3 col-lg-3 col-sm-12">
            <div class="create-options create_new_application_modal" data-toggle="modal" data-target="#newAppdetails" data-backdrop="static" data-keyboard="false"
              style="cursor: pointer;">
              <span class="modal-box-icon " ><i class="fas fa-plus mr-2"></i> </span>
              <div class="newapp_modalspan">
                <span class="info-box-text" style="font-weight: bold;">Create a New App</span>
              </div>
            </div>
            <p class="create-options-p">Build and design a new application from scratch </p>
          </div>
          <div class="col-md-3 col-lg-3 col-sm-12">
            <div class="create-options create_template_application_modal" style="cursor: pointer;" data-toggle="modal" data-target="#app_create_excel" aria-expanded="false" aria-controls="app_create_excel"
            data-backdrop="static" data-keyboard="false">
              <span class="modal-box-icon "><i class="fa-regular fa-pen-to-square mr-2"></i></span>
              <div class="newapp_modalspan">
                <span class="info-box-text" style="font-weight: bold;">Create App from template</span>
              </div>
            </div>
            <p class="create-options-p">Build and customize your application from our list of templates</p>
          </div>
          <div class="col-md-3 col-lg-3 col-sm-12">
            <div class="create-options load_existing_application_modal" style="cursor: pointer;"  data-toggle="modal" data-target="#backup" aria-expanded="false" aria-controls="backup"
            data-backdrop="static" data-keyboard="false">
              <span class="modal-box-icon " ><i class="fa-solid fa-cloud-arrow-up mr-2"></i> </span>
              <div class="newapp_modalspan">
                <span class="info-box-text" style="font-weight: bold;">Load App from Backup</span>
              </div>
            </div>
            <p class="create-options-p">Re-load an existing application already built by you</p>
          </div>
          <div class="col-md-3 col-lg-3 col-sm-12">
            <div class="create-options clone_application_modal" style="cursor: pointer;" id="cloneApp" data-toggle="modal" data-target="#cloneAppModal1" aria-expanded="false" aria-controls="cloneAppModal1"
            data-backdrop="static" data-keyboard="false">
              <span class="modal-box-icon "><i class="fa-solid fa-copy mr-2"></i> </span>
              <div class="newapp_modalspan">
                <span class="info-box-text" style="font-weight: bold;">Clone App</span>
              </div>
            </div>
            <p class="create-options-p">Create a duplicate version of an existing app </p>
          </div>
        </div>
      </div>
      <div class="modal-footer">
      </div>
    </div>
  </div>
</div>

<!-- Modal2 for deafult -->
{% if app_template == "default" or  app_template == null or app_template == ""%}
<div class="modal fade" id="newAppdetails" tabindex="-1" role="dialog" aria-labelledby="newAppdetails"
  aria-hidden="true" style="overflow-y: auto;padding-right:unset">
  <div class="modal-dialog modal lg modal-dialog-centered" role="document" style="max-width: 835px;">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">Create your new App</h4>
      </div>
      <div class="modal-body">
        <div class="form-row" id="appCreationContainer">
          <div id="div_id_application_name" class="form-group-flex col-md-12">
            <label for="applicationName" class=" requiredField" style="width:30%">
              Application Name<span class="asteriskField">*</span>
            </label>
            <div class="input-span-group">
              <div class="input-i-group">
                <input name="app_name" maxlength="24" placeholder="Name of your Application"
                  maxlength="264" style="width:100%;" class="app-detail-input" required id="applicationName">
                <span class="remaining-count remaining-count-name">0/24</span>
                <i class="fa-solid fa-check sys_app_tick" id="check-tick"></i>
              </div>
              <span id="alertSpanApp">Application with the same name already exists!
                Please create a new one.</span>
            </div>
          </div>
          <div id="div_id_application_desc" class="form-group-flex col-md-12">
            <label for="applicationDesc" style="width:30%">Description<span class="asteriskField">*</span></label>
            <div class="input-i-group">
              <input name="applicationDesc" maxlength="45" placeholder="What is this Application for?"
                style="width:100%" class="app-detail-input" required maxlength="264" id="applicationDesc">
              <span class="remaining-count remaining-count-desc">0/45</span>
              <i class="fa-solid fa-check sys_app_tick" id="check-tick"></i>
            </div>
          </div>
          <div class="app_config_previewdiv col-md-12">
            <div class="row">
              <div class="config_app col-md-6 col-sm-12" style="padding-right: 2.5px;padding-left: 4.5px;">
                <div id="div_id_application_design" class="form-group-expand-flex col-md-12">
                  <label for="applicationDesign" class=" requiredField" style="width:47%">
                    App Design<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group">
                    <button name="applicationDesign" class="fuller-button"  required
                      id="applicationDesign" data-toggle="modal" data-target="#AppDesignModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check sys_app_tick" id="check-tick"></i>
                  </div>
                </div>
                <div id="div_id_application_database" class="form-group-expand-flex col-md-12">
                  <label for="applicationDatabase" class=" requiredField" style="width:47%">
                    App Database<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group">
                    <button name="applicationDatabase" class="fuller-button" required
                      id="applicationDatabase" data-toggle="modal" data-target="#AppDatabaseModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>
              </div>
              <div class="app_preview_div col-md-5 col-sm-5">
                <h6 style="color: grey;font-size: 14px;text-align: center;">Preview of your App</h6>
                  <div class="app_preview" style="margin: 10px 8px;">
                    <div class="name_app_preview info-box">
                      <span class="info-box-icon"><i class="fas fa-laptop-code" id="app_preview_icon"></i></span>
                      <h5 style="margin-top: 19px; margin: auto 5px" id="preview_app_name">Name</h5>
                    </div>
                    <div class="desc_app_preview" style="padding: 10px 15px;background: white;">
                      <span class="info-box-text">Description</span>
                    </div>
                    <div class="more-options">
                      <span title="Developer mode options" style="cursor: pointer;"><i
                          class="fas fa-edit edit-app"></i></span>
                      <i class="fas fa-right-to-bracket ml-2 mr-1"  style="margin-top: 4px; cursor:pointer"></i>
                    </div>
                  </div>
              </div>
            </div>
          </div>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter" id="cancel_appDetails" data-dismiss="modal">Cancel<i class="fas fa-times pl-2"></i></button>
        <button type="button" class="btn buttonfooter" id="saveNewApplication" disabled>Save <i class="fa-solid fa-floppy-disk pl-2"></i></button>
      </div>
    </div>
  </div>
</div>
<!-- Default Hyperlink modal -->
<div class="modal fade" id="newHyperlinkdetails" tabindex="-1" role="dialog" aria-labelledby="newHyperlinkdetails"
  aria-hidden="true" style="overflow-y: auto;">
  <div class="modal-dialog modal lg modal-dialog-centered" role="document" style="max-width: 835px;">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">Create your new Hyperlink</h4>
      </div>
      <div class="modal-body">
        <div class="form-row">
          <div id="div_id_hyperlink_name" class="form-group-flex col-md-12">
            <label for="hyperlinkName" class=" requiredField" style="width:30%">
              Hyperlink Name<span class="asteriskField">*</span>
            </label>
            <div class="input-span-group">
              <div class="input-i-group">
                <input name="hyperlink_name" maxlength="24" placeholder="Name of your Hyperlink"
                  maxlength="264" style="width:100%;" class="app-detail-input" required id="hyperlinkName">
                <span class="remaining-count remaining-count-linkname">0/24</span>
                <i class="fa-solid fa-check" id="check-tick"></i>
              </div>
              <span id="alertSpanLink">Hyperlink with the same name already exists!
                Please create a new one.</span>
            </div>
          </div>
          <div id="div_id_hyperlink_url" class="form-group-flex col-md-12">
            <label for="hyperlinkUrl" class=" requiredField" style="width:30%">
              URL<span class="asteriskField">*</span>
            </label>
            <div class="input-span-group">
              <div class="input-i-group">
                <input type="url" name="hyperlink_url" placeholder="https://example.com"
                 style="width:95.5%;" class="app-detail-input" required id="hyperlinkUrl">
                 <i class="fa-solid fa-check" id="check-tick"></i>
              </div>
            </div>
          </div>
          <div id="div_id_hyperlink_desc" class="form-group-flex col-md-12">
            <label for="hyperlinkDesc" style="width:30%">Description<span class="asteriskField">*</span></label>
            <div class="input-i-group">
              <input name="hyperlinkDesc" maxlength="45" placeholder="What is this Hyperlink for?"
                style="width:100%" class="app-detail-input" required maxlength="264" id="hyperlinkDesc">
              <span class="remaining-count remaining-count-linkdesc">0/45</span>
              <i class="fa-solid fa-check" id="check-tick"></i>
            </div>
          </div>
          <div class="app_config_previewdiv col-md-12">
            <div class="row">
              <div class="config_app col-md-6 col-sm-12" style="padding-right: 2.5px;padding-left: 4.5px;">
                <div id="div_id_hyperlink_design" class="form-group-expand-flex col-md-12">
                  <label for="hyperlinkDesign" class=" requiredField" style="width:47%">
                    Design<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group">
                    <button name="hyperlinkDesign" class="fuller-button"  required
                      id="hyperlinkDesign" data-toggle="modal" data-target="#AppDesignModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>
                <div id="div_id_hyperlink_database" class="form-group-expand-flex col-md-12">
                  <label for="hyperlinkDatabase" class=" requiredField" style="width:47%">
                    App Database<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group">
                    <button name="hyperlinkDatabase" class="fuller-button" required
                      id="hyperlinkDatabase" data-toggle="modal" data-target="#AppDatabaseModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>
              </div>
              <div class="app_preview_div col-md-5 col-sm-5">
                <h6 style="color: grey;font-size: 14px;text-align: center;">Preview</h6>
                <div class="app_preview" style="margin: 10px 8px;">
                  <div class="name_app_preview info-box">
                    <span class="info-box-icon"><i class="fas fa-link" id="link_preview_icon"></i></span>
                    <h5 style="margin-top: 19px; margin: auto 5px" id="preview_app_name">Name</h5>
                  </div>
                  <div class="desc_app_preview" style="padding: 10px 15px;background: white;">
                    <span class="info-box-text">Description</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter"  id="cancel_appDetails" data-dismiss="modal">Cancel<i class="fas fa-times pl-2"></i></button>
        <button type="button" class="btn buttonfooter"  id="saveNewHyperlink" disabled>Save <i class="fa-solid fa-floppy-disk pl-2"></i></button>
      </div>
    </div>
  </div>
</div>
<!-- Modal2 for template2 -->
{% elif app_template == "template2"%}
<div class="modal fade" id="newAppdetails" tabindex="-1" role="dialog" aria-labelledby="newAppdetails"
  aria-hidden="true" style="overflow-y: auto;">
  <div class="modal-dialog modal lg modal-dialog-centered" role="document" style="max-width: 50%;">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">Create your new App</h4>
      </div>
      <div class="modal-body">
        <div class="form-row" id="appCreationContainer">
          <div id="div_id_application_name" class="form-group-flex col-md-12">
            <label for="applicationName" class=" requiredField" style="width:30%">
              Application Name<span class="asteriskField">*</span>
            </label>
            <div class="input-span-group">
              <div class="input-i-group">
                <input name="process_name" maxlength="24" placeholder="Name of your Application"
                  maxlength="264" style="width:100%;" class="app-detail-input" required id="applicationName">
                <span class="remaining-count remaining-count-name">0/24</span>
                <i class="fa-solid fa-check" id="check-tick"></i>
              </div>
              <span id="alertSpanApp">Application with the same name already exists!
                Please create a new one.</span>
            </div>
          </div>
          <div id="div_id_application_desc" class="form-group-flex col-md-12">
            <label for="applicationDesc" style="width:30%">App Description<span class="asteriskField">*</span></label>
            <div class="input-i-group">
              <input name="applicationDesc" maxlength="45" placeholder="What is this Application for?"
                style="width:100%" class="app-detail-input" required maxlength="264" id="applicationDesc">
              <span class="remaining-count remaining-count-desc">0/45</span>
              <i class="fa-solid fa-check" id="check-tick"></i>
            </div>
          </div>
          <div class="app_config_previewdiv col-md-12">
            <div class="row">
              <div class="config_app col-md-6 col-sm-12" style="padding-right: 2.5px;padding-left: 4.5px;">
                <div id="div_id_application_design" class="form-group-expand-flex col-md-12">
                  <label for="applicationDesign" class=" requiredField" style="width:47%">
                    App Design<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group">
                    <button name="applicationDesign" class="fuller-button"  required
                      id="applicationDesign" data-toggle="modal" data-target="#AppDesignModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>
                <div id="div_id_application_database" class="form-group-expand-flex col-md-12">
                  <label for="applicationDatabase" class=" requiredField" style="width:47%">
                    App Database<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group">
                    <button name="applicationDatabase" class="fuller-button" required
                      id="applicationDatabase" data-toggle="modal" data-target="#AppDatabaseModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>
              </div>
              <div class="app_preview_div col-md-6 col-sm-5 p-0 m-0" >
                <h6 style="color:grey;font-size:14px;text-align:center;margin-top: 0.50rem;">Preview of your App</h6>
                <div class="app_workspace app_preview template2_preview" style="height:unset;">
                  <div class="app-header name_app_preview row" style="background: unset;">
                    <div class="app_header_image col-2 d-flex align-items-center justify-content-center">
                      <span class="info-box-icon d-flex align-items-center justify-content-center" style="border: 1px solid #d1d1d1;padding: 5px;border-radius: 3px;">
                        <i class="fas fa-laptop-code t2appIcon" id="app_preview_icon"></i>
                      </span>
                    </div>
                    <div class="col-7 d-flex align-items-center">
                      <h5 class="app-header-text t2appname">App Name</h5>
                    </div>
                    <div class="col-2 d-flex align-items-center justify-content-center">
                      <i class="apps_options1 fa-solid fa-ellipsis" data-toggle="dropdown"></i>
                    </div>
                  </div>
                  <div class="app-description desc_app_preview t2appDescription" style="margin-left: 20px;">
                    <span class="info-box-text">App description</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter" id="cancel_appDetails" data-dismiss="modal">Cancel<i class="fas fa-times pl-2"></i></button>
        <button type="button" class="btn buttonfooter" id="saveNewApplication" disabled>Save <i class="fa-solid fa-floppy-disk pl-2"></i></button>
      </div>
    </div>
  </div>
</div>
<!--template 2 Hyperlink modal -->
<div class="modal fade" id="newHyperlinkdetails" tabindex="-1" role="dialog" aria-labelledby="newHyperlinkdetails"
  aria-hidden="true" style="overflow-y: auto;">
  <div class="modal-dialog modal lg modal-dialog-centered" role="document" style="max-width: 835px;">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">Create your new Hyperlink</h4>
      </div>
      <div class="modal-body">
        <div class="form-row">
          <div id="div_id_hyperlink_name" class="form-group-flex col-md-12">
            <label for="hyperlinkName" class=" requiredField" style="width:30%">
              Hyperlink Name<span class="asteriskField">*</span>
            </label>
            <div class="input-span-group">
              <div class="input-i-group">
                <input name="hyperlink_name" maxlength="24" placeholder="Name of your Hyperlink"
                  maxlength="264" style="width:100%;" class="app-detail-input" required id="hyperlinkName">
                <span class="remaining-count remaining-count-linkname">0/24</span>
                <i class="fa-solid fa-check" id="check-tick"></i>
              </div>
              <span id="alertSpanLink">Hyperlink with the same name already exists!
                Please create a new one.</span>
            </div>
          </div>
          <div id="div_id_hyperlink_url" class="form-group-flex col-md-12">
            <label for="hyperlinkUrl" class=" requiredField" style="width:30%">
              URL<span class="asteriskField">*</span>
            </label>
            <div class="input-span-group">
              <div class="input-i-group">
                <input name="hyperlink_url" placeholder="Enter the URL"
                 style="width:95.5%;" class="app-detail-input" required id="hyperlinkUrl">
              </div>
            </div>
          </div>
          <div id="div_id_hyperlink_desc" class="form-group-flex col-md-12">
            <label for="hyperlinkDesc" style="width:30%">Description<span class="asteriskField">*</span></label>
            <div class="input-i-group">
              <input name="hyperlinkDesc" maxlength="45" placeholder="What is this Hyperlink for?"
                style="width:100%" class="app-detail-input" required maxlength="264" id="hyperlinkDesc">
              <span class="remaining-count remaining-count-linkdesc">0/45</span>
              <i class="fa-solid fa-check" id="check-tick"></i>
            </div>
          </div>
          <div class="app_config_previewdiv col-md-12">
            <div class="row">
              <div class="config_app col-md-6 col-sm-12" style="padding-right: 2.5px;padding-left: 4.5px;">
                <div id="div_id_hyperlink_design" class="form-group-expand-flex col-md-12">
                  <label for="hyperlinkDesign" class=" requiredField" style="width:47%">
                    Design<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group">
                    <button name="hyperlinkDesign" class="fuller-button"  required
                      id="hyperlinkDesign" data-toggle="modal" data-target="#AppDesignModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>
                <div id="div_id_hyperlink_database" class="form-group-expand-flex col-md-12">
                  <label for="hyperlinkDatabase" class=" requiredField" style="width:47%">
                    App Database<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group">
                    <button name="hyperlinkDatabase" class="fuller-button" required
                      id="hyperlinkDatabase" data-toggle="modal" data-target="#AppDatabaseModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>
              </div>
              <div class="app_preview_div col-md-6 col-sm-5 p-0 m-0" >
                <h6 style="color:grey;font-size:14px;text-align:center;margin-top: 0.50rem;">Preview of your App</h6>
                <div class="app_workspace app_preview HLtemplate2_preview" style="height:unset;">
                  <div class="app-header name_app_preview row" style="background: unset;">
                    <div class="app_header_image col-2 d-flex align-items-center justify-content-center">
                      <span class="info-box-icon d-flex align-items-center justify-content-center" style="border: 1px solid #d1d1d1;padding: 5px;border-radius: 3px;">
                        <i class="fas fa-laptop-code" id="link_preview_icon"></i>
                      </span>
                    </div>
                    <div class="col-7 d-flex align-items-center">
                      <h5 class="app-header-text t2appname">App Name</h5>
                    </div>
                    <div class="col-2 d-flex align-items-center justify-content-center">
                      <i class="apps_options1 fa-solid fa-ellipsis" data-toggle="dropdown"></i>
                    </div>
                  </div>
                  <div class="app-description desc_app_preview HLt2appDescription" style="margin-left: 20px;">
                    <span class="info-box-text">App description</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter" id="cancel_appDetails" data-dismiss="modal">Cancel<i class="fas fa-times pl-2"></i></button>
        <button type="button" class="btn buttonfooter" id="saveNewHyperlink" disabled>Save <i class="fa-solid fa-floppy-disk pl-2"></i></button>
      </div>
    </div>
  </div>
</div>
{% elif app_template == "template3"%}
<div class="modal fade" id="newAppdetails" tabindex="-1" role="dialog" aria-labelledby="newAppdetails"
  aria-hidden="true" style="overflow-y: auto;">
  <div class="modal-dialog modal lg modal-dialog-centered" role="document" style="max-width: 50%;">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">Create your new App</h4>
      </div>
      <div class="modal-body">
        <div class="form-row" id="appCreationContainer">
          <div id="div_id_application_name" class="form-group-flex col-md-12">
            <label for="applicationName" class=" requiredField" style="width:30%">
              Application Name<span class="asteriskField">*</span>
            </label>
            <div class="input-span-group">
              <div class="input-i-group">
                <input name="process_name" maxlength="24" placeholder="Name of your Application"
                  maxlength="264" style="width:100%;" class="app-detail-input" required id="applicationName">
                <span class="remaining-count remaining-count-name">0/24</span>
                <i class="fa-solid fa-check" id="check-tick"></i>
              </div>
              <span id="alertSpanApp">Application with the same name already exists!
                Please create a new one.</span>
            </div>
          </div>
          <div id="div_id_application_desc" class="form-group-flex col-md-12">
            <label for="applicationDesc" style="width:30%">App Description<span class="asteriskField">*</span></label>
            <div class="input-i-group">
              <input name="applicationDesc" maxlength="45" placeholder="What is this Application for?"
                style="width:100%" class="app-detail-input" required maxlength="264" id="applicationDesc">
              <span class="remaining-count remaining-count-desc">0/45</span>
              <i class="fa-solid fa-check" id="check-tick"></i>
            </div>
          </div>
          <div class="app_config_previewdiv col-md-12">
            <div class="row">
              <div class="config_app col-md-5 col-sm-12" style="padding-right: 2.5px;padding-left: 4.5px;">
                <div id="div_id_application_design" class="form-group-expand-flex col-md-12">
                  <label for="applicationDesign" class=" requiredField" style="width:47%">
                    App Design<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group">
                    <button name="applicationDesign" class="fuller-button"  required
                      id="applicationDesign" data-toggle="modal" data-target="#AppDesignModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>
                <div id="div_id_application_database" class="form-group-expand-flex col-md-12">
                  <label for="applicationDatabase" class=" requiredField" style="width:47%">
                    App Database<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group">
                    <button name="applicationDatabase" class="fuller-button" required
                      id="applicationDatabase" data-toggle="modal" data-target="#AppDatabaseModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>
              </div>
              <div class="app_preview_div col-md-7 col-sm-5 d-flex justify-content-center flex-column align-items-center" >
                <h6 style="color: grey;font-size: 14px;text-align: center;">Preview of your App</h6>
                <div class="app_workspace app_preview template3_preview col-md-12" style="height: 9rem;">
                  <div class="d-flex align-items-center justify-content-end">
                    <i class="apps_options1 fa-solid fa-ellipsis" data-toggle="dropdown"></i>
                  </div>
                  <div class="app-header name_app_preview row" style="background: unset; height: unset;">
                    <div class="app_header_image col-12 d-flex align-items-center justify-content-center" style=" height: unset;">
                      <span class="info-box-icon d-flex align-items-center justify-content-center">
                        <i class="fas fa-laptop-code fa-4x" id="app_preview_icon" style="font-size: 4em !important;"></i>
                      </span>
                    </div>
                    <div class="col-md-12 appNameDiv" style="display: flex;justify-content: center;align-items: center;">
                      <h5 class="app-header-text t2appname" style="margin-bottom: 0;
                      margin-top: 0.50rem;">App Name</h5>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter" id="cancel_appDetails" data-dismiss="modal">Cancel<i class="fas fa-times pl-2"></i></button>
        <button type="button" class="btn buttonfooter" id="saveNewApplication" disabled>Save <i class="fa-solid fa-floppy-disk pl-2"></i></button>
      </div>
    </div>
  </div>
</div>
<!--template 3 Hyperlink modal -->
<div class="modal fade" id="newHyperlinkdetails" tabindex="-1" role="dialog" aria-labelledby="newHyperlinkdetails"
  aria-hidden="true" style="overflow-y: auto;">
  <div class="modal-dialog modal lg modal-dialog-centered" role="document" style="max-width: 835px;">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">Create your new Hyperlink</h4>
      </div>
      <div class="modal-body">
        <div class="form-row">
          <div id="div_id_hyperlink_name" class="form-group-flex col-md-12">
            <label for="hyperlinkName" class=" requiredField" style="width:30%">
              Hyperlink Name<span class="asteriskField">*</span>
            </label>
            <div class="input-span-group">
              <div class="input-i-group">
                <input name="hyperlink_name" maxlength="24" placeholder="Name of your Hyperlink"
                  maxlength="264" style="width:100%;" class="app-detail-input" required id="hyperlinkName">
                <span class="remaining-count remaining-count-linkname">0/24</span>
                <i class="fa-solid fa-check" id="check-tick"></i>
              </div>
              <span id="alertSpanLink">Hyperlink with the same name already exists!
                Please create a new one.</span>
            </div>
          </div>
          <div id="div_id_hyperlink_url" class="form-group-flex col-md-12">
            <label for="hyperlinkUrl" class=" requiredField" style="width:30%">
              URL<span class="asteriskField">*</span>
            </label>
            <div class="input-span-group">
              <div class="input-i-group">
                <input name="hyperlink_url" placeholder="Enter the URL"
                 style="width:95.5%;" class="app-detail-input" required id="hyperlinkUrl">
              </div>
            </div>
          </div>
          <div id="div_id_hyperlink_desc" class="form-group-flex col-md-12">
            <label for="hyperlinkDesc" style="width:30%">Description<span class="asteriskField">*</span></label>
            <div class="input-i-group">
              <input name="hyperlinkDesc" maxlength="45" placeholder="What is this Hyperlink for?"
                style="width:100%" class="app-detail-input" required maxlength="264" id="hyperlinkDesc">
              <span class="remaining-count remaining-count-linkdesc">0/45</span>
              <i class="fa-solid fa-check" id="check-tick"></i>
            </div>
          </div>
          <div class="app_config_previewdiv col-md-12">
            <div class="row">
              <div class="config_app col-md-6 col-sm-12" style="padding-right: 2.5px;padding-left: 4.5px;">
                <div id="div_id_hyperlink_design" class="form-group-expand-flex col-md-12">
                  <label for="hyperlinkDesign" class=" requiredField" style="width:47%">
                    Design<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group">
                    <button name="hyperlinkDesign" class="fuller-button"  required
                      id="hyperlinkDesign" data-toggle="modal" data-target="#AppDesignModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>
                <div id="div_id_hyperlink_database" class="form-group-expand-flex col-md-12">
                  <label for="hyperlinkDatabase" class=" requiredField" style="width:47%">
                    App Database<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group">
                    <button name="hyperlinkDatabase" class="fuller-button" required
                      id="hyperlinkDatabase" data-toggle="modal" data-target="#AppDatabaseModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>
              </div>
              <div class="app_preview_div col-md-6 col-sm-5 p-0 m-0" style="display: flex;justify-content: center;align-items: center;flex-direction: column;">
                <h6 style="color:grey;font-size:14px;text-align:center;margin-top: 0.50rem;">Preview of your App</h6>
                <div class="app_workspace app_preview template3_preview HLtemplate3_preview" style="height: unset;width:41%;display: flex;justify-content: center;align-items: center;flex-direction: column;">
                  <div class="d-flex align-items-center justify-content-end w-100 mb-2">
                    <i class="apps_options1 fa-solid fa-ellipsis" data-toggle="dropdown"></i>
                  </div>
                  <div class="app-header name_app_preview row w-100" style="background: unset;height: unset;flex-direction: column;">
                    <div class="app_header_image  d-flex align-items-center justify-content-center w-100 mb-2">
                      <span class="info-box-icon d-flex align-items-center justify-content-center w-100" style="padding: 5px;border-radius: 3px;">
                        <i class="fas fa-laptop-code" id="link_preview_icon" style="font-size: 2em;"></i>
                      </span>
                    </div>
                    <div class="appNameDiv w-100" style="display: flex;justify-content: center;align-items: center;">
                      <h5 class="app-header-text t2appname">App Name</h5>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter" id="cancel_appDetails" data-dismiss="modal">Cancel<i class="fas fa-times pl-2"></i></button>
        <button type="button" class="btn buttonfooter" id="saveNewHyperlink" disabled>Save <i class="fa-solid fa-floppy-disk pl-2"></i></button>
      </div>
    </div>
  </div>
</div>
{% elif app_template == "template4" or app_template == "template5"%}
<div class="modal fade" id="newAppdetails" tabindex="-1" role="dialog" aria-labelledby="newAppdetails"
  aria-hidden="true" style="overflow-y: auto;">
  <div class="modal-dialog modal lg modal-dialog-centered" role="document" style="max-width: 835px;">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">Create your new App</h4>
      </div>
      <div class="modal-body">
        <div class="form-row" id="appCreationContainer">
          <div id="div_id_application_name" class="form-group-flex col-md-12">
            <label for="applicationName" class=" requiredField" style="width:30%">
              Application Name<span class="asteriskField">*</span>
            </label>
            <div class="input-span-group">
              <div class="input-i-group">
                <input name="app_name" maxlength="24" placeholder="Name of your Application"
                  maxlength="264" style="width:100%;" class="app-detail-input" required id="applicationName">
                <span class="remaining-count remaining-count-name">0/24</span>
                <i class="fa-solid fa-check" id="check-tick"></i>
              </div>
              <span id="alertSpanApp">Application with the same name already exists!
                Please create a new one.</span>
            </div>
          </div>
          <div id="div_id_application_desc" class="form-group-flex col-md-12">
            <label for="applicationDesc" style="width:30%">Description<span class="asteriskField">*</span></label>
            <div class="input-i-group">
              <input name="applicationDesc" maxlength="45" placeholder="What is this Application for?"
                style="width:100%" class="app-detail-input" required maxlength="264" id="applicationDesc">
              <span class="remaining-count remaining-count-desc">0/45</span>
              <i class="fa-solid fa-check" id="check-tick"></i>
            </div>
          </div>
          <div class="app_config_previewdiv col-md-12">
            <div class="row">
              <div class="config_app col-md-6 col-sm-12" style="padding-right: 2.5px;padding-left: 4.5px;">
                <div id="div_id_application_design" class="form-group-expand-flex col-md-12">
                  <label for="applicationDesign" class=" requiredField" style="width:47%">
                    App Design<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group">
                    <button name="applicationDesign" class="fuller-button"  required
                      id="applicationDesign" data-toggle="modal" data-target="#AppDesignModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>
                <div id="div_id_application_database" class="form-group-expand-flex col-md-12">
                  <label for="applicationDatabase" class=" requiredField" style="width:47%">
                    App Database<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group">
                    <button name="applicationDatabase" class="fuller-button" required
                      id="applicationDatabase" data-toggle="modal" data-target="#AppDatabaseModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>
              </div>
              <div class="app_preview_div col-md-5 col-sm-5">
                <h6 style="color: grey;font-size: 14px;text-align: center;">Preview of your App</h6>
                <div class="app-card" style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
                  <div class="app-container template4_preview HLtemplate4_preview" {% if app_template == "template4" and widgets_template_value == "SuqareApp" %} style="text-align: center; width: 10rem; background:#f1f1f1; border-radius: 1rem; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); padding: 1rem;" {% elif app_template == "template4" and widgets_template_value == "CircleApp"%} style="background:#f1f1f1;width: 8rem;height: 8rem;border-radius: 50%;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);padding: 1rem;display: flex;justify-content: center;align-items: center;" {% elif app_template == "template5" %} style="width: 8rem;height: 8rem;padding: 1rem;display: flex;justify-content: center;align-items: center;" {% endif %}>
                    <i class="fas fa-laptop-code" id="template4_appIcon"
                      style="font-size: 5rem; color:#000000; margin: 0 auto; display: block;"></i>
                  </div>
                  <div class="app-name template4" style="font-size: 1rem; margin-top: 1%; text-align: center; color:#000000">
                    App Name</div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter"  id="cancel_appDetails" data-dismiss="modal">Cancel<i class="fas fa-times pl-2"></i></button>
        <button type="button" class="btn buttonfooter" id="saveNewApplication" disabled>Save <i class="fa-solid fa-floppy-disk pl-2"></i></button>
      </div>
    </div>
  </div>
</div>
<!--template 4 Hyperlink modal -->
<div class="modal fade" id="newHyperlinkdetails" tabindex="-1" role="dialog" aria-labelledby="newHyperlinkdetails"
  aria-hidden="true" style="overflow-y: auto;">
  <div class="modal-dialog modal lg modal-dialog-centered" role="document" style="max-width: 835px;">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">Create your new Hyperlink</h4>
      </div>
      <div class="modal-body">
        <div class="form-row">
          <div id="div_id_hyperlink_name" class="form-group-flex col-md-12">
            <label for="hyperlinkName" class=" requiredField" style="width:30%">
              Hyperlink Name<span class="asteriskField">*</span>
            </label>
            <div class="input-span-group">
              <div class="input-i-group">
                <input name="hyperlink_name" maxlength="24" placeholder="Name of your Hyperlink"
                  maxlength="264" style="width:100%;" class="app-detail-input" required id="hyperlinkName">
                <span class="remaining-count remaining-count-linkname">0/24</span>
                <i class="fa-solid fa-check" id="check-tick"></i>
              </div>
              <span id="alertSpanLink">Hyperlink with the same name already exists!
                Please create a new one.</span>
            </div>
          </div>
          <div id="div_id_hyperlink_url" class="form-group-flex col-md-12">
            <label for="hyperlinkUrl" class=" requiredField" style="width:30%">
              URL<span class="asteriskField">*</span>
            </label>
            <div class="input-span-group">
              <div class="input-i-group">
                <input type="url" name="hyperlink_url" placeholder="https://example.com"
                 style="width:95.5%;" class="app-detail-input" required id="hyperlinkUrl">
                 <i class="fa-solid fa-check" id="check-tick"></i>
              </div>
            </div>
          </div>
          <div id="div_id_hyperlink_desc" class="form-group-flex col-md-12">
            <label for="hyperlinkDesc" style="width:30%">Description<span class="asteriskField">*</span></label>
            <div class="input-i-group">
              <input name="hyperlinkDesc" maxlength="45" placeholder="What is this Hyperlink for?"
                style="width:100%" class="app-detail-input" required maxlength="264" id="hyperlinkDesc">
              <span class="remaining-count remaining-count-linkdesc">0/45</span>
              <i class="fa-solid fa-check" id="check-tick"></i>
            </div>
          </div>
          <div class="app_config_previewdiv col-md-12">
            <div class="row">
              <div class="config_app col-md-6 col-sm-12" style="padding-right: 2.5px;padding-left: 4.5px;">
                <div id="div_id_hyperlink_design" class="form-group-expand-flex col-md-12">
                  <label for="hyperlinkDesign" class=" requiredField" style="width:47%">
                    Design<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group">
                    <button name="hyperlinkDesign" class="fuller-button"  required
                      id="hyperlinkDesign" data-toggle="modal" data-target="#AppDesignModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>
                <div id="div_id_hyperlink_database" class="form-group-expand-flex col-md-12">
                  <label for="hyperlinkDatabase" class=" requiredField" style="width:47%">
                    App Database<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group">
                    <button name="hyperlinkDatabase" class="fuller-button" required
                      id="hyperlinkDatabase" data-toggle="modal" data-target="#AppDatabaseModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>
              </div>
              <div class="app_preview_div col-md-5 col-sm-5">
                <h6 style="color: grey;font-size: 14px;text-align: center;">Preview</h6>
                <div class="app-card" style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
                  <div class="app-container template4_preview HLtemplate4_preview"
                  {% if app_template == "template4" and widgets_template_value == "SuqareApp" %} style="text-align: center; width: 10rem; background:#f1f1f1; border-radius: 1rem; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); padding: 1rem;" {% elif app_template == "template4" and widgets_template_value == "CircleApp"%} style="background:#f1f1f1;width: 8rem;height: 8rem;border-radius: 50%;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);padding: 1rem;display: flex;justify-content: center;align-items: center;" {% elif app_template == "template5" %} style="width: 8rem;height: 8rem;padding: 1rem;display: flex;justify-content: center;align-items: center;"{% endif %}>
                    <i class="fas fa-laptop-code" id="linktemplate4_appIcon"
                      style="font-size: 5rem; color:#000000; margin: 0 auto; display: block;"></i>
                  </div>
                  <div class="app-name template4" style="font-size: 1rem; margin-top: 1%; text-align: center; color:#000000">
                    App Name</div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter"  id="cancel_appDetails" data-dismiss="modal">Cancel<i class="fas fa-times pl-2"></i></button>
        <button type="button" class="btn buttonfooter" id="saveNewHyperlink" disabled>Save <i class="fa-solid fa-floppy-disk pl-2"></i></button>
      </div>
    </div>
  </div>
</div>
{% endif %}
<!-- Clone app modal -->
<div class="modal" id="cloneAppModal1" tabindex="-1" role="dialog" aria-labelledby="cloneAppModal1"
aria-hidden="true">
  <div class="modal-dialog modal-md modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Move/ Clone Application</h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-12 form-group">
            <label for="selectApplicationtoClone" class="requiredField">
              Select Application <span class="asteriskField">*</span>
            </label>
            <select class="selectize form-control" name="selectApplicationtoClone" id='selectApplicationtoClone' placeholder="Select Application - (Database name) " required>
              <option value="default" selected disabled>Select Application - (Database name) </option>
              {% for i in applications %}
              <option value="{{i.application_code}}_{{i.db_connection_name}}">{{i.application_name}} - ({{i.db_connection_name}})</option>
              {% endfor %}
            </select>
          </div>
          <div class="col-12 form-group">
            <label for="selectUpdateCloneOption" class="requiredField">
              Move/ Clone application <span class="asteriskField">*</span>
            </label>
            <select class="selectize form-control" name="selectUpdateCloneOption" id='selectUpdateCloneOption' placeholder="Select Option" required>
              <option value="default" selected disabled>Select option </option>
              <option value="updateDatabase">Move app to another database</option>
              <option value="cloneApp">Clone app in another database</option>
            </select>
          </div>
          <div class="col-12 form-group">
            <label for="selectCloneOption" class="requiredField">
              Select config option<span class="asteriskField">*</span>
            </label>
            <select class="selectize form-control" name="selectCloneOption" id='selectCloneOption' placeholder="Select Option" required>
              <option value="default" selected disabled>Select option </option>
              <option value="appConfigOnly">App config</option>
              <option value="appConfigWithData">App config + Data</option>
            </select>
          </div>
          <div class="col-12 form-group">
            <label for="selectCloneDB" class="requiredField">
              Select destination database<span class="asteriskField">*</span>
            </label>
            <select class="selectize form-control" name="selectCloneDB" id='selectCloneDB' placeholder="Select Database" required>
              <option value="default" selected disabled>Select database</option>
                {% for j in db_connection_list %}
                  <option value="{{j}}">{{j}}</option>
                {% endfor %}
            </select>
          </div>
        </div>
      </div>
      <div class="modal-footer" >
        <button type="button" class="btn buttonfooter"  id="cancel_cloneapp" data-dismiss="modal">Cancel<i class="fas fa-times pl-2"></i></button>
        <div>
          <button type="button" class="btn buttonfooter" id="cloneApplication" disabled>Save <i class="fa-solid fa-floppy-disk pl-2"></i></button>
          <button class="btn btn-primary btn-xs mx-2 rounded px-2"  id="loadcloneApplication">
            <i class="fa fa-circle-notch fa-spin"></i>&nbsp;&nbsp;Loading...
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Create app using template  -->
<div class="modal" id="app_create_excel">
  <div class="modal-dialog modal-md modal-dialog-centered">
    <div class="modal-content" style="width: 70%;min-height: 300px;">
      <div class="modal-header">
        <h4 class="modal-title">Create App Using Template</h4>
      </div>
      <div class="modal-body" style="display: flex;flex-direction: column;justify-content: center;padding: 2rem;">
        <!-- App Creation using Excel -->
        <div id="appExcelCreation">
          <form id="AppCreationFileForm">
            <div class="form-row">
              <div class="custom-file form-group col-md-12">
                <div class="row">
                  <div class="col-11">
                    <input type="file" class="custom-file-input" id="appCreationFile"  name="appCreationFile" onclick="this.value=null;">
                    <label id="ac1" class="custom-file-label" for="appCreationFile">Upload File</label>
                  </div>
                  <div class="col-1">
                    <i class="fa-solid fa-check" id="excel-check-tick"></i>
                  </div>
                </div>
              </div>
              <div id="div_id_application_database" class="form-group-expand-flex col-md-12">
                <label for="applicationDatabaseExcel" class=" requiredField" style="width:23%">
                  App Database<span class="asteriskField">*</span>
                </label>
                <div class="expand-check-group">
                  <button name="applicationDatabaseExcel" class="fuller-button" required
                    id="applicationDatabaseExcel" data-toggle="modal" data-target="#AppDatabaseModal " data-backdrop="static" data-keyboard="false"> Expand <i
                      class="fa-solid fa-share"></i> </button>
                  <i class="fa-solid fa-check" id="check-tick"></i>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter" id="cancel_app_create_excel" data-dismiss="modal"> Cancel<i class="fas fa-times pl-2"></i></button>
        <button type="button" class="btn buttonfooter" id="createAppfromTemplate" disabled>Save <i class="fa-solid fa-floppy-disk pl-2"></i></button>
      </div>
    </div>
  </div>
</div>

<!-- Load app from Backup  -->
<div class="modal" id="backup">
  <div class="modal-dialog modal-md modal-dialog-centered">
    <div class="modal-content" style="min-height: 455px; width: 100%">
      <div class="modal-header">
        <h4 class="modal-title">Load App from Backup</h4>
      </div>
      <div class="modal-body">
        <!-- Backup -->
        <div id="appBackupRestoreContainer">
          <form id="backupFileForm">
            <div class="form-row">
              <div class="form-group col-md-6" id="appAstheticContainer">
                <div class="custom-control custom-checkbox ">
                  <input type="checkbox" name="appAstheticInput" class="checkboxinput custom-control-input" id="appAstheticInput" value="appAstheticInput">
                  <label for="appAstheticInput" class="custom-control-label">
                    Manually input app details
                  </label>
                </div>
              </div>
              <div class="form-group col-md-6" id="skipIfAssetExistsContainer">
                <div class="custom-control custom-checkbox ">
                  <input type="checkbox" name="skipIfAssetExists" class="checkboxinput custom-control-input" id="skipIfAssetExists" value="skipIfAssetExists">
                  <label for="skipIfAssetExists" class="custom-control-label">
                    Skip if asset exists
                  </label>
                </div>
              </div>
              <div class="row container-backup col-md-12"  id="appCreationContainer" style="display: none">
                <div id="div_id_application_name_backup" class="form-group-flex col-md-12">
                  <label for="applicationNameBackup" class=" requiredField" style="width:30%">
                    Application Name<span class="asteriskField">*</span>
                  </label>
                  <div class="input-span-group">
                    <div class="input-i-group">
                      <input name="applicationNameBackup" maxlength="24" placeholder="Name of your Application"
                        maxlength="264" style="width:100%;" class="app-detail-input" required id="applicationNameBackup">
                      <span class="remaining-count remaining-count-name-backup">0/24</span>
                      <i class="fa-solid fa-check" id="check-tick"></i>
                    </div>
                    <span id="alertSpanAppBackup">Application with the same name already exists!
                      Please create a new one.</span>
                  </div>
                </div>

                <div id="div_id_application_desc_backup" class="form-group-flex col-md-12">
                  <label for="applicationDescBackup" style="width:30%">Description<span class="asteriskField">*</span></label>
                  <div class="input-i-group">
                    <input name="applicationDescBackup" maxlength="45" placeholder="What is this Application for?"
                      style="width:100%" class="app-detail-input" required maxlength="264" id="applicationDescBackup">
                    <span class="remaining-count remaining-count-desc-backup">0/45</span>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>

                <div id="div_id_application_design" class="form-group-expand-flex col-md-12">
                  <label for="applicationDesignBackup" class=" requiredField" style="width:23%">
                    App Design<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group">
                    <button name="applicationDesignBackup" class="fuller-button"
                      id="applicationDesignBackup" data-toggle="modal" data-target="#AppDesignModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>
              </div>
              <div class="row required-backup-container col-md-12">
                <div class="custom-file form-group col-md-12">
                  <div class="row">
                    <div class="col-11">
                      <input type="file" class="custom-file-input" id="backupFile" accept=".json" name="backupFile">
                      <label id="c" class="custom-file-label" for="backupFile">Choose app config file</label>
                    </div>
                    <div class="col-1" id="backupfile-tick">
                      <i class="fa-solid fa-check" id="check-tick" style="margin-top: 13px;"></i>
                    </div>
                  </div>
                </div>
                <div class="custom-file form-group col-md-12">
                  <div class="row">
                    <div class="col-11">
                      <input type="file" class="custom-file-input" id="backupDataFile" accept=".json" name="backupDataFile">
                      <label id="c1" style="margin-top: 20px;" class="custom-file-label" for="backupDataFile">Choose app data file</label>
                    </div>
                    <div class="col-1">
                      <i class="fa-solid fa-check" id="datafile-check-tick" style="color:white;margin-top: 31px; margin-left: 8px;"></i>
                    </div>
                  </div>
                </div>
                <div class="custom-file form-group col-md-12">
                  <div class="row">
                    <div class="col-11">
                      <input type="file" class="custom-file-input" id="homepageDataFile" accept=".zip" name="homepageDataFile">
                      <label id="c2" style="margin-top: 34px;" class="custom-file-label" for="homepageDataFile">Choose customized homepage assets file</label>
                    </div>
                    <div class="col-1">
                      <i class="fa-solid fa-check" id="homepagefile-check-tick" style="color:white;margin-top: 45px; margin-left: 8px;"></i>
                    </div>
                  </div>
                </div>
                <div id="div_id_application_database" class="form-group-expand-flex col-md-12">
                  <label for="applicationDatabaseBackup" class=" requiredField" style="width:23%; margin-top:20px">
                    App Database<span class="asteriskField">*</span>
                  </label>
                  <div class="expand-check-group" style="margin-top:20px">
                    <button name="applicationDatabaseBackup" class="fuller-button" required
                      id="applicationDatabaseBackup" data-toggle="modal" data-target="#AppDatabaseModal" data-backdrop="static" data-keyboard="false"> Expand <i
                        class="fa-solid fa-share"></i> </button>
                    <i class="fa-solid fa-check" id="check-tick"></i>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter"  id="cancel_backup" data-dismiss="modal"> Cancel<i class="fas fa-times pl-2"></i></button>
        <button type="button" class="btn buttonfooter" id="backupApplication" disabled>Save <i class="fa-solid fa-floppy-disk pl-2"></i></button>
      </div>
    </div>
  </div>
</div>
<!-- App Design Modal -->
{% if app_template == "default" or app_template == null or app_template == ""%}
<div class="modal fade" id="AppDesignModal" tabindex="-1" role="dialog" aria-labelledby="AppDesignModal"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style="max-width: 1022px;" role="document">
    <div class="modal-content" style="min-height: 400px">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">App Design</h4>
        <button type="button" class="btn btn-primary" style="font-size: 13px; display:none"
          data-dismiss="modal" id="goback" aria-label="Close" ><i class='fa-solid fa-arrow-left-long'></i> Go back
        </button>
      </div>
      <div class="app-design-modal-body modal-body">
        <div class="row" style="justify-content: space-between">

            <div class="col-md-4 col-md-push-7" style="display: flex;justify-content: center;align-items: center;margin-bottom: 30px;">
              <div class="app_preview_div">
                <h6 style="color: grey;font-size: 14px;text-align: center;">Preview of your App</h6>
                  <div class="app_preview">
                    <div class="name_app_preview info-box">
                      <span class="info-box-icon" style="font-size: 20px;width:50px  "><i class="fas fa-laptop-code"
                          id="app_preview_icon_design"></i></span>
                      <h5 style="margin-top: 19px;margin: auto 5px" id="preview_app_name">Name</h5>
                    </div>
                    <div class="desc_app_preview" style="padding: 10px 15px;background: white;">
                      <span class="info-box-text">Description</span>
                    </div>
                    <div class="more-options">
                      <span title="Developer mode options" style="cursor: pointer;"><i
                          class="fas fa-edit edit-app"></i></span>
                      <i class="fas fa-right-to-bracket ml-2 mr-1"  style="margin-top: 4px; cursor:pointer"></i>
                    </div>
                  </div>
              </div>
            </div>
            <div class="col-md-7 col-md-pull-4" style="margin-left: 10px;">
              <div class="row">
                <h6>Select icon and color</h6>
                <div class="col-12 col-md-12">
                  <div class="row">
                    <div class="col-6">

                      <div class="row app_icon_color_code" style="margin-right: 6.5px;">
                      </div>
                      <button class="more_colors" id="more-iconcolors-button" data-toggle="modal" data-backdrop="static" data-keyboard="false"
                        data-target="#morecolors">more colors</button>
                    </div>
                    <div class="col-6">
                      <div class="listoficon">
                      </div>
                      <button class="more_colors" id="more-icons" data-toggle="modal" data-target="#moreicons" data-backdrop="static" data-keyboard="false"
                        style="margin-top: -5px;">more icons</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-12 col-md-12">
                  <div class="row" style="margin-top: 20px;">
                    <div class="col-6">
                      <h6>Select app card color</h6>
                      <div class="row app_card_color_code" style="margin-right: 6.5px;">
                      </div>
                      <button class="more_colors" id="more-cardcolors-button" data-toggle="modal" data-backdrop="static" data-keyboard="false"
                        data-target="#morecolors">more colors</button>
                    </div>
                    <div class="col-6">
                      <h6>Select app text color</h6>
                      <div class="row app_text_color_code" style="margin-right: 6.5px;">
                      </div>
                      <button class="more_colors" id="more-textcolors-button" data-toggle="modal" data-backdrop="static" data-keyboard="false"
                        data-target="#morecolors">more colors</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter" data-dismiss="modal" id="close_appdesign">Cancel <i class="fas fa-times pl-3"></i></button>
        <button type="button" class="btn buttonfooter" id="appDesignsave" style="justify-content: flex-end" disabled>Save  <i class="fa-solid fa-floppy-disk pl-3"></i></button>
      </div>
    </div>
  </div>
</div>
{% elif app_template == "template2"%}
<div class="modal fade" id="AppDesignModal" tabindex="-1" role="dialog" aria-labelledby="AppDesignModal"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style="max-width: 80%;" role="document">
    <div class="modal-content" style="min-height: 46rem">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">App Design</h4>
        <button type="button" class="btn btn-primary" style="font-size: 13px; display:none"
          data-dismiss="modal" id="goback" aria-label="Close" ><i class='fa-solid fa-arrow-left-long'></i> Go back
        </button>
      </div>
      <div class="app-design-modal-body modal-body">
        <div class="row" style="justify-content: space-between">
          <div class="col-md-5 col-md-push-7" style="display: flex;justify-content: center;align-items: start;margin-bottom: 30px;flex-direction: column;">
            <div class="app_preview_div" style="margin-top: unset;">
              <h6 style="color: grey;font-size: 14px;text-align: center;">Preview of your App</h6>
              <div class="app_workspace app_preview template2_preview HLtemplate2_preview" style="height:unset;">
                <div class="app-header name_app_preview row" style="background: unset;">
                  <div class="app_header_image col-2 d-flex align-items-center justify-content-center">
                    <span class="app_icon_wrapper info-box-icon d-flex align-items-center justify-content-center" style="border: 1px solid #d1d1d1;padding: 5px;border-radius: 3px;">
                      <i aria-hidden="true" class="app-icon t2appIcon fas fa-laptop-code fa-1x" id="app_preview_icon_design"></i></span>
                  </div>
                  <div class="col-7 d-flex align-items-center">
                    <h5 class="app-header-text t2appname">App Name</h5>
                  </div>
                  <div class="col-2 d-flex align-items-center justify-content-center">
                    <i class="apps_options1 fa-solid fa-ellipsis" data-toggle="dropdown"></i>
                  </div>
                </div>
                <div class="app-description desc_app_preview t2appDescription HLt2appDescription" style="margin-left: 20px;">
                  <span class="info-box-text">App description</span>
                </div>
              </div>
            </div>
            <div class="col-10" style="margin-left: 8%;">
              <h6>Select app card color</h6>
              <div class="radioButton">
                <div class="allRadioButtons colorsRadio">
                  <label for="solidInputType">
                    <div class="radioButtonContainer" style="border-right: 2px solid rgb(187, 187, 187);">
                      <input type="radio" value="terms_at_every_login" name="terms_conditions_mandatory" id="solidInputType" onchange="solidColorFun()">
                      <p class="d-flex justify-content-center align-items-center"><span style="    margin-left: 1.25rem;">Solid Color</span>
                      </p>
                    </div>
                  </label>
                  <label for="gradientInputType">
                    <div class="radioButtonContainer">
                      <input type="radio" value="terms_at_first_signin" name="terms_conditions_mandatory" id="gradientInputType" onchange="gradientColorFun()">
                      <p class="d-flex justify-content-center align-items-center">Gradient</p>
                    </div>
                  </label>
                </div>
              </div>
              <div class="row" id="gradientColorTypeItems" style="display:none;padding-top: 1rem;margin-left: 2%;">
                  <div class="random-color" style="display: flex;justify-content: space-between;align-items: center;flex-direction:column;">
                    <div class="my-2 d-flex justify-content-between align-items-center w-100" style="padding-right: 2rem;">
                      <label for="color1">Color 1</label>
                      <input type="color" class="color1 colorpicker form-control" name="color1" id="color1" value="#FFFFFF">
                    </div>
                    <div class="my-2 d-flex justify-content-between align-items-center w-100" style="padding-right: 2rem;">
                      <label for="color2">Color 2</label>
                      <input type="color" class="color2 colorpicker form-control" id="color2" name="color2" value="#000000">
                    </div>
                    <div class="selectanglediv my-2 d-flex justify-content-between align-items-center w-100 " style="padding-right: 2rem;">
                      <label for="selectangle">Select Angle</label>
                      <select name="toDirection" id="selectangle" onchange="Gradientchange()" class="selectangle select2 form-control" style="width:68%">
                        <option value="empty2">Select the Angle</option>
                        <option value="to right">To Right</option>
                        <option value="to right bottom">To Right Bottom</option>
                        <option value="to right top">To Right Top</option>
                        <option value="to left">To Left</option>
                        <option value="to left bottom">To Left Bottom</option>
                        <option value="to left top">To Left Top</option>
                        <option value="to bottom">To Bottom</option>
                        <option value="to top">To Top</option>
                      </select>
                    </div>
                  </div>
              </div>
              <div class="row" id="solidColorTypeItems" style="display:none;">
                  <div class="row app_card_color_code col-8 p-0" style="margin-left: 1%;">
                  </div>
                  <button class="more_colors" id="more-cardcolors-button" data-toggle="modal" data-backdrop="static" data-keyboard="false"
                data-target="#morecolors" style="margin-left: 2%;">More Colors</button>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-md-pull-4" style="margin-left: 10px;">
            <div class="row">
              <h6>Select icon and color</h6>
              <div class="col-12 col-md-12">
                <div class="row">
                  <div class="col-6">

                    <div class="row app_icon_color_code" style="margin-right: 6.5px;">
                    </div>
                    <button class="more_colors" id="more-iconcolors-button" data-toggle="modal" data-backdrop="static" data-keyboard="false"
                      data-target="#morecolors">more colors</button>
                  </div>
                  <div class="col-6">
                    <div class="listoficon">
                    </div>
                    <button class="more_colors" id="more-icons" data-toggle="modal" data-target="#moreicons" data-backdrop="static" data-keyboard="false"
                      style="margin-top: -5px;">more icons</button>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-12 col-md-12">
                <div class="row" style="margin-top: 20px;">
                  <div class="col-6">
                    <h6>Select app name color</h6>
                    <div class="row app_text_color_code" style="margin-right: 6.5px;">
                    </div>
                    <button class="more_colors" id="more-textcolors-button" data-toggle="modal" data-backdrop="static" data-keyboard="false"
                      data-target="#morecolors">more colors</button>
                  </div>
                  <div class="col-6">
                    <h6>Select app description color</h6>
                    <div class="row app_text_description_color_code" style="margin-right: 6.5px;">
                    </div>
                    <button class="more_colors" id="more-descriptionTextColors-button" data-toggle="modal" data-backdrop="static" data-keyboard="false"
                      data-target="#morecolors">more colors</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter"  data-dismiss="modal" id="close_appdesign">Cancel <i class="fas fa-times pl-3"></i></button>
        <button type="button" class="btn buttonfooter" id="appDesignsave"  style="justify-content: flex-end" disabled>Save  <i class="fa-solid fa-floppy-disk pl-3"></i></button>
      </div>
    </div>
  </div>
</div>
{% elif app_template == "template3"%}
<div class="modal fade" id="AppDesignModal" tabindex="-1" role="dialog" aria-labelledby="AppDesignModal"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style="max-width: 80%;" role="document">
    <div class="modal-content" style="min-height: 46rem">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">App Design</h4>
        <button type="button" class="btn btn-primary" style="font-size: 13px; display:none"
          data-dismiss="modal" id="goback" aria-label="Close" ><i class='fa-solid fa-arrow-left-long'></i> Go back
        </button>
      </div>
      <div class="app-design-modal-body modal-body">
        <div class="row" style="justify-content: space-between">
          <div class="col-md-5 col-md-push-7" style="display: flex;justify-content: center;align-items: center;margin-bottom: 30px;flex-direction: column;">
            <div class="app_preview_div d-flex justify-content-center flex-column align-items-center" >
              <h6 style="color: grey;font-size: 14px;text-align: center;">Preview of your App</h6>
              <div class="app_workspace app_preview template3_preview HLtemplate3_preview col-md-12" style="height: 9rem;">
                <div class="d-flex align-items-center justify-content-end">
                  <i class="apps_options1 fa-solid fa-ellipsis" data-toggle="dropdown"></i>
                </div>
                <div class="app-header name_app_preview row" style="background: unset; height: unset;">
                  <div class="app_header_image col-12 d-flex align-items-center justify-content-center" style=" height: unset;">
                    <span class="info-box-icon d-flex align-items-center justify-content-center">
                      <i class="fas fa-laptop-code fa-4x" id="app_preview_icon_design" style="font-size: 4em !important;"></i>
                    </span>
                  </div>
                  <div class="col-md-12 appNameDiv" style="display: flex;justify-content: center;align-items: center;">
                    <h5 class="app-header-text t3appname" style="margin-bottom: 0;
                    margin-top: 0.50rem;">App Name</h5>
                  </div>
                </div>
              </div>
            </div>
            <div class="sizeOfApp">
              <label for="selectAppSizes">Select the size of application</label>
              <select name="selectAppSizes" id="selectAppSizes" class="select2 form-control" onchange="sizeOfAppFunc()">
                <option value="" selected>Select</option>
                <option value="Rectangle">Large</option>
                <option value="Square">Medium</option>
                <option value="cube">Small</option>
              </select>
            </div>
          </div>
          <div class="col-md-6 col-md-pull-4" style="margin-left: 10px;">
            <div class="row">
              <h6>Select icon and color</h6>
              <div class="col-12 col-md-12">
                <div class="row">
                  <div class="col-6">

                    <div class="row app_icon_color_code" style="margin-right: 6.5px;">
                    </div>
                    <button class="more_colors" id="more-iconcolors-button" data-toggle="modal" data-backdrop="static" data-keyboard="false"
                      data-target="#morecolors">more colors</button>
                  </div>
                  <div class="col-6">
                    <div class="listoficon">
                    </div>
                    <button class="more_colors" id="more-icons" data-toggle="modal" data-target="#moreicons" data-backdrop="static" data-keyboard="false"
                      style="margin-top: -5px;">more icons</button>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-12 col-md-12">
                <div class="row" style="margin-top: 20px;">
                  <div class="col-6">
                    <h6>Select app card color</h6>
                    <div class="radioButton">
                      <div class="allRadioButtons colorsRadio">
                        <label for="solidInputType">
                          <div class="radioButtonContainer" style="border-right: 2px solid rgb(187, 187, 187);">
                            <input type="radio" value="terms_at_every_login" name="terms_conditions_mandatory" id="solidInputType" onchange="solidColorFun()">
                            <p class="d-flex justify-content-center align-items-center"><span style="    margin-left: 1.25rem;">Solid Color</span>
                            </p>
                          </div>
                        </label>
                        <label for="gradientInputType">
                          <div class="radioButtonContainer">
                            <input type="radio" value="terms_at_first_signin" name="terms_conditions_mandatory" id="gradientInputType" onchange="gradientColorFun()">
                            <p class="d-flex justify-content-center align-items-center">Gradient</p>
                          </div>
                        </label>
                      </div>
                    </div>
                    <div class="row" id="gradientColorTypeItems" style="display:none;padding-top: 1rem;">
                        <div class="random-color" style="display: flex;justify-content: space-between;align-items: center;flex-direction:column;">
                          <div class=" d-flex justify-content-between align-items-center w-100" style="padding-right: 2rem;">
                            <label for="color1">Color 1</label>
                            <input type="color" class="color1 w-50" name="color1" id="color1" value="#FFFFFF">
                          </div>
                          <div class="my-2 d-flex justify-content-between align-items-center w-100" style="padding-right: 2rem;">
                            <label for="color2">Color 2</label>
                            <input type="color" class="color2 w-50" id="color2" name="color2" value="#000000">
                          </div>
                          <div class="selectanglediv my-2 d-flex justify-content-between align-items-center w-100 " style="padding-right: 2rem;">
                            <label for="selectangle">Select Angle</label>
                            <select name="toDirection" id="selectangle" onchange="Gradientchange()" class="selectangle select2 form-control" style="width:8.5rem">
                              <option value="empty2">Select the Angle</option>
                              <option value="to right">to right</option>
                              <option value="to right bottom">to right bottom</option>
                              <option value="to right top">to right top</option>
                              <option value="to left">to left</option>
                              <option value="to left bottom">to left bottom</option>
                              <option value="to left top">to left top</option>
                              <option value="to bottom">to bottom</option>
                              <option value="to top">to top</option>
                            </select>
                          </div>
                        </div>
                    </div>
                    <div class="row" id="solidColorTypeItems" style="display:none;">
                        <div class="row app_card_color_code" style="margin-right: 6.5px;">
                        </div>
                        <button class="more_colors" id="more-cardcolors-button" data-toggle="modal" data-backdrop="static" data-keyboard="false"
                      data-target="#morecolors">more colors</button>
                    </div>
                  </div>
                  <div class="col-6">
                    <h6>Select app text color</h6>
                    <div class="row app_text_color_code" style="margin-right: 6.5px;">
                    </div>
                    <button class="more_colors" id="more-textcolors-button" data-toggle="modal" data-backdrop="static" data-keyboard="false"
                      data-target="#morecolors">more colors</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter" data-dismiss="modal" id="close_appdesign">Cancel <i class="fas fa-times pl-3"></i></button>
        <button type="button" class="btn buttonfooter" id="appDesignsave" style="justify-content: flex-end" disabled>Save  <i class="fa-solid fa-floppy-disk pl-3"></i></button>
      </div>
    </div>
  </div>
</div>
{% elif app_template == "template4" or app_template == "template5"%}
<div class="modal fade" id="AppDesignModal" tabindex="-1" role="dialog" aria-labelledby="AppDesignModal"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style="max-width: 1022px;" role="document">
    <div class="modal-content" style="min-height: 400px">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">App Design</h4>
        <button type="button" class="btn btn-primary" style="font-size: 13px; display:none"
          data-dismiss="modal" id="goback" aria-label="Close" ><i class='fa-solid fa-arrow-left-long'></i> Go back
        </button>
      </div>
      <div class="app-design-modal-body modal-body">
        <div class="row" style="justify-content: space-between">
            <div class="col-md-4 col-md-push-7" style="display: flex;justify-content: center;align-items: center;margin-bottom: 30px;">
              <div class="app_preview_div">
                <h6 style="color: grey;font-size: 14px;text-align: center;">Preview of your App</h6>
                <div class="app-card" style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
                  <div class="app-container template4_preview HLtemplate4_preview"
                  {% if app_template == "template4" and widgets_template_value == "SuqareApp" %} style="text-align: center; width: 10rem; background:#f1f1f1; border-radius: 1rem; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); padding: 1rem;" {% elif app_template == "template4" and widgets_template_value == "CircleApp"%} style="background:#f1f1f1;width: 8rem;height: 8rem;border-radius: 50%;box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);padding: 1rem;display: flex;justify-content: center;align-items: center;" {% elif app_template == "template5" %} style="width: 8rem;height: 8rem;padding: 1rem;display: flex;justify-content: center;align-items: center;" {% endif %}>
                    <i class="fas fa-laptop-code" id="appdesigntemplate4_appIcon"
                      style="font-size: 5rem; color:#000000; margin: 0 auto; display: block;"></i>
                  </div>
                  <div class="app-name template4" style="font-size: 1rem; margin-top: 1%; text-align: center; color:#000000">
                    App Name</div>
                </div>
              </div>
            </div>
            <div class="col-md-7 col-md-pull-4" style="margin-left: 10px;">
              <div class="row">
                <h6>Select icon and color</h6>
                <div class="col-12 col-md-12">
                  <div class="row">
                    <div class="col-6">

                      <div class="row app_icon_color_code" style="margin-right: 6.5px;">
                      </div>
                      <button class="more_colors" id="more-iconcolors-button" data-toggle="modal" data-backdrop="static" data-keyboard="false"
                        data-target="#morecolors">more colors</button>
                    </div>
                    <div class="col-6">
                      <div class="listoficon">
                      </div>
                      <button class="more_colors" id="more-icons" data-toggle="modal" data-target="#moreicons" data-backdrop="static" data-keyboard="false"
                        style="margin-top: -5px;">more icons</button>
                    </div>
                  </div>
                </div>
              </div>

                <div class="row">
                  <div class="col-12 col-md-12">
                    <div class="row" style="margin-top: 20px;">
                      {% if app_template == "template4"%}
                        <div class="col-6">
                          <h6>Select app card color</h6>
                          <div class="radioButton">
                            <div class="allRadioButtons colorsRadio" style="margin-right:5%">
                              <label for="solidInputType">
                                <div class="radioButtonContainer" style="border-right: 2px solid rgb(187, 187, 187);">
                                  <input type="radio" value="terms_at_every_login" name="terms_conditions_mandatory" id="solidInputType" onchange="solidColorFun()">
                                  <p class="d-flex justify-content-center align-items-center m-0"><span style="    margin-left: 0.5rem;">Solid Color</span>
                                  </p>
                                </div>
                              </label>
                              <label for="gradientInputType">
                                <div class="radioButtonContainer">
                                  <input type="radio" value="terms_at_first_signin" name="terms_conditions_mandatory" id="gradientInputType" onchange="gradientColorFun()">
                                  <p class="d-flex justify-content-center align-items-center m-0">Gradient</p>
                                </div>
                              </label>
                            </div>
                          </div>
                          <div style="height:13rem;">
                          <div class="row" id="gradientColorTypeItems" style="display:none;margin-left:2%;">
                            <div class="random-color" style="display: flex;justify-content: space-between;align-items: center;flex-direction:column;">
                              <div class="my-2 d-flex justify-content-between align-items-center w-100" style="padding-right: 2rem;">
                                <label for="color1">Color 1</label>
                                <input type="color" class="color1 colorpicker form-control" name="color1" id="color1" onchange="Gradientchange()" value="#FFFFFF" style="width: 60%;">
                              </div>
                              <div class="my-2 d-flex justify-content-between align-items-center w-100" style="padding-right: 2rem;">
                                <label for="color2">Color 2</label>
                                <input type="color" class="color2 colorpicker form-control" id="color2" onchange="Gradientchange()" name="color2" value="#000000" style="width: 60%;">
                              </div>
                              <div class="selectanglediv my-2 d-flex justify-content-between align-items-center w-100 " style="padding-right: 2rem;">
                                <label for="selectangle">Select Angle</label>
                                <select name="toDirection" id="selectangle" onchange="Gradientchange()" class="selectangle select2 form-control" style="width:60%">
                                  <option value="empty2">Select the Angle</option>
                                  <option value="to right">To Right</option>
                                  <option value="to right bottom">To Right Bottom</option>
                                  <option value="to right top">To Right Top</option>
                                  <option value="to left">To Left</option>
                                  <option value="to left bottom">To Left Bottom</option>
                                  <option value="to left top">To Left Top</option>
                                  <option value="to bottom">To Bottom</option>
                                  <option value="to top">To Top</option>
                                </select>
                              </div>
                            </div>
                          </div>
                          <div class="row" id="solidColorTypeItems" style="display:none;">
                            <div class="row app_card_color_code" style="margin-right: 6.5px; margin-left: 1%;">
                            </div>
                            <button class="more_colors" id="more-cardcolors-button" data-toggle="modal" data-backdrop="static" data-keyboard="false"
                          data-target="#morecolors" style="margin-left: 5%;">More Colors</button>
                          </div>
                          </div>
                        </div>
                      {% endif %}
                      <div class="col-6">
                        <h6>Select app text color</h6>
                        <div class="row app_text_color_code" style="margin-right: 6.5px;">
                        </div>
                        <button class="more_colors" id="more-textcolors-button" data-toggle="modal" data-backdrop="static" data-keyboard="false"
                          data-target="#morecolors">more colors</button>
                      </div>
                    </div>
                  </div>
                </div>
            </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter" data-dismiss="modal" id="close_appdesign">Cancel <i class="fas fa-times pl-3"></i></button>
        <button type="button" class="btn buttonfooter" id="appDesignsave" style="justify-content: flex-end" disabled>Save  <i class="fa-solid fa-floppy-disk pl-3"></i></button>
      </div>
    </div>
  </div>
</div>
{% endif %}
<!-- More Colors Modal -->
<div class="modal fade" id="morecolors" tabindex="-1" role="dialog" aria-labelledby="morecolors" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style="max-width: 1026px;justify-content: center;" role="document">
    <div class="modal-content" style="min-height: 461px;width:50%">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">More Colors</h4>
        <button type="button" class="btn btn-secondary" style="background-color: var(--primary-color);font-size: 13px; display:none"
        data-dismiss="modal" id="gobackcolors" aria-label="Close">
      </button>
      </div>
      <div class=" modal-body">
          <div class="row">
            <div class="col-12">
              <div class="main-container" onclick="pick()">
                <img class="colorpicker" style="margin-right:2px;"
                src="{% static 'images/Base_theme/img_colormap.png' %}" usemap="#colormap"
                  alt="colormap">
                <div class="main-container">
                  <map id="colormap" name="colormap"><area style="cursor:pointer"
                      shape="poly" coords="63,0,72,4,72,15,63,19,54,15,54,4"
                      onmouseover="mouseOverColor(&quot;#003366&quot;)" alt="#003366"><area style="cursor:pointer"
                      shape="poly" coords="81,0,90,4,90,15,81,19,72,15,72,4"
                      onmouseover="mouseOverColor(&quot;#336699&quot;)" alt="#336699"><area style="cursor:pointer"
                      shape="poly" coords="99,0,108,4,108,15,99,19,90,15,90,4"
                      onmouseover="mouseOverColor(&quot;#3366CC&quot;)" alt="#3366CC"><area style="cursor:pointer"
                      shape="poly" coords="117,0,126,4,126,15,117,19,108,15,108,4"
                      onmouseover="mouseOverColor(&quot;#003399&quot;)" alt="#003399"><area style="cursor:pointer"
                      shape="poly" coords="135,0,144,4,144,15,135,19,126,15,126,4"
                      onmouseover="mouseOverColor(&quot;#000099&quot;)" alt="#000099"><area style="cursor:pointer"
                      shape="poly" coords="153,0,162,4,162,15,153,19,144,15,144,4"
                      onmouseover="mouseOverColor(&quot;#0000CC&quot;)" alt="#0000CC"><area style="cursor:pointer"
                      shape="poly" coords="171,0,180,4,180,15,171,19,162,15,162,4"
                      onmouseover="mouseOverColor(&quot;#000066&quot;)" alt="#000066"><area style="cursor:pointer"
                      shape="poly" coords="54,15,63,19,63,30,54,34,45,30,45,19"
                      onmouseover="mouseOverColor(&quot;#006666&quot;)" alt="#006666"><area style="cursor:pointer"
                      shape="poly" coords="72,15,81,19,81,30,72,34,63,30,63,19"
                      onmouseover="mouseOverColor(&quot;#006699&quot;)" alt="#006699"><area style="cursor:pointer"
                      shape="poly" coords="90,15,99,19,99,30,90,34,81,30,81,19"
                      onmouseover="mouseOverColor(&quot;#0099CC&quot;)" alt="#0099CC"><area style="cursor:pointer"
                      shape="poly" coords="108,15,117,19,117,30,108,34,99,30,99,19"
                      onmouseover="mouseOverColor(&quot;#0066CC&quot;)" alt="#0066CC"><area style="cursor:pointer"
                      shape="poly" coords="126,15,135,19,135,30,126,34,117,30,117,19"
                      onmouseover="mouseOverColor(&quot;#0033CC&quot;)" alt="#0033CC"><area style="cursor:pointer"
                      shape="poly" coords="144,15,153,19,153,30,144,34,135,30,135,19"
                      onmouseover="mouseOverColor(&quot;#0000FF&quot;)" alt="#0000FF"><area style="cursor:pointer"
                      shape="poly" coords="162,15,171,19,171,30,162,34,153,30,153,19"
                      onmouseover="mouseOverColor(&quot;#3333FF&quot;)" alt="#3333FF"><area style="cursor:pointer"
                      shape="poly" coords="180,15,189,19,189,30,180,34,171,30,171,19"
                      onmouseover="mouseOverColor(&quot;#333399&quot;)" alt="#333399"><area style="cursor:pointer"
                      shape="poly" coords="45,30,54,34,54,45,45,49,36,45,36,34"
                      onmouseover="mouseOverColor(&quot;#669999&quot;)" alt="#669999"><area style="cursor:pointer"
                      shape="poly" coords="63,30,72,34,72,45,63,49,54,45,54,34"
                      onmouseover="mouseOverColor(&quot;#009999&quot;)" alt="#009999"><area style="cursor:pointer"
                      shape="poly" coords="81,30,90,34,90,45,81,49,72,45,72,34"
                      onmouseover="mouseOverColor(&quot;#33CCCC&quot;)" alt="#33CCCC"><area style="cursor:pointer"
                      shape="poly" coords="99,30,108,34,108,45,99,49,90,45,90,34"
                      onmouseover="mouseOverColor(&quot;#00CCFF&quot;)" alt="#00CCFF"><area style="cursor:pointer"
                      shape="poly" coords="117,30,126,34,126,45,117,49,108,45,108,34"
                      onmouseover="mouseOverColor(&quot;#0099FF&quot;)" alt="#0099FF"><area style="cursor:pointer"
                      shape="poly" coords="135,30,144,34,144,45,135,49,126,45,126,34"
                      onmouseover="mouseOverColor(&quot;#0066FF&quot;)" alt="#0066FF"><area style="cursor:pointer"
                      shape="poly" coords="153,30,162,34,162,45,153,49,144,45,144,34"
                      onmouseover="mouseOverColor(&quot;#3366FF&quot;)" alt="#3366FF"><area style="cursor:pointer"
                      shape="poly" coords="171,30,180,34,180,45,171,49,162,45,162,34"
                      onmouseover="mouseOverColor(&quot;#3333CC&quot;)" alt="#3333CC"><area style="cursor:pointer"
                      shape="poly" coords="189,30,198,34,198,45,189,49,180,45,180,34"
                      onmouseover="mouseOverColor(&quot;#666699&quot;)" alt="#666699"><area style="cursor:pointer"
                      shape="poly" coords="36,45,45,49,45,60,36,64,27,60,27,49"
                      onmouseover="mouseOverColor(&quot;#339966&quot;)" alt="#339966"><area style="cursor:pointer"
                      shape="poly" coords="54,45,63,49,63,60,54,64,45,60,45,49"
                      onmouseover="mouseOverColor(&quot;#00CC99&quot;)" alt="#00CC99"><area style="cursor:pointer"
                      shape="poly" coords="72,45,81,49,81,60,72,64,63,60,63,49"
                      onmouseover="mouseOverColor(&quot;#00FFCC&quot;)" alt="#00FFCC"><area style="cursor:pointer"
                      shape="poly" coords="90,45,99,49,99,60,90,64,81,60,81,49"
                      onmouseover="mouseOverColor(&quot;#00FFFF&quot;)" alt="#00FFFF"><area style="cursor:pointer"
                      shape="poly" coords="108,45,117,49,117,60,108,64,99,60,99,49"
                      onmouseover="mouseOverColor(&quot;#33CCFF&quot;)" alt="#33CCFF"><area style="cursor:pointer"
                      shape="poly" coords="126,45,135,49,135,60,126,64,117,60,117,49"
                      onmouseover="mouseOverColor(&quot;#3399FF&quot;)" alt="#3399FF"><area style="cursor:pointer"
                      shape="poly" coords="144,45,153,49,153,60,144,64,135,60,135,49"
                      onmouseover="mouseOverColor(&quot;#6699FF&quot;)" alt="#6699FF"><area style="cursor:pointer"
                      shape="poly" coords="162,45,171,49,171,60,162,64,153,60,153,49"
                      onmouseover="mouseOverColor(&quot;#6666FF&quot;)" alt="#6666FF"><area style="cursor:pointer"
                      shape="poly" coords="180,45,189,49,189,60,180,64,171,60,171,49"
                      onmouseover="mouseOverColor(&quot;#6600FF&quot;)" alt="#6600FF"><area style="cursor:pointer"
                      shape="poly" coords="198,45,207,49,207,60,198,64,189,60,189,49"
                      onmouseover="mouseOverColor(&quot;#6600CC&quot;)" alt="#6600CC"><area style="cursor:pointer"
                      shape="poly" coords="27,60,36,64,36,75,27,79,18,75,18,64"
                      onmouseover="mouseOverColor(&quot;#339933&quot;)" alt="#339933"><area style="cursor:pointer"
                      shape="poly" coords="45,60,54,64,54,75,45,79,36,75,36,64"
                      onmouseover="mouseOverColor(&quot;#00CC66&quot;)" alt="#00CC66"><area style="cursor:pointer"
                      shape="poly" coords="63,60,72,64,72,75,63,79,54,75,54,64"
                      onmouseover="mouseOverColor(&quot;#00FF99&quot;)" alt="#00FF99"><area style="cursor:pointer"
                      shape="poly" coords="81,60,90,64,90,75,81,79,72,75,72,64"
                      onmouseover="mouseOverColor(&quot;#66FFCC&quot;)" alt="#66FFCC"><area style="cursor:pointer"
                      shape="poly" coords="99,60,108,64,108,75,99,79,90,75,90,64"
                      onmouseover="mouseOverColor(&quot;#66FFFF&quot;)" alt="#66FFFF"><area style="cursor:pointer"
                      shape="poly" coords="117,60,126,64,126,75,117,79,108,75,108,64"
                      onmouseover="mouseOverColor(&quot;#66CCFF&quot;)" alt="#66CCFF"><area style="cursor:pointer"
                      shape="poly" coords="135,60,144,64,144,75,135,79,126,75,126,64"
                      onmouseover="mouseOverColor(&quot;#99CCFF&quot;)" alt="#99CCFF"><area style="cursor:pointer"
                      shape="poly" coords="153,60,162,64,162,75,153,79,144,75,144,64"
                      onmouseover="mouseOverColor(&quot;#9999FF&quot;)" alt="#9999FF"><area style="cursor:pointer"
                      shape="poly" coords="171,60,180,64,180,75,171,79,162,75,162,64"
                      onmouseover="mouseOverColor(&quot;#9966FF&quot;)" alt="#9966FF"><area style="cursor:pointer"
                      shape="poly" coords="189,60,198,64,198,75,189,79,180,75,180,64"
                      onmouseover="mouseOverColor(&quot;#9933FF&quot;)" alt="#9933FF"><area style="cursor:pointer"
                      shape="poly" coords="207,60,216,64,216,75,207,79,198,75,198,64"
                      onmouseover="mouseOverColor(&quot;#9900FF&quot;)" alt="#9900FF"><area style="cursor:pointer"
                      shape="poly" coords="18,75,27,79,27,90,18,94,9,90,9,79"
                      onmouseover="mouseOverColor(&quot;#006600&quot;)" alt="#006600"><area style="cursor:pointer"
                      shape="poly" coords="36,75,45,79,45,90,36,94,27,90,27,79"
                      onmouseover="mouseOverColor(&quot;#00CC00&quot;)" alt="#00CC00"><area style="cursor:pointer"
                      shape="poly" coords="54,75,63,79,63,90,54,94,45,90,45,79"
                      onmouseover="mouseOverColor(&quot;#00FF00&quot;)" alt="#00FF00"><area style="cursor:pointer"
                      shape="poly" coords="72,75,81,79,81,90,72,94,63,90,63,79"
                      onmouseover="mouseOverColor(&quot;#66FF99&quot;)" alt="#66FF99"><area style="cursor:pointer"
                      shape="poly" coords="90,75,99,79,99,90,90,94,81,90,81,79"
                      onmouseover="mouseOverColor(&quot;#99FFCC&quot;)" alt="#99FFCC"><area style="cursor:pointer"
                      shape="poly" coords="108,75,117,79,117,90,108,94,99,90,99,79"
                      onmouseover="mouseOverColor(&quot;#CCFFFF&quot;)" alt="#CCFFFF"><area style="cursor:pointer"
                      shape="poly" coords="126,75,135,79,135,90,126,94,117,90,117,79"
                      onmouseover="mouseOverColor(&quot;#CCCCFF&quot;)" alt="#CCCCFF"><area style="cursor:pointer"
                      shape="poly" coords="144,75,153,79,153,90,144,94,135,90,135,79"
                      onmouseover="mouseOverColor(&quot;#CC99FF&quot;)" alt="#CC99FF"><area style="cursor:pointer"
                      shape="poly" coords="162,75,171,79,171,90,162,94,153,90,153,79"
                      onmouseover="mouseOverColor(&quot;#CC66FF&quot;)" alt="#CC66FF"><area style="cursor:pointer"
                      shape="poly" coords="180,75,189,79,189,90,180,94,171,90,171,79"
                      onmouseover="mouseOverColor(&quot;#CC33FF&quot;)" alt="#CC33FF"><area style="cursor:pointer"
                      shape="poly" coords="198,75,207,79,207,90,198,94,189,90,189,79"
                      onmouseover="mouseOverColor(&quot;#CC00FF&quot;)" alt="#CC00FF"><area style="cursor:pointer"
                      shape="poly" coords="216,75,225,79,225,90,216,94,207,90,207,79"
                      onmouseover="mouseOverColor(&quot;#9900CC&quot;)" alt="#9900CC"><area style="cursor:pointer"
                      shape="poly" coords="9,90,18,94,18,105,9,109,0,105,0,94"
                      onmouseover="mouseOverColor(&quot;#003300&quot;)" alt="#003300"><area style="cursor:pointer"
                      shape="poly" coords="27,90,36,94,36,105,27,109,18,105,18,94"
                      onmouseover="mouseOverColor(&quot;#009933&quot;)" alt="#009933"><area style="cursor:pointer"
                      shape="poly" coords="45,90,54,94,54,105,45,109,36,105,36,94"
                      onmouseover="mouseOverColor(&quot;#33CC33&quot;)" alt="#33CC33"><area style="cursor:pointer"
                      shape="poly" coords="63,90,72,94,72,105,63,109,54,105,54,94"
                      onmouseover="mouseOverColor(&quot;#66FF66&quot;)" alt="#66FF66"><area style="cursor:pointer"
                      shape="poly" coords="81,90,90,94,90,105,81,109,72,105,72,94"
                      onmouseover="mouseOverColor(&quot;#99FF99&quot;)" alt="#99FF99"><area style="cursor:pointer"
                      shape="poly" coords="99,90,108,94,108,105,99,109,90,105,90,94"
                      onmouseover="mouseOverColor(&quot;#CCFFCC&quot;)" alt="#CCFFCC"><area style="cursor:pointer"
                      shape="poly" coords="117,90,126,94,126,105,117,109,108,105,108,94"
                      onmouseover="mouseOverColor(&quot;#FFFFFF&quot;)" alt="#FFFFFF"><area style="cursor:pointer"
                      shape="poly" coords="135,90,144,94,144,105,135,109,126,105,126,94"
                      onmouseover="mouseOverColor(&quot;#FFCCFF&quot;)" alt="#FFCCFF"><area style="cursor:pointer"
                      shape="poly" coords="153,90,162,94,162,105,153,109,144,105,144,94"
                      onmouseover="mouseOverColor(&quot;#FF99FF&quot;)" alt="#FF99FF"><area style="cursor:pointer"
                      shape="poly" coords="171,90,180,94,180,105,171,109,162,105,162,94"
                      onmouseover="mouseOverColor(&quot;#FF66FF&quot;)" alt="#FF66FF"><area style="cursor:pointer"
                      shape="poly" coords="189,90,198,94,198,105,189,109,180,105,180,94"
                      onmouseover="mouseOverColor(&quot;#FF00FF&quot;)" alt="#FF00FF"><area style="cursor:pointer"
                      shape="poly" coords="207,90,216,94,216,105,207,109,198,105,198,94"
                      onmouseover="mouseOverColor(&quot;#CC00CC&quot;)" alt="#CC00CC"><area style="cursor:pointer"
                      shape="poly" coords="225,90,234,94,234,105,225,109,216,105,216,94"
                      onmouseover="mouseOverColor(&quot;#660066&quot;)" alt="#660066"><area style="cursor:pointer"
                      shape="poly" coords="18,105,27,109,27,120,18,124,9,120,9,109"
                      onmouseover="mouseOverColor(&quot;#336600&quot;)" alt="#336600"><area style="cursor:pointer"
                      shape="poly" coords="36,105,45,109,45,120,36,124,27,120,27,109"
                      onmouseover="mouseOverColor(&quot;#009900&quot;)" alt="#009900"><area style="cursor:pointer"
                      shape="poly" coords="54,105,63,109,63,120,54,124,45,120,45,109"
                      onmouseover="mouseOverColor(&quot;#66FF33&quot;)" alt="#66FF33"><area style="cursor:pointer"
                      shape="poly" coords="72,105,81,109,81,120,72,124,63,120,63,109"
                      onmouseover="mouseOverColor(&quot;#99FF66&quot;)" alt="#99FF66"><area style="cursor:pointer"
                      shape="poly" coords="90,105,99,109,99,120,90,124,81,120,81,109"
                      onmouseover="mouseOverColor(&quot;#CCFF99&quot;)" alt="#CCFF99"><area style="cursor:pointer"
                      shape="poly" coords="108,105,117,109,117,120,108,124,99,120,99,109"
                      onmouseover="mouseOverColor(&quot;#FFFFCC&quot;)" alt="#FFFFCC"><area style="cursor:pointer"
                      shape="poly" coords="126,105,135,109,135,120,126,124,117,120,117,109"
                      onmouseover="mouseOverColor(&quot;#FFCCCC&quot;)" alt="#FFCCCC"><area style="cursor:pointer"
                      shape="poly" coords="144,105,153,109,153,120,144,124,135,120,135,109"
                      onmouseover="mouseOverColor(&quot;#FF99CC&quot;)" alt="#FF99CC"><area style="cursor:pointer"
                      shape="poly" coords="162,105,171,109,171,120,162,124,153,120,153,109"
                      onmouseover="mouseOverColor(&quot;#FF66CC&quot;)" alt="#FF66CC"><area style="cursor:pointer"
                      shape="poly" coords="180,105,189,109,189,120,180,124,171,120,171,109"
                      onmouseover="mouseOverColor(&quot;#FF33CC&quot;)" alt="#FF33CC"><area style="cursor:pointer"
                      shape="poly" coords="198,105,207,109,207,120,198,124,189,120,189,109"
                      onmouseover="mouseOverColor(&quot;#CC0099&quot;)" alt="#CC0099"><area style="cursor:pointer"
                      shape="poly" coords="216,105,225,109,225,120,216,124,207,120,207,109"
                      onmouseover="mouseOverColor(&quot;#993399&quot;)" alt="#993399"><area style="cursor:pointer"
                      shape="poly" coords="27,120,36,124,36,135,27,139,18,135,18,124"
                      onmouseover="mouseOverColor(&quot;#333300&quot;)" alt="#333300"><area style="cursor:pointer"
                      shape="poly" coords="45,120,54,124,54,135,45,139,36,135,36,124"
                      onmouseover="mouseOverColor(&quot;#669900&quot;)" alt="#669900"><area style="cursor:pointer"
                      shape="poly" coords="63,120,72,124,72,135,63,139,54,135,54,124"
                      onmouseover="mouseOverColor(&quot;#99FF33&quot;)"
                      alt="#99FF33"><area style="cursor:pointer" shape="poly"
                      coords="81,120,90,124,90,135,81,139,72,135,72,124"
                      onmouseover="mouseOverColor(&quot;#CCFF66&quot;)"
                      alt="#CCFF66"><area style="cursor:pointer" shape="poly"
                      coords="99,120,108,124,108,135,99,139,90,135,90,124"
                      onmouseover="mouseOverColor(&quot;#FFFF99&quot;)"
                      alt="#FFFF99"><area style="cursor:pointer" shape="poly"
                      coords="117,120,126,124,126,135,117,139,108,135,108,124"
                      onmouseover="mouseOverColor(&quot;#FFCC99&quot;)" alt="#FFCC99"><area style="cursor:pointer"
                      shape="poly" coords="135,120,144,124,144,135,135,139,126,135,126,124"
                      onmouseover="mouseOverColor(&quot;#FF9999&quot;)" alt="#FF9999"><area style="cursor:pointer"
                      shape="poly" coords="153,120,162,124,162,135,153,139,144,135,144,124"
                      onmouseover="mouseOverColor(&quot;#FF6699&quot;)" alt="#FF6699"><area style="cursor:pointer"
                      shape="poly" coords="171,120,180,124,180,135,171,139,162,135,162,124"
                      onmouseover="mouseOverColor(&quot;#FF3399&quot;)" alt="#FF3399"><area style="cursor:pointer"
                      shape="poly" coords="189,120,198,124,198,135,189,139,180,135,180,124"
                      onmouseover="mouseOverColor(&quot;#CC3399&quot;)" alt="#CC3399"><area style="cursor:pointer"
                      shape="poly" coords="207,120,216,124,216,135,207,139,198,135,198,124"
                      onmouseover="mouseOverColor(&quot;#990099&quot;)" alt="#990099"><area style="cursor:pointer"
                      shape="poly" coords="36,135,45,139,45,150,36,154,27,150,27,139"
                      onmouseover="mouseOverColor(&quot;#666633&quot;)"
                      alt="#666633"><area style="cursor:pointer" shape="poly"
                      coords="54,135,63,139,63,150,54,154,45,150,45,139"
                      onmouseover="mouseOverColor(&quot;#99CC00&quot;)"
                      alt="#99CC00"><area style="cursor:pointer" shape="poly"
                      coords="72,135,81,139,81,150,72,154,63,150,63,139"
                      onmouseover="mouseOverColor(&quot;#CCFF33&quot;)"
                      alt="#CCFF33"><area style="cursor:pointer" shape="poly"
                      coords="90,135,99,139,99,150,90,154,81,150,81,139"
                      onmouseover="mouseOverColor(&quot;#FFFF66&quot;)"
                      alt="#FFFF66"><area style="cursor:pointer" shape="poly"
                      coords="108,135,117,139,117,150,108,154,99,150,99,139"
                      onmouseover="mouseOverColor(&quot;#FFCC66&quot;)"
                      alt="#FFCC66"><area style="cursor:pointer" shape="poly"
                      coords="126,135,135,139,135,150,126,154,117,150,117,139"
                      onmouseover="mouseOverColor(&quot;#FF9966&quot;)" alt="#FF9966"><area style="cursor:pointer"
                      shape="poly" coords="144,135,153,139,153,150,144,154,135,150,135,139"
                      onmouseover="mouseOverColor(&quot;#FF6666&quot;)" alt="#FF6666"><area style="cursor:pointer"
                      shape="poly" coords="162,135,171,139,171,150,162,154,153,150,153,139"
                      onmouseover="mouseOverColor(&quot;#FF0066&quot;)" alt="#FF0066"><area style="cursor:pointer"
                      shape="poly" coords="180,135,189,139,189,150,180,154,171,150,171,139"
                      onmouseover="mouseOverColor(&quot;#CC6699&quot;)" alt="#CC6699"><area style="cursor:pointer"
                      shape="poly" coords="198,135,207,139,207,150,198,154,189,150,189,139"
                      onmouseover="mouseOverColor(&quot;#993366&quot;)" alt="#993366"><area style="cursor:pointer"
                      shape="poly" coords="45,150,54,154,54,165,45,169,36,165,36,154"
                      onmouseover="mouseOverColor(&quot;#999966&quot;)"
                      alt="#999966"><area style="cursor:pointer" shape="poly"
                      coords="63,150,72,154,72,165,63,169,54,165,54,154"
                      onmouseover="mouseOverColor(&quot;#CCCC00&quot;)"
                      alt="#CCCC00"><area style="cursor:pointer" shape="poly"
                      coords="81,150,90,154,90,165,81,169,72,165,72,154"
                      onmouseover="mouseOverColor(&quot;#FFFF00&quot;)"
                      alt="#FFFF00"><area style="cursor:pointer" shape="poly"
                      coords="99,150,108,154,108,165,99,169,90,165,90,154"
                      onmouseover="mouseOverColor(&quot;#FFCC00&quot;)"
                      alt="#FFCC00"><area style="cursor:pointer" shape="poly"
                      coords="117,150,126,154,126,165,117,169,108,165,108,154"
                      onmouseover="mouseOverColor(&quot;#FF9933&quot;)" alt="#FF9933"><area style="cursor:pointer"
                      shape="poly" coords="135,150,144,154,144,165,135,169,126,165,126,154"
                      onmouseover="mouseOverColor(&quot;#FF6600&quot;)" alt="#FF6600"><area style="cursor:pointer"
                      shape="poly" coords="153,150,162,154,162,165,153,169,144,165,144,154"
                      onmouseover="mouseOverColor(&quot;#FF5050&quot;)" alt="#FF5050"><area style="cursor:pointer"
                      shape="poly" coords="171,150,180,154,180,165,171,169,162,165,162,154"
                      onmouseover="mouseOverColor(&quot;#CC0066&quot;)" alt="#CC0066"><area style="cursor:pointer"
                      shape="poly" coords="189,150,198,154,198,165,189,169,180,165,180,154"
                      onmouseover="mouseOverColor(&quot;#660033&quot;)" alt="#660033"><area style="cursor:pointer"
                      shape="poly" coords="54,165,63,169,63,180,54,184,45,180,45,169"
                      onmouseover="mouseOverColor(&quot;#996633&quot;)"
                      alt="#996633"><area style="cursor:pointer" shape="poly"
                      coords="72,165,81,169,81,180,72,184,63,180,63,169"
                      onmouseover="mouseOverColor(&quot;#CC9900&quot;)"
                      alt="#CC9900"><area style="cursor:pointer" shape="poly"
                      coords="90,165,99,169,99,180,90,184,81,180,81,169"
                      onmouseover="mouseOverColor(&quot;#FF9900&quot;)"
                      alt="#FF9900"><area style="cursor:pointer" shape="poly"
                      coords="108,165,117,169,117,180,108,184,99,180,99,169"
                      onmouseover="mouseOverColor(&quot;#CC6600&quot;)"
                      alt="#CC6600"><area style="cursor:pointer" shape="poly"
                      coords="126,165,135,169,135,180,126,184,117,180,117,169"
                      onmouseover="mouseOverColor(&quot;#FF3300&quot;)" alt="#FF3300"><area style="cursor:pointer"
                      shape="poly" coords="144,165,153,169,153,180,144,184,135,180,135,169"
                      onmouseover="mouseOverColor(&quot;#FF0000&quot;)" alt="#FF0000"><area style="cursor:pointer"
                      shape="poly" coords="162,165,171,169,171,180,162,184,153,180,153,169"
                      onmouseover="mouseOverColor(&quot;#CC0000&quot;)" alt="#CC0000"><area style="cursor:pointer"
                      shape="poly" coords="180,165,189,169,189,180,180,184,171,180,171,169"
                      onmouseover="mouseOverColor(&quot;#990033&quot;)" alt="#990033"><area style="cursor:pointer"
                      shape="poly" coords="63,180,72,184,72,195,63,199,54,195,54,184"
                      onmouseover="mouseOverColor(&quot;#663300&quot;)"
                      alt="#663300"><area style="cursor:pointer" shape="poly"
                      coords="81,180,90,184,90,195,81,199,72,195,72,184"
                      onmouseover="mouseOverColor(&quot;#996600&quot;)"
                      alt="#996600"><area style="cursor:pointer" shape="poly"
                      coords="99,180,108,184,108,195,99,199,90,195,90,184"
                      onmouseover="mouseOverColor(&quot;#CC3300&quot;)"
                      alt="#CC3300"><area style="cursor:pointer" shape="poly"
                      coords="117,180,126,184,126,195,117,199,108,195,108,184"
                      onmouseover="mouseOverColor(&quot;#993300&quot;)" alt="#993300"><area style="cursor:pointer"
                      shape="poly" coords="135,180,144,184,144,195,135,199,126,195,126,184"
                      onmouseover="mouseOverColor(&quot;#990000&quot;)" alt="#990000"><area style="cursor:pointer"
                      shape="poly" coords="153,180,162,184,162,195,153,199,144,195,144,184"
                      onmouseover="mouseOverColor(&quot;#800000&quot;)" alt="#800000"><area style="cursor:pointer"
                      shape="poly" coords="171,180,180,184,180,195,171,199,162,195,162,184"
                      onmouseover="mouseOverColor(&quot;#993333&quot;)" alt="#993333"></map>
                </div>

              </div>

              <div id="hex" style="margin-top: -85px;"></div>
              <div id="view"></div>

              <div class="right">
                <h6 id="selected-color-label">Selected color</h6>
                <div id="hexC"></div>
                <div id="viewC"></div>
              </div>
            </div>

            <div class="col-12">
              <div style="margin-top: 44px;">
                <h4 class="modal-title">Custom</h4>
                <div class="form-group" style="display: flex;margin-left: 20px;margin-top: 20px;">
                <label for="custom-color" style="flex: 0.4;font-size: 13px;margin-top: 3px;">Pick a Color</label>
                <input type="color" class="form-control" value="#000002" name="custom-color" oninput="customColorChange(this)"
                  id="custom-color-icon" style="width: 50%;margin-left: 16px;">
                </div>
              </div>

            </div>


          </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter" id="close_morecolors" data-dismiss="modal">Close <i class="fas fa-times pl-3"></i></button>
        <button type="button" class="btn buttonfooter" data-dismiss="modal" id="save-morecolors"
          style="justify-content: flex-end">Save  <i class="fa-solid fa-floppy-disk pl-3"></i></button>
      </div>
    </div>
  </div>
</div>
<!-- More Colors Modal for template2 -->
<div class="modal fade" id="morecolors1" tabindex="-1" role="dialog" aria-labelledby="morecolors1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style="max-width: 1026px;justify-content: center;" role="document">
    <div class="modal-content" style="min-height: 461px;width:50%">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">Select the Gradient</h4>
        <button type="button" class="btn btn-secondary" style="background-color: var(--primary-color);font-size: 13px; display:none"
        data-dismiss="modal" id="gobackcolors" aria-label="Close">
      </button>
      </div>
      <div class=" modal-body">
          <div class="row">
            <div class="col-12">
              <div>
                <div class="form-group" style="display: flex;">
                <label for="color1" style="flex: 0.4;font-size: 13px;margin-top: 3px;">Pick a Color 1</label>
                <input type="color" value="#FFFFFF" class="form-control color1" name="color1" id="color1"
                  id="custom-color-icon" style="width: 50%;margin-left: 16px;border: unset;">
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <div>
                <div class="form-group" style="display: flex;">
                <label for="color2" style="flex: 0.4;font-size: 13px;margin-top: 3px;">Pick a Color 2</label>
                <input type="color" class="form-control color2" name="color2" id="color2"
                  id="custom-color-icon" value="#000000" style="width: 50%;margin-left: 16px;border: unset;">
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <div class="d-flex justify-content-start align-items-center">
                <label for="selecGAngle" style="flex: 0.4;font-size: 13px;margin-top: 3px;">Select Angle</label>
                <select name="toDirection" id="selecGAngle" class="selectangle select2 form-control" style="width: 50%;border: unset;">
                  <option value="empty2">Select the Angle</option>
                  <option value="to right">to right</option>
                  <option value="to right bottom">to right bottom</option>
                  <option value="to right top">to right top</option>
                  <option value="to left">to left</option>
                  <option value="to left bottom">to left bottom</option>
                  <option value="to left top">to left top</option>
                  <option value="to bottom">to bottom</option>
                  <option value="to top">to top</option>
                </select>
              </div>
            </div>
          </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter" id="close_morecolors" data-dismiss="modal">Close <i class="fas fa-times"></i></button>
        <button type="button" class="btn buttonfooter" data-dismiss="modal" id="save-morecolors1"
          style="justify-content: flex-end">Save  <i class="fa-solid fa-floppy-disk"></i></button>
      </div>
    </div>
  </div>
</div>

<!-- More Icons Modal -->
<div class="modal fade" id="moreicons" tabindex="-1" role="dialog" aria-labelledby="moreicons" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style="max-width: 1022px;" role="document">
    <div class="modal-content" style="min-height: 400px;width:100%">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">More Icons</h4>
      </div>
      <div class="modal-body">
        <input type="text" name="search-icons" id="search-icons" onkeyup="searchIcons()" placeholder="Search Icons">
        <div class="wrapper" style="height: 426px; overflow-y: auto;">
          <div id="icons_category">
            {% for category,icons in icons_data.items %}
            <h5>{{category}}</h5>
            <ul class="icon-picker-list" id="icons">
              {% for i in icons %}

              <li id="icon1">
                <a class="icon_a" data-class="{{i}}" data-index="">
                  <span class="{{i}}" aria-hidden="true"></span>
                </a>
              </li>
              {% endfor %}
            </ul>

            {% endfor %}

          </div>
          <div class="icons_without_category" id="icons_without_category" style="display: none;">
            <ul class="icon-picker-list" id="icons">
              {% for i in icons_without_category %}
              <li id="icon2">
                <a class="icon_a" data-class="{{i}}" data-index="">
                  <span class="{{i}}" aria-hidden="true"></span>
                </a>
              </li>
              {% endfor %}
            </ul>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter" data-dismiss="modal">Close <i class="fas fa-times pl-3"></i></button>
        <button type="button" class="btn buttonfooter" data-dismiss="modal">Save <i class="fa-solid fa-floppy-disk pl-3"></i></button>
      </div>
    </div>
  </div>
</div>

<!-- App Database modal -->
<div class="modal fade" id="AppDatabaseModal" tabindex="-1" role="dialog" aria-labelledby="AppDatabaseModal"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document" style="max-width: 840px;">
    <div class="modal-content" style="min-height: 622px;width: 100%;">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">App Database</h4><span id="dbCreationStage"
          style="color: black;"></span>
          <button type="button" class="btn btn-secondary" style="background-color: var(--primary-color);font-size: 13px; display:none"
          data-dismiss="modal" id="goback_appdatabase" aria-label="Close">
        </button>
      </div>
      <div class="modal-body">
        <div class="form-row" id="appDatabseContainer">
          <div id="div_id_select_database" class="col-md-12">
            <label for="selectDatabase" class="requiredField">
              Link App to<span class="asteriskField">*</span>
            </label>
            <select class="selectize form-control" name="selectDatabase" id='selectDatabase' placeholder="Select Database">
              <option value="default" selected="selected" disabled>Select database</option>
              {% for j in db_connection_list %}
              <option value="{{j}}">{{j}}</option>
              {% endfor %}
            </select>
          </div>
          <div id="div_id_business_model_name" class="col-md-12 mt-4 BusinessModelContainer" style="display: none;">
            <label for="selectBusinessModelNewApp" class=" requiredField">
              Business Model<span class="asteriskField"></span>
            </label>
            <select class="selectize form-control" name="businessModelList" id='selectBusinessModelNewApp' placeholder="Select Business Model">
              <option value="default" selected disabled>Select business model</option>
            </select>
            <span id="alertSpanBM" style="display:none;color:red;">Business Model already exists in the application!
              Please add a new one.
            </span>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn buttonfooter" data-dismiss="modal"  id="close_appDatabase"> Cancel<i class="fas fa-times pl-2"></i></button>
        <button type="button" class="btn buttonfooter" id="saveDatabaseModal"  data-dismiss="modal" disabled>Save <i class="fa-solid fa-floppy-disk pl-2"></i></button>
      </div>
    </div>
  </div>
</div>

<script>

  function openSystemApp(element){
    if (element == "dashboard"){
      window.location.href = '/users/selectDashboard/'
    }
    else if (element == "planner"){
      window.location.href = '/users/planner/'
    }
    else{
      ;
    }

  }

  $(document).ready(function() {
  var isSortingEnabled = false;
  var app_order = [];

  $("#sortableContainer").disableSelection();

  function enableSorting() {
    $("#sortableContainer").sortable({
      revert: true,
      tolerance: "pointer",
      cursor: "move",
      items:"> .sortableItem:not(.no_sort)",
      update: function(event, ui) {
        if (isSortingEnabled) {
        }
      },
      start: function(event, ui) {
        if (!isSortingEnabled) {
          return false;
        }
      }
    }).sortable("enable");

    $(".sortableItem").draggable({
      connectToSortable: "#sortableContainer",
      helper: "original",
      revert: "invalid"
    }).draggable("enable");

    $("#dragSort").text("Save app drawer");
    isSortingEnabled = true;
  }

  function disableSorting() {
    $("#sortableContainer").sortable("disable");
    $(".sortableItem").draggable("disable");
    $("#dragSort").text("Re-order Apps");
    isSortingEnabled = false;
    logSortedOrder();
  }

  $("#dragSort").click(function() {
    if (!isSortingEnabled) {
      enableSorting();
    } else {
      disableSorting();
    }
  });

  function logSortedOrder() {
    var sortedItems = $("#sortableContainer").sortable("toArray", { attribute: "appCode" });
    app_order = sortedItems;
    $.ajax({
      url: '/users/selectApplication/',
      data: {
        'app_order': JSON.stringify(app_order),
        'operation': 'saveAppOrder',
      },
      type: "POST",
      dataType: "json",
      success: function(data) {
        location.reload();
      }
    });
  }
});




var uri = window.location.href.toString();
  if (uri.indexOf("?") > 0) {
      var clean_uri = uri.substring(0, uri.indexOf("?"));
      window.history.replaceState({}, document.title, clean_uri);
  }

  if('{{is_app_update_available}}'=="True"){
    Swal.fire({text:"There is a new update available. Do you want to update applications?",icon:"question",showDenyButton: true,showCancelButton: true,confirmButtonText: 'Yes',denyButtonText: 'No'})
    .then((result) => {
      if (result.isConfirmed) {
        $.ajax({
          url: '/users/selectApplication/',
          data: {"operation":"updateAllApps"},
          type: "POST",
          dataType: "json",
          success: function (data) {
            Swal.fire({text:data["response"],icon:data["icon"]});

          },
          error: function () {
            Swal.fire({text:"Error",icon:"error"});
          }
        });
      }
    })
  }

  $(document).ready(()=>{
    $('select.select2:not(.modal select.select2)').each(function(){
      parent = $(this).parent()
      $(this).select2({dropdownParent:parent})
    })
    $('.modal select.select2').each(function(){
      $(this).select2()
    })
  });

  var profileMissing = '{{ missing_profile }}'
  if (profileMissing == "True") {
    Swal.fire({
      icon:'question',
      text: `No profile associated with your account detected. Do you want to create one? \n\nClick 'Yes' to confirm or click 'No' if you do not wish to create it.`,
      showDenyButton: true,
      showCancelButton: true,
      confirmButtonText: 'Yes',
      denyButtonText: 'No',
    }).then((result) => {
      if (result.isConfirmed) {
        confirmDel = true
        if(confirmDel){
          $.ajax({
            url: window.location.pathname,
            data: {
            'operation': 'createUserProfile',
            },
            type: "POST",
            dataType: "json",
            success: function (data) {
              if (data.response == "success") {
                Swal.fire({text:"Profile successfully created!",icon:"success"})
              } else {
                Swal.fire({text:data["response"],icon:"error"})
              }
            },
            error: function (data) {
              Swal.fire({text:data["response"],icon:"error"})
            }
          });
        }
      }
    });
  }

function rgb2hex(rgb){
 rgb = rgb.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);
 return (rgb && rgb.length === 4) ? "#" +
  ("0" + parseInt(rgb[1],10).toString(16)).slice(-2) +
  ("0" + parseInt(rgb[2],10).toString(16)).slice(-2) +
  ("0" + parseInt(rgb[3],10).toString(16)).slice(-2) : '';
}

  function display_button(modal_id,button_id,type){
    var empty = false
    var counter = 0

    var tick_ids=$(modal_id)
    if(type=="sys_app"){
    }


    tick_ids.each(function(element){
      if($(this).css("color") != "rgb(255, 255, 255)"){
        counter++;
      }
    })
    if(counter != $(modal_id).length){
      $(button_id).prop('disabled', true)
    }else{
      $(button_id).prop('disabled', false)
    }
  }

  $("#applicationDesign, #applicationDesignBackup, #applicationDatabaseBackup, #applicationDatabase, #applicationDatabaseExcel").click(function(){
    event.preventDefault()
  })


  var db_connection_list = {{db_connection_list | safe}}


  var edit = false

  var fresh = false
  var app_create_excel = false
  var backup = false

  var edit_appcode =""
  var edit_appname = null

  function edit_app(app_name, app_code, app_card_color, app_icon_color, app_icon, app_text_color, app_desc,app_text_description_color,t3_app_size, link_url) {

    $('.app_icon_color_code .color-checkspan').each(function () {
      const app_icon_code_color = $(this).css('background');
      if (rgb2hex(app_icon_code_color) === app_icon_color) {
        $(this).append('<i class="fa-solid fa-check" style="margin-top: 6px;margin-left: 8px;"></i>');
        $(this).attr("id", "selected")
      } else {
        $(this).removeAttr('id');
      }
    });

    $('.app_text_color_code .color-checkspan').each(function () {
      const app_text_code_color = $(this).css('background');
      if (rgb2hex(app_text_code_color) === app_text_color) {
        $(this).append('<i class="fa-solid fa-check" style="margin-top: 6px;margin-left: 8px;"></i>');
        $(this).attr("id", "selected");
      } else {
        $(this).removeAttr('id');
      }
    });

    $('.app_text_description_color_code .color-checkspan').each(function () {
      const app_text_description_code_color = $(this).css('background');
      if (rgb2hex(app_text_description_code_color) === app_text_description_color) {
        $(this).append('<i class="fa-solid fa-check" style="margin-top: 6px;margin-left: 8px;"></i>');
        $(this).attr("id", "selected");
      } else {
        $(this).removeAttr('id');
      }
    });

    $(".icons a .listoficons").each(function() {
      if ($(this).hasClass(app_icon)) {
        $(this).attr("id", "selected");
        $(this).css("color", "white");
        $(this).css("background", "var(--primary-color)");
      }else{
        $(this).removeAttr('id');
      }
    });

    $('.app_card_color_code .color-checkspan').each(function () {
      const app_card_code_color = $(this).css('background');
      const isAppCardCodeColorRGB = app_card_code_color.startsWith('rgb');
      const isAppCardColorRGB = app_card_color.startsWith('rgb');
      const convertedAppCardCodeColor = isAppCardCodeColorRGB ? rgb2hex(app_card_code_color) : app_card_code_color;
      const convertedAppCardColor = isAppCardColorRGB ? rgb2hex(app_card_color) : app_card_color;
      if (convertedAppCardCodeColor === convertedAppCardColor) {
        $(this).append('<i class="fa-solid fa-check" style="margin-top: 6px;margin-left: 8px;"></i>');
        $(this).attr('id', 'selected');
      } else {
        $(this).removeAttr('id');
      }
    });

    $('.more_colors').click(function(){
      if($(this).attr('id') === 'more-iconcolors-button'){
        $('#viewC').css('background-color', app_icon_color)
      }
      if($(this).attr('id') === 'more-textcolors-button'){
        $('#viewC').css('background-color', app_text_color)
      }
      if($(this).attr('id') === 'more-cardcolors-button'){
        $('#viewC').css('background-color', app_card_color)
      }
      if($(this).attr('id') === 'more-descriptionTextColors-button'){
        $('#viewC').css('background-color', app_text_description_color)
      }
    })

    if (app_card_color.includes("linear-gradient")) {
      $("#gradientInputType").prop("checked", true);
      $("#solidColorTypeItems").css("display", "none");
      $("#gradientColorTypeItems").css("display", "block");

      function extractLinearGradient(linearGradient) {
        var pattern = /rgba\((\d+),\s+(\d+),\s+(\d+),\s+(\d+)\)\s+linear-gradient\(to\s+((?:right|left|top|bottom)(?:\s+(?:right|left|top|bottom))?),\s+rgb\((\d+),\s+(\d+),\s+(\d+)\),\s+rgb\((\d+),\s+(\d+),\s+(\d+)\)\)\s+(\w+)\s+(\w+)\s+(\d+%)\s+(\d+%)\s+\/\s+(\w+)\s+(\w+)/;

        var match = linearGradient.match(pattern);

        return match ? {
          color1: {
            r: parseInt(match[6]),
            g: parseInt(match[7]),
            b: parseInt(match[8])
          },
          color2: {
            r: parseInt(match[9]),
            g: parseInt(match[10]),
            b: parseInt(match[11])
          },
          angle: match[5]
        } : null;
      }

      var result = extractLinearGradient(app_card_color);

      if (result) {
        var angle = "to " + result.angle;
        var color1 = result.color1;
        var color2 = result.color2;
        var rgbColor1 = `rgb(${color1.r},${color1.g},${color1.b})`;
        var rgbColor2 = `rgb(${color2.r},${color2.g},${color2.b})`;
        c1 = rgb2hex(rgbColor1);
        c2 = rgb2hex(rgbColor2);
        $("#color1").val(c1);
        $("#color2").val(c2);
        $("#selectangle").val(angle).trigger("change.select2");
      }
    } else {
      $("#solidInputType").prop("checked", true);
      $("#solidColorTypeItems").css("display","block");
      $("#gradientColorTypeItems").css("display","none");
    }
    if(t3_app_size){
      $("#selectAppSizes").val(t3_app_size).trigger("change.select2");
    }

    edit = true
    if(app_code.startsWith("Link")){
      edit_appname = app_name
      edit_appcode = app_code
      $('#newHyperlinkdetails').modal({backdrop: 'static', keyboard: false})
      $('#newHyperlinkdetails').modal('show');

      $('#hyperlinkName').val(app_name);
      $('#hyperlinkDesc').val(app_desc);
      $('#hyperlinkUrl').val(link_url);

      $(".app_preview h5").css("color", app_text_color);
      $("#link_preview_icon").css("color", app_icon_color);
      $("#app_preview_icon_design").css("color", app_icon_color);
      $(".desc_app_preview .info-box-text").text(app_desc);
      $(".name_app_preview h5").text(app_name);
      $(".app-name.template4").text(app_name);
      $("#link_preview_icon").attr("class", app_icon);
      $("#app_preview_icon_design").attr("class", app_icon);

      if ("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
      $(".name_app_preview").css("background", app_card_color);
      }
      if ("{{app_template}}" == "template2"){
        $(".app_workspace.HLtemplate2_preview").css("background", app_card_color);
        $(".name_app_preview.row").css("background-color", "unset");
        $(".HLt2appDescription").css("color",app_text_description_color );
        $("#link_preview_icon").attr("class", app_icon);
        $("#link_preview_icon").css("color", app_icon_color);
        $(".apps_options1").css("color", app_icon_color);
      }
      if ("{{app_template}}" == "template3"){
        $(".app_workspace.HLtemplate3_preview").css("background", app_card_color);
        $(".name_app_preview.row").css("background-color", "unset");
        $("#link_preview_icon").attr("class", app_icon);
        $("#link_preview_icon").css("color", app_icon_color);
        $(".apps_options1").css("color", app_icon_color);
      }
      if ("{{app_template}}" == "template4" || "{{app_template}}" == "template5"){
        $("#linktemplate4_appIcon").attr("class", app_icon);
        $("#linktemplate4_appIcon").css("color", app_icon_color);
        $("#appdesigntemplate4_appIcon").attr("class", app_icon);
        $("#appdesigntemplate4_appIcon").css("color", app_icon_color);
        $(".app-name.template4").css("color", app_text_color);
        if("{{app_template}}" == "template4"){
          $(".app-container.HLtemplate4_preview").css("background", app_card_color);
        }
      }

      $("#hyperlinkDatabase + #check-tick").css("color", "green");
      $("#hyperlinkDesign + #check-tick").css("color", "green");

      $("#goback").css("display","")

      $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      $("#appDesignsave").prop("disabled",false);

      $("#saveDatabaseModal").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      $("#saveDatabaseModal").prop("disabled",false);

      var value = $("#hyperlinkName").val()
      $(".remaining-count-linkname").text(`${value.length}/24`);
      if(value.length>24){
        $(".remaining-count-linkname + #check-tick").css("color", "white");
        $("#hyperlinkName").css("border-color","red")
      }
      else{
        $("#hyperlinkName").css("border-color","#c5c5c0")
        $(".remaining-count-linkname + #check-tick").css("color", "green");
      }

      var value = $("#hyperlinkDesc").val()
      $(".remaining-count-linkdesc").text(`${value.length}/45`);
      if(value.length>45){
        $(".remaining-count-linkdesc + #check-tick").css("color", "white");
        $("#hyperlinkDesc").css("border-color","red")
      }
      else{
        $("#hyperlinkDesc").css("border-color","#c5c5c0")
        $(".remaining-count-linkdesc + #check-tick").css("color", "green");
      }

      var value_url = $('#hyperlinkUrl').val()
        if(/^(http:\/\/|https:\/\/|http:\/\/|https:\/\/)[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,}(:[0-9]{1,})?(\/.*)?$/.test(value_url)){
          $("#hyperlinkUrl + #check-tick").css("color", "green");
        } else {
          $("#hyperlinkUrl + #check-tick").css("color", "white");
        }

      display_button("#newHyperlinkdetails #check-tick", "#saveNewHyperlink")
    }
    else
    {

      var app_theme_html = `
        <div id="div_id_application_theme" class="form-group-expand-flex col-md-12">
          <label for="applicationTheme" style="width:47%">
            App Theme <span class="optional">(Optional)</span>
          </label>
          <div class="expand-check-group">
            <button name="applicationTheme" class="fuller-button" required
              id="applicationTheme" data-toggle="modal" data-target="#AppThemeModal" data-backdrop="static" data-keyboard="false"> Expand <i
                class="fa-solid fa-share"></i> </button>
          </div>
        </div>
      `

      $("#newAppdetails").find("#div_id_application_theme").remove()

      $("#newAppdetails #div_id_application_database").after(app_theme_html)

      if( !mobileview.matches){
        $("#applicationTheme").click(function(){
          $("#nav-global-tab").trigger("click")
        })
      }


      $("#AppThemeModal").attr("data-appcode", app_code)

    edit_appcode = app_code
    edit_appname = app_name
    $('#newAppdetails').modal({backdrop: 'static', keyboard: false})
    $('#newAppdetails').modal('show');
    $('#applicationName').val(app_name);
    $('#applicationDesc').val(app_desc);
    $(".app_preview h5").css("color", app_text_color);
    $("#app_preview_icon").css("color", app_icon_color);
    $("#app_preview_icon_design").css("color", app_icon_color);
    $(".desc_app_preview .info-box-text").text(app_desc);
    $(".name_app_preview h5").text(app_name);
    $(".app-name.template4").text(app_name);
    $("#app_preview_icon").attr("class", app_icon);
    $("#app_preview_icon_design").attr("class", app_icon);
    $("#app_preview_icon_design1").css("color", app_icon_color);
    $(".name_app_preview").css("background", app_card_color);

    if ("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
      $(".name_app_preview").css("background", app_card_color);
    }
    if ("{{app_template}}" == "template2"){
      $(".apps_options1").css("color", app_icon_color);
      $(".app_workspace.template2_preview").css("background", app_card_color);
      $(".name_app_preview.row").css("background", "unset");
      $(".t2appDescription").css("color", app_text_description_color);
    }
    if ("{{app_template}}" == "template3"){
      $(".app_workspace.template3_preview").css("background", app_card_color);
      $(".name_app_preview.row").css("background-color", "unset");
      $(".apps_options1").css("color", app_icon_color);
      if(t3_app_size == null){
        $(".app_workspace.app_preview.template3_preview").css("width", "13rem");
        $(".app_workspace.app_preview.HLtemplate3_preview").css("width", "13rem");
      }
      if(t3_app_size === 'Square'){
          $(".app_workspace.app_preview.template3_preview").css("width", "13rem")
          $(".app_workspace.app_preview.HLtemplate3_preview").css("width", "13rem");
      }
      if(t3_app_size === 'Rectangle'){
          $(".app_workspace.app_preview.HLtemplate3_preview").css("width", "22rem");
          $(".app_workspace.app_preview.HLtemplate3_preview").css("width", "22rem");
        }

      if(t3_app_size === 'cube'){
        $(".appNameDiv").css("display", "none");
          $(".app_workspace.app_preview.HLtemplate3_preview").css("width", "8rem");
          $(".app_workspace.app_preview.HLtemplate3_preview").css("width", "8rem");
      }
    }

    if ("{{app_template}}" == "template4" || "{{app_template}}" == "template5"){
        $("#template4_appIcon").attr("class", app_icon);
        $("#template4_appIcon").css("color", app_icon_color);
        $("#appdesigntemplate4_appIcon").attr("class", app_icon);
        $("#appdesigntemplate4_appIcon").css("color", app_icon_color);
        $(".app-name.template4").css("color", app_text_color);
        if("{{app_template}}" == "template4"){
          $(".app-container.template4_preview").css("background", app_card_color);
        }
      }
    $("#applicationDatabase + #check-tick").css("color", "green");
    $("#applicationDesign + #check-tick").css("color", "green");

    $("#goback").css("display","")

      $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      $("#appDesignsave").prop("disabled",false);

      $("#saveDatabaseModal").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      $("#saveDatabaseModal").prop("disabled",false);

      var value = $("#applicationName").val()
      $(".remaining-count-name").text(`${value.length}/24`);
      if(value.length>24){
        $(".remaining-count-name + #check-tick").css("color", "white");
        $("#applicationName").css("border-color","red")
      }
      else{
        $("#applicationName").css("border-color","#c5c5c0")
        $(".remaining-count-name + #check-tick").css("color", "green");
      }

      var value = $("#applicationDesc").val()
      $(".remaining-count-desc").text(`${value.length}/45`);
      if(value.length>45){
        $(".remaining-count-desc + #check-tick").css("color", "white");
        $("#applicationDesc").css("border-color","red")
      }
      else{
        $("#applicationDesc").css("border-color","#c5c5c0")
        $(".remaining-count-desc + #check-tick").css("color", "green");
      }

      display_button("#newAppdetails #check-tick", "#saveNewApplication")
    }

  }

  $(".create_new_application_modal").click(function(){
    fresh = true
    app_create_excel = false
    backup = false

    $("#div_id_application_theme").remove()
    $("#saveNewApplication").prop("disabled",true)
  })
  $(".create_template_application_modal").click(function(){
    app_create_excel = true
    fresh = false
    backup = false
  })
  $(".load_existing_application_modal").click(function(){
    backup = true
    fresh = false
    app_create_excel = false
  })

  $('#hyperlinkUrl').on('input', function(e) {
    if(/^(http:\/\/|https:\/\/|http:\/\/|https:\/\/)[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,}(:[0-9]{1,})?(\/.*)?$/.test($(this).val())){
      $("#hyperlinkUrl + #check-tick").css("color", "green");
    } else {
      $("#hyperlinkUrl + #check-tick").css("color", "white");
    }
    display_button("#newHyperlinkdetails #check-tick", "#saveNewHyperlink")
  })


  $("#applicationName, #applicationNameBackup, #hyperlinkName").keyup(function () {
    var remainingCount = 0
    var value = this.value.length
    var element_id=""
    var element_class = ""
    var modal_id = ""
    var button_id = ""
    var check = [];
    var appList = {{ applications | safe}};
    var externalAppList = {{ external_apps | safe}};
    var checkLink = []
    var bool_applicationName = true

    for (const i of appList) {
      check.push(i.application_name);
    }
    for (const i of externalAppList) {
      checkLink.push(i.hyperlink_name);
    }

    if(this.id == "applicationName"){
      element_id = "#applicationName"
      element_class= ".remaining-count-name"
      modal_id = "#newAppdetails #check-tick"
      button_id = "#saveNewApplication"

      if(sys_edit){
        modal_id = "#newAppdetails .sys_app_tick#check-tick"
      }

      var applicationName = ($("#applicationName").val());
      $(".name_app_preview h5").text(applicationName);
      $(".app-name.template4").text(applicationName);
      var newvar = applicationName;

        for (i = 0; i < check.length; i++) {
          if((newvar)==check[i] && !(edit_appname == check[i] && edit)){
            $('#alertSpanApp').css("display", "block");
            $('#alertSpanApp').css("margin-bottom", "1em");
            $('#div_id_application_name').css("margin-bottom", "0em");
            bool_applicationName = false
          }
          $('#applicationName').on('keydown', function (event) {
            const key = event.key;
            if (key === "Backspace" || key === "Delete") {
              $('#alertSpanApp').css("display", "none");
              $('#div_id_application_name').css("margin-bottom", "1em");
              bool_applicationName = true
            };
          });
          $('#applicationName').keypress(function () {
            $('#alertSpanApp').css("display", "none");
            $('#div_id_application_name').css("margin-bottom", "1em");
            bool_applicationName = true
          });
        }

    }
    else if(this.id == "applicationNameBackup"){
      element_id = "#applicationNameBackup"
      element_class= ".remaining-count-name-backup"
      if($("#appAstheticInput").prop("checked")){
        modal_id = "#backup #check-tick"
      }else{
        modal_id = ".required-backup-container #check-tick"
      }
      button_id = "#backupApplication"

      var applicationNameBackup = ($("#applicationNameBackup").val());
      $(".name_app_preview h5").text(applicationNameBackup);
      $(".app-name.template4").text(applicationNameBackup);
      var newvar = applicationNameBackup;

      for (i = 0; i < check.length; i++) {
        if((newvar)==check[i] && !(edit_appname == check[i] && edit)){
          $('#alertSpanAppBackup').css("display", "block");
          $('#alertSpanAppBackup').css("margin-bottom", "1em");
          $('#div_id_application_name_backup').css("margin-bottom", "0em");
          bool_applicationName = false
        }
        $('#applicationNameBackup').on('keydown', function (event) {
          const key = event.key;
          if (key === "Backspace" || key === "Delete") {
            $('#alertSpanAppBackup').css("display", "none");
            $('#div_id_application_name_backup').css("margin-bottom", "1em");
            bool_applicationName = true
          };
        });
        $('#applicationNameBackup').keypress(function () {
          $('#alertSpanAppBackup').css("display", "none");
          $('#div_id_application_name_backup').css("margin-bottom", "1em");
          bool_applicationName = true
        });
      }

    }
    else{
      element_id = "#hyperlinkName"
      element_class= ".remaining-count-linkname"
      modal_id = "#newHyperlinkdetails #check-tick"
      button_id = "#saveNewHyperlink"

      var hyperlinkName = ($("#hyperlinkName").val());
      $(".name_app_preview h5").text(hyperlinkName);
      $(".app-name.template4").text(hyperlinkName);
      var newvar = hyperlinkName;

        for (i = 0; i < check.length; i++) {
          if((newvar)==checkLink[i] && !(edit_appname == checkLink[i] && edit)){
            $('#alertSpanLink').css("display", "block");
            $('#alertSpanLink').css("margin-bottom", "1em");
            $('#div_id_hyperlink_name').css("margin-bottom", "0em");
            bool_applicationName = false
          }
          $('#hyperlinkName').on('keydown', function (event) {
            const key = event.key;
            if (key === "Backspace" || key === "Delete") {
              $('#alertSpanLink').css("display", "none");
              $('#div_id_hyperlink_name').css("margin-bottom", "1em");
              bool_applicationName = true
            };
          });
          $('#hyperlinkName').keypress(function () {
            $('#alertSpanLink').css("display", "none");
            $('#div_id_hyperlink_name').css("margin-bottom", "1em");
            bool_applicationName = true
          });
        }
    }

    $(element_class).text(`${value}/24`);
    if (value < 3 || value > 24) {
      $(`${element_class} + #check-tick`).css("color", "white");
      $(element_id).css("border-color","red");
    } else {
      if(bool_applicationName){
      $(`${element_class} + #check-tick`).css("color", "green");
      $(element_id).css("border-color","#c5c5c0");
      }
      else{
        $(`${element_class} + #check-tick`).css("color", "white");
        $(element_id).css("border-color","red");
      }
    }


    if(sys_edit){
      display_button(modal_id, button_id,"sys_app")
    }
    else{
      display_button(modal_id, button_id)
    }


  })


  $("#applicationDesc, #applicationDescBackup, #hyperlinkDesc").keyup(function () {
    var remainingCount = 0
    var value = this.value.length
    var element_id=""
    var element_class = ""

    if(this.id == "applicationDesc"){
      element_id = "#applicationDesc"
      element_class= ".remaining-count-desc"
      modal_id = "#newAppdetails #check-tick"
      button_id = "#saveNewApplication"
      var applicationDesc = ($("#applicationDesc").val());
      $(".desc_app_preview .info-box-text").text(applicationDesc);

      if(sys_edit){
        modal_id=("#newAppdetails .sys_app_tick#check-tick")
      }

    }
    else if(this.id == "applicationDescBackup"){
      element_id = "#applicationDescBackup"
      element_class= ".remaining-count-desc-backup"
      if($("#appAstheticInput").prop("checked")){
        modal_id = "#backup #check-tick"
      }else{
        modal_id = ".required-backup-container #check-tick"
      }
      button_id = "#backupApplication"
      var applicationDescBackup = ($("#applicationDescBackup").val());
      $(".desc_app_preview .info-box-text").text(applicationDescBackup);
    }
    else{
      element_id = "#hyperlinkDesc"
      element_class= ".remaining-count-linkdesc"
      modal_id = "#newHyperlinkdetails #check-tick"
      button_id = "#saveNewHyperlink"
      var hyperlinkDesc = ($("#hyperlinkDesc").val());
      $(".desc_app_preview .info-box-text").text(hyperlinkDesc);
    }

    $(element_class).text(`${value}/45`);
    if (value < 5 || value > 45) {
      $(`${element_class} + #check-tick`).css("color", "white");
      $(element_id).css("border-color","red");
    } else {
      $(`${element_class} + #check-tick`).css("color", "green");
      $(element_id).css("border-color","#c5c5c0");
    }

    if(sys_edit){
      display_button(modal_id, button_id,"sys_app")
    }
    else{
      display_button(modal_id, button_id)
    }

  })


  $(".select2").click(function () {
    $(".default").toggle();
  })

  $("#appAstheticInput").off('click').on('click', function () {
    if ($("#appAstheticInput").prop('checked')) {
      $(".container-backup").css("display", "block");
    } else {
      $(".container-backup").css("display", "none");
    }

    if($("#appAstheticInput").prop("checked")){
      modal_id = "#backup #check-tick";
    }else{
      modal_id = ".required-backup-container #check-tick";
    }

    button_id = "#backupApplication";

    display_button(modal_id,button_id)
  });

  $('#appCreationFile').change(function(){
    if($(this).val() != ""){
      $(`#excel-check-tick`).css("color", "green");
    }
    else{
      $(`#excel-check-tick`).css("color", "white");
    }
    if($("#app_create_excel #check-tick").css("color") != "rgb(0, 128, 0)"){
      $("#createAppfromTemplate").prop("disabled",true)
    }else{
      $("#createAppfromTemplate").prop("disabled",false)
    }
  })

  $("#backupFile").change(function(){
    var modal_id = ""
    var button_id = ""
    if($(this).val() != ""){
      $(`#backupfile-tick #check-tick`).css("color", "green");
    }
    else{
      $(`#backupfile-tick #check-tick`).css("color", "white");
    }

    if($("#appAstheticInput").prop("checked")){
        modal_id = "#backup #check-tick";
      }else{
        modal_id = ".required-backup-container #check-tick";
      }

      button_id = "#backupApplication";

    display_button(modal_id,button_id)
  })

  $("#backupDataFile").change(function(){

    if($(this).val() != ""){
      $(`#datafile-check-tick`).css("color", "green");
    }
    else{
      $(`#datafile-check-tick`).css("color", "white");
    }

  })

  $("#homepageDataFile").change(function(){
    if($(this).val() != ""){
      $(`#homepagefile-check-tick`).css("color", "green");
    }
    else{
      $(`#homepagefile-check-tick`).css("color", "white");
    }
  })

  $("#selectAppCreationOption").on("change", function () {
    var app_creation_option = $(this).val();
    if (app_creation_option == "fresh") {
      $("#appCreationContainer").css("display", "flex");
      $("#appBackupRestoreContainer").css("display", "none");
      $("#appExcelCreation").css("display", "none");
      $("#appExcelCreation").val("").trigger('change');
    } else if (app_creation_option == "app_create_excel") {

      $("#appExcelCreation").css("display", "block");
      $("#appCreationContainer").css("display", "none");
      $("#appBackupRestoreContainer").css("display", "none");
      $("#appAstheticContainer").css("display", "none");

    } else {
      $("#appAstheticContainer").css("display", "inline-block");
      $("#appCreationContainer").css("display", "none");
      $("#appExcelCreation").css("display", "none");
      $("#appExcelCreation").val("").trigger('change');
      $("#appAstheticInput").off('click').on('click', function () {
        if ($("#appAstheticInput").prop('checked')) {
          $(".container-backup").css("display", "block");
        } else {
          $(".container-backup").css("display", "none");
        }
      });
      $("#appBackupRestoreContainer").css("display", "block");
    }
  });

  $("#database_name").on('input', function () {
    $("#errorDBName").css("display", "none");
  });
  $("#connectionName").on('input', function () {
    $("#errorConnectionName").css("display", "none");
  });
  $('#dBType').on('select2:select', function(){
    if ($(this).val() == "PostgreSQL") {
      $('#dBSchemaContainer').css('display', '');
    } else {
      $('#dBSchemaContainer').css('display', 'none');
    }
  })

  $("#selectDatabase").on('change', function () {
    $("#saveDatabaseModal").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
    $("#saveDatabaseModal").prop("disabled", false);
    if (fresh == true) {
      $(".BusinessModelContainer").css("display", "block");
      $.ajax({
        url: `/users/Create_new/Dev/application/`,
        data: {
          'operation': 'fetchDatabaseBM',
          'db_connection_name': $(this).val(),
        },
        type: "POST",
        dataType: "json",
        success: function (context) {
          $('#selectBusinessModel').empty()
          $('#selectBusinessModel').append('<option value="" disabled selected>Select business model</option>');
          for (i in context.business_model_list) {
            $('#selectBusinessModel').each(function () {
              $(this).append(new Option(context.business_model_list[i], context.business_model_list[i], false, false));
            });
          }
        },
        error: function () {
          Swal.fire({text:`Error occured while fetching business models from the database.`,icon:"error"});
        }
      });
    }
  });

  function viewAllApps(event) {
    if(event=='show')
    {
      var allApps = document.querySelectorAll(".applicationList.hide");
      allApps.forEach(app => {
        app.classList.remove("hide");
        app.classList.add("show");
      });
    }
    else{
      var allApps = document.querySelectorAll(".applicationList.show");
      allApps.forEach(app => {
        app.classList.remove("show");
        app.classList.add("hide");
      });
    }

  }
  function hideUnhideApps(event,element) {
    event.stopImmediatePropagation()
    appCode= element.getAttribute("data-app_code")
    hidden = element.getAttribute("data-hidden")
    if(hidden=="False")
    {
      hidden="True";
    }
    else{
      hidden="False";
    }

    $.ajax({
      url: `/users/${appCode}/User/application/`,
      data: {
        'applicationCode': appCode,
        'hidden' : hidden,
        'operation': 'hideApplication',
      },
      type: "POST",
      dataType: "json",
      success: function (data) {
        location.reload();
      },
      error: function () {
        Swal.fire({text:"Error",icon:"error"})
      }
    });
  }

// Save business model in the Application table
  $('#cloneApplication').on('click', function(){
    $(this).css("display", "none");
    $("#loadcloneApplication").css("display", "inline-block");
    var application_code = $('#selectApplicationtoClone').val().split("_")[0];
    var appCloneOption = $('#selectCloneOption').val();
    var cloneDBConnectionName = $('#selectCloneDB').val();
    var updateCloneOption = $('#selectUpdateCloneOption').val();
    $.ajax({
      url: `/users/${application_code}/Build/application/`,
      data: {
        'application_code': application_code,
        'appCloneOption': appCloneOption,
        'cloneDBConnectionName': cloneDBConnectionName,
        'updateCloneOption': updateCloneOption,
        'operation': 'cloneApplication',
      },
      type: "POST",
      dataType: "json",
      success: function (data) {
        if(data.icon == "warning"){
          Swal.fire({text:data.response,icon:"warning"})
          $("#cloneApplication").css("display", "inline-block");
          $("#loadcloneApplication").css("display", "none");
        }
        else{
        $(this).css("display", "inline-block");
        $("#loadcloneApplication").css("display", "none");
        if (appCloneOption == "appConfigWithData") {
          if (Object.keys(context).includes("foreign_key_tables")) {
            if (context.foreign_key_tables.length > 0) {
              var foreign_key_tables = context.foreign_key_tables;
              var fKArray = JSON.stringify(foreign_key_tables);
              Swal.fire({text:`${fKArray} tables have foreign key relationships defined. Please take the backup of these tables in excel file.`,icon:'info'});
            }
          }
        };
        Swal.fire({text:data.response,icon:"success"})
        location.reload();
      }
      },
      error: function (data) {
        $(this).css("display", "inline-block");
        $("#loadcloneApplication").css("display", "none");
        Swal.fire({text:"Error in moving/cloning the application",icon:"error"});
        $("#cloneApplication").css("display", "inline-block");
      }
    });
  });

  function migrateSystemTables(dbConnectionName) {
    $.ajax({
      url: `/users/Create_new/Dev/application/`,
      data: {
        'operation': 'newDBSysTableMigration',
        'db_connection_name': dbConnectionName,
      },
      type: "POST",
      dataType: "json",
      success: function (context) {
        if (context['response'] == "System tables successfuly created.") {
          $("#dbCreationStage").text("- System tables created.");
          $("#saveDatabaseModal").prop("disabled", false);

          $("#selectDatabase").append(`<option value="${dbConnectionName}">${dbConnectionName}</option>`)
          setTimeout(() => {
            $("#dbCreationStage").text("");
            $("#selectDatabase").val(dbConnectionName).trigger('select2:select');
            $("#selectDatabase").val(dbConnectionName).trigger('change');
          }, 200);
        } else {
          Swal.fire({text:`Error occured while creating system tables in the database!\n${context['error']}`,icon:"error"});
        };
      },
      error: function () {
        Swal.fire({text:"Error occured while creating system tables in the database.",icon:"error"});
      }
    });
  };


  var icon_color = ""
  var text_color = ""
  var text_description_color = ""
  var card_background = ""
  var picked_icon = ""
  var t3_app_size = ""

  var color = ['dc143c', 'ff8c00', 'ffd700', '32cd32', '40e0d0', '00bfff', '1e90ff', 'ff1493', '9400d3', '696969','f0f8ff','fffacd','fce8b1','f5cedb','c9dcf2','bce6cd','ff8c9f','d6aaf0','755b31','992e90']
  var code = ""

  for (i = 0; i < color.length; i++) {
    code += '<div class="col-2 color-checkspan" style="background:#' + color[i] + '"></div><br>'
  }

  $(".app_icon_color_code").html(code);
  $(".app_card_color_code").html(code);
  $(".app_text_color_code").html(code);
  $(".app_text_description_color_code").html(code);

  var icon_morecolor = false
  var card_morecolor = false
  var text_morecolor = false
  var text_description_morecolor = false

  $("#more-iconcolors-button ").click(function () {
    icon_morecolor = true
    $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
  })

  $("#more-cardcolors-button").click(function () {
    card_morecolor = true
    $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
  })

  $("#more-textcolors-button").click(function () {
    text_morecolor = true
    $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
  })
  $("#more-descriptionTextColors-button").click(function () {
    text_description_morecolor = true
    $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
  })



  $(".app_icon_color_code .color-checkspan").click(function () {

    $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
    $('.app_icon_color_code #selected').empty()
    $(".app_icon_color_code #selected").attr("id", " ");

    $(this).append('<i class="fa-solid fa-check" style="margin-top: 6px;margin-left: 8px;"></i>');
    $(this).attr("id", "selected")
    icon_color = $(this).css("background-color");
    $("#app_preview_icon").css("color", icon_color);
    $("#link_preview_icon").css("color", icon_color);
    $("#link_preview_icon").css("color", icon_color);
    $("#app_preview_icon_design").css("color", icon_color);
    $(".apps_options1").css("color", icon_color);
    if("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
      if (icon_color && card_background && text_color && picked_icon) {
      $("#appDesignsave").prop("disabled", false);
      }
      else {
        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      }
    }
    else if("{{app_template}}" == "template2"){
      $(".apps_options1").css("color", icon_color);
      if (icon_color && card_background && text_color && text_description_color && picked_icon) {
      $("#appDesignsave").prop("disabled", false);
      }
      else {
        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      }
    }
    else if("{{app_template}}" == "template3"){
      if (icon_color && card_background && text_color && picked_icon && t3_app_size) {
      $("#appDesignsave").prop("disabled", false);
      }
      else {
        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      }
    }
    else if("{{app_template}}" == "template4" || "{{app_template}}" == "template5"){
      $("#template4_appIcon").css("color", icon_color);
      $("#appdesigntemplate4_appIcon").css("color", icon_color);
      $("#linktemplate4_appIcon").css("color", icon_color);
      if("{{app_template}}" == "template4"){
        if (icon_color && card_background && text_color && picked_icon) {
          $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }else{
        if (icon_color && text_color && picked_icon) {
          $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }

    }
  })

  $(".app_card_color_code .color-checkspan").click(function () {

    $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");

    $('.app_card_color_code #selected').empty()
    $(".app_card_color_code #selected").attr("id", " ");

    $(this).append('<i class="fa-solid fa-check" style="margin-top: 6px;margin-left: 8px;"></i>');
    $(this).attr("id", "selected");
    card_background = $(this).css("background");
    $(".app-header.name_app_preview.row").css("background", "unset")
        if ("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
          $(".name_app_preview").css("background", card_background);
        }
        if ("{{app_template}}" == "template2"){
          $(".app_workspace.template2_preview").css("background", card_background);
          $(".app_workspace.HLtemplate2_preview").css("background", card_background);
        }
        if ("{{app_template}}" == "template3"){
          $(".app_workspace.app_preview.template3_preview").css("background", card_background)
        }
        if("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
          if (icon_color && card_background && text_color && picked_icon) {
            $("#appDesignsave").prop("disabled", false);
          }
          else {
            $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
          }
        }
        else if("{{app_template}}" == "template2"){
          if (icon_color && card_background && text_color && text_description_color && picked_icon) {
            $("#appDesignsave").prop("disabled", false);
          }
          else {
            $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
          }
        }
        if ("{{app_template}}" == "template3"){
          $(".app_workspace.template3_preview").css("background", card_background);
          $(".app_workspace.HLtemplate3_preview").css("background", card_background);
          if (icon_color && card_background && text_color && picked_icon && t3_app_size) {
            $("#appDesignsave").prop("disabled", false);
          }
          else {
            $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
          }
        }
        else if("{{app_template}}" == "template4"){
          $(".app-container.template4_preview").css("background", card_background);
          $(".app-container.HLtemplate4_preview").css("background", card_background);
          if (icon_color && card_background && text_color && picked_icon) {
          $("#appDesignsave").prop("disabled", false);
          }
          else {
            $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
          }
        }


  })
  function solidColorFun(){
    $("#solidColorTypeItems").css("display","block");
    $("#gradientColorTypeItems").css("display","none");
  }
  function gradientColorFun(){
    $("#solidColorTypeItems").css("display","none");
    $("#gradientColorTypeItems").css("display","block");
  }
//Gradient color script
  function Gradientchange(){
    $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
    var color1 = document.querySelector(".color1")
    var color2 = document.querySelector(".color2")
    var linearDirection = document.getElementsByName("toDirection")[0]
    var appDrawerBgGradient = "linear-gradient("+ linearDirection.value+ ", "+ color1.value+ ","+ color2.value+ ")"
    $(".app-header.name_app_preview.row").css("background", "unset")
    if ("{{app_template}}" == "template2"){
      $(".app_workspace.app_preview.template2_preview").css("background", appDrawerBgGradient);
      card_background = $(".app_workspace.app_preview.template2_preview").css("background");
      $(".app_workspace.app_preview.HLtemplate2_preview").css("background", appDrawerBgGradient);
      card_background = $(".app_workspace.app_preview.HLtemplate2_preview").css("background");
    }
    if("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
      if (icon_color && card_background && text_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
      }
      else {
        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      }
    }
    else if("{{app_template}}" == "template2"){
      if (icon_color && card_background && text_color && text_description_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
      }
      else {
        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      }
    }
    if ("{{app_template}}" == "template3"){
      $(".app_workspace.app_preview.template3_preview").css("background", appDrawerBgGradient)
      card_background = $(".app_workspace.app_preview.template3_preview").css("background");
    }
    if ("{{app_template}}" == "template3"){
          if (icon_color && card_background && text_color && picked_icon && t3_app_size) {
            $("#appDesignsave").prop("disabled", false);
          }
          else {
            $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
          }
        }
        if ("{{app_template}}" == "template4"){
          $(".app-container.template4_preview").css("background", appDrawerBgGradient);
          card_background =$(".app-container.template4_preview").css("background");
          $(".app-container.HLtemplate4_preview").css("background", appDrawerBgGradient);
          card_background = $(".app-container.HLtemplate4_preview").css("background")
          if (icon_color && card_background && text_color && picked_icon && t3_app_size) {
            $("#appDesignsave").prop("disabled", false);
          }
          else {
            $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
          }
        }
  }
  function sizeOfAppFunc(){
      var sizeOfApplication = $("#selectAppSizes option:selected").val()
      if ("{{app_template}}" == "template3"){
        if(sizeOfApplication == null){
        $(".app_workspace.app_preview.template3_preview").css("width", "13rem");
        t3_app_size = $(".app_workspace.app_preview.template3_preview").css("width");
        $(".app_workspace.app_preview.HLtemplate3_preview").css("width", "13rem");
        t3_app_size = $(".app_workspace.app_preview.template3_preview").css("width");
        }
        if(sizeOfApplication == 'Square'){
          if($(".appNameDiv").css("display") == 'none'){
            $(".appNameDiv").css("display", "flex");
          }
          $(".app_workspace.app_preview.template3_preview").css("width", "13rem")
          t3_app_size = $(".app_workspace.app_preview.template3_preview").css("width");
          $(".app_workspace.app_preview.HLtemplate3_preview").css("width", "13rem");
          t3_app_size = $(".app_workspace.app_preview.template3_preview").css("width");
        }
        if(sizeOfApplication == 'Rectangle'){
          if($(".appNameDiv").css("display") == 'none'){
            $(".appNameDiv").css("display", "flex");
          }
          $(".app_workspace.app_preview").css("width", "27rem");
          t3_app_size = $(".app_workspace.app_preview.template3_preview").css("width");
          $(".app_workspace.app_preview.HLtemplate3_preview").css("width", "22rem");
          t3_app_size = $(".app_workspace.app_preview.template3_preview").css("width");
        }
        if(sizeOfApplication == 'cube'){
          $(".appNameDiv").css("display", "none");
          $(".app_workspace.app_preview").css("width", "8rem");
          t3_app_size = $(".app_workspace.app_preview.template3_preview").css("width");
          $(".app_workspace.app_preview.HLtemplate3_preview").css("width", "8rem");
          t3_app_size = $(".app_workspace.app_preview.template3_preview").css("width");
        }
        if (icon_color && card_background && text_color && picked_icon && t3_app_size) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
  }

  $(".app_text_color_code .color-checkspan").click(function () {

    $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");

    $('.app_text_color_code #selected').empty()
    $(".app_text_color_code #selected").attr("id", " ");

    $(this).append('<i class="fa-solid fa-check" style="margin-top: 6px;margin-left: 8px;"></i>');
    $(this).attr("id", "selected")
    text_color = $(this).css("background-color");
    $(".app_preview h5").css("color", text_color);
    if("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
      if (icon_color && card_background && text_color && picked_icon) {
      $("#appDesignsave").prop("disabled", false);
      }
      else {
        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      }
    }
    else if("{{app_template}}" == "template2"){
      if (icon_color && card_background && text_color && text_description_color && picked_icon) {
      $("#appDesignsave").prop("disabled", false);
      }
      else {
        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      }
    }
    if("{{app_template}}" == "template3"){
      if (icon_color && card_background && text_color && picked_icon && t3_app_size) {
      $("#appDesignsave").prop("disabled", false);
      }
      else {
        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      }
    }
    else if("{{app_template}}" == "template4" || "{{app_template}}" == "template5"){
      $(".app-name.template4").css("color", text_color);
      if("{{app_template}}" == "template4"){
        if (icon_color && card_background && text_color && picked_icon) {
          $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }else{
        if (icon_color && text_color && picked_icon) {
          $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
    }
  })
  $(".app_text_description_color_code .color-checkspan").click(function () {

    $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");

    $('.app_text_description_color_code #selected').empty()
    $(".app_text_description_color_code #selected").attr("id", " ");

    $(this).append('<i class="fa-solid fa-check" style="margin-top: 6px;margin-left: 8px;"></i>');
    $(this).attr("id", "selected")

    if("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
      if (icon_color && card_background && text_color && picked_icon) {
      $("#appDesignsave").prop("disabled", false);
      }
      else {
        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      }
    }
    else if("{{app_template}}" == "template2"){
      text_description_color = $(this).css("background-color");
      $(".t2appDescription").css("color", text_description_color);
      $(".HLt2appDescription").css("color", text_description_color);

      if (icon_color && card_background && text_color && text_description_color && picked_icon) {
      $("#appDesignsave").prop("disabled", false);
      }
      else {
        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      }
    }
    else if("{{app_template}}" == "template3"){
      if (icon_color && card_background && text_color && picked_icon && t3_app_size) {
      $("#appDesignsave").prop("disabled", false);
      }
      else {
        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      }
    }

    })


  function mouseOverColor(a, b) {
    view.style.backgroundColor = a
    hex.textContent = a
  }
  function pick() {
    $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");

    viewC.style.backgroundColor = view.style.backgroundColor
    hexC.textContent = hex.textContent
    if (icon_morecolor == true) {
      icon_color = viewC.style.backgroundColor
      $('.app_icon_color_code #selected').empty()
      $(".app_icon_color_code #selected").attr("id", " ");

      $("#app_preview_icon").css("color", viewC.style.backgroundColor);
      $("#app_preview_icon_design").css("color", viewC.style.backgroundColor);
      $("#link_preview_icon").css("color", viewC.style.backgroundColor);
      if("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
        if (icon_color && card_background && text_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template2"){
        if (icon_color && card_background && text_color && text_description_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template3"){
        if (icon_color && card_background && text_color && picked_icon && t3_app_size) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template4" || "{{app_template}}" == "template5"){
      $("#template4_appIcon").css("color", viewC.style.backgroundColor);
      $("#appdesigntemplate4_appIcon").css("color", viewC.style.backgroundColor);
      $("#linktemplate4_appIcon").css("color", viewC.style.backgroundColor);
      if("{{app_template}}" == "template4"){
        if (icon_color && card_background && text_color && picked_icon) {
          $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }else{
        if (icon_color && text_color && picked_icon) {
          $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      }

    }
    else if (card_morecolor == true) {
      card_background = viewC.style.backgroundColor
      $('.app_card_color_code #selected').empty()
      $(".app_card_color_code #selected").attr("id", " ");


      if("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
        $(".name_app_preview").css("background", viewC.style.backgroundColor);
        if (icon_color && card_background && text_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template2"){
        $(".app_workspace.app_preview.template2_preview").css("background",viewC.style.backgroundColor)
        $(".app_workspace.app_preview.HLtemplate2_preview").css("background",viewC.style.backgroundColor)
        if (icon_color && card_background && text_color && text_description_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template3"){
        $(".app_workspace.app_preview.template3_preview").css("background",viewC.style.backgroundColor)
        $(".app-header.name_app_preview.row").css("background","unset")
        $(".app_workspace.app_preview.HLtemplate3_preview").css("background",viewC.style.backgroundColor)
        if (icon_color && card_background && text_color && picked_icon && t3_app_size) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template4"){
        $(".app-container.template4_preview").css("background", viewC.style.backgroundColor);
        $(".app-container.HLtemplate4_preview").css("background", viewC.style.backgroundColor);
        if (icon_color && card_background && text_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
    }
    else if (text_morecolor == true) {
      text_color = viewC.style.backgroundColor
      $('.app_text_color_code #selected').empty()
      $(".app_text_color_code #selected").attr("id", " ");

      $(".app_preview h5").css("color", viewC.style.backgroundColor);
      if("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
        if (icon_color && card_background && text_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template2"){
        if (icon_color && card_background && text_color && text_description_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template3"){
        if (icon_color && card_background && text_color && picked_icon && t3_app_size) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template4" || "{{app_template}}" == "template5"){
        $(".app-name.template4").css("color", text_color);
        if("{{app_template}}" == "template4"){
        if (icon_color && card_background && text_color && picked_icon) {
          $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }else{
        if (icon_color && text_color && picked_icon) {
          $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      }
    }
    else if (text_description_morecolor == true) {
    text_description_color = viewC.style.backgroundColor
      $('.app_text_description_color_code #selected').empty()
      $(".app_text_description_color_code #selected").attr("id", " ");

      $(".t2appDescription").css("color", viewC.style.backgroundColor);
      $(".HLt2appDescription").css("color", viewC.style.backgroundColor);
      if("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
        if (icon_color && card_background && text_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template2"){
        if (icon_color && card_background && text_color && text_description_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template3"){
        if (icon_color && card_background && text_color && picked_icon && t3_app_size) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }

    }

  }

  function customColorChange(element) {
    $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");

    var color = element.value;
    if (icon_morecolor == true) {
      icon_color = color
      $('.app_icon_color_code #selected').empty()
      $(".app_icon_color_code #selected").attr("id", " ");

      $("#app_preview_icon").css("color", color);
      $("#app_preview_icon_design").css("color", color);
      $("#link_preview_icon").css("color", color);
      if("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
        if (icon_color && card_background && text_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template2"){
        if (icon_color && card_background && text_color && text_description_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      if("{{app_template}}" == "template3"){
        if (icon_color && card_background && text_color && picked_icon && t3_app_size) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template4" || "{{app_template}}" == "template5"){
      $("#template4_appIcon").css("color", color);
      $("#appdesigntemplate4_appIcon").css("color", color);
      $("#linktemplate4_appIcon").css("color", color);
      if("{{app_template}}" == "template4"){
        if (icon_color && card_background && text_color && picked_icon) {
          $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }else{
        if (icon_color && text_color && picked_icon) {
          $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      }

    }
    else if (card_morecolor == true) {
      card_background = color
      $('.app_card_color_code #selected').empty()
      $(".app_card_color_code #selected").attr("id", " ");

      $(".app_workspace.app_preview.template2_preview").css("background",color)
      $(".app_workspace.app_preview.HLtemplate2_preview").css("background",color)
      $(".name_app_preview").css("background", color);
      if("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
        if (icon_color && card_background && text_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template2"){
        if (icon_color && card_background && text_color && text_description_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template3"){
        $(".app_workspace.app_preview.template3_preview").css("background",color)
        $(".app_workspace.app_preview.HLtemplate3_preview").css("background",color)
        if (icon_color && card_background && text_color && t3_app_size && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template4"){
        $(".app-container.template4_preview").css("background", color);
        $(".app-container.HLtemplate4_preview").css("background", color);
        if (icon_color && card_background && text_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }

    }
    else if (text_morecolor == true) {
      text_color = color
      $('.app_text_color_code #selected').empty()
      $(".app_text_color_code #selected").attr("id", " ");

      $(".app_preview h5").css("color", color);
      if("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
        if (icon_color && card_background && text_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template2"){
        if (icon_color && card_background && text_color && text_description_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template3"){
        if (icon_color && card_background && text_color && t3_app_size && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template4" || "{{app_template}}" == "template5"){
        $(".app-name.template4").css("color", color);
        if("{{app_template}}" == "template4"){
        if (icon_color && card_background && text_color && picked_icon) {
          $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }else{
        if (icon_color && text_color && picked_icon) {
          $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      }
    }
    else if (text_description_morecolor == true) {
      text_description_color = color
      $('.app_text_description_color_code #selected').empty()
      $(".app_text_description_color_code #selected").attr("id", " ");
      $(".t2appDescription").css("color", color);
      $(".HLt2appDescription").css("color", color);
      if("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
        if (icon_color && card_background && text_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template2"){
        if (icon_color && card_background && text_color && text_description_color && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
      else if("{{app_template}}" == "template3"){
        if (icon_color && card_background && text_color && t3_app_size && picked_icon) {
        $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
    }
  }

  $("#save-morecolors1").click(function () {
    var color1 = document.querySelector(".color1")
    var color2 = document.querySelector(".color2")
    var bodys = document.getElementById("gradient")
    var linearDirection = document.getElementsByName("toDirection")[0]
    var appDrawerBgGradient = "linear-gradient("+ linearDirection.value+ ", "+ color1.value+ ","+ color2.value+ ")"
    $(".app_workspace.app_preview.template2_preview").css("background",appDrawerBgGradient)
    $(".app_workspace.app_preview.HLtemplate2_preview").css("background",appDrawerBgGradient)

    icon_morecolor = false
    card_morecolor = false
    text_morecolor = false
    text_description_morecolor = false

  })

  $("#save-morecolors").click(function () {
    icon_morecolor = false
    card_morecolor = false
    text_morecolor = false
    text_description_morecolor = false
  })

  $("#close_morecolors").click(function () {
    icon_morecolor = false
    card_morecolor = false
    text_morecolor = false
    text_description_morecolor = false
  })


  var string = `<div class="row" white-space="nowrap">`
  var list = ["fas fa-compass", "fas fa-address-card", "fas fa-clipboard", "fas fa-wallet", "fas fa-dollar-sign", "fas fa-table", "fas fa-atom", "fas fa-tasks", "fas fa-th", "fas fa-business-time", "fas fa-chart-area", "fas fa-chart-line", "fas fa-chart-bar", 'fas fa-chart-pie', "fas fa-sitemap", "fas fa-highlighter", "fas fa-th-large", "fas fa-globe", "fas fa-paperclip", "fas fa-project-diagram", "fas fa-print", "fas fa-i-cursor", "fas fa-indent", "fas fa-list-alt", "fas fa-list-ul", "fas fa-outdent", "far fa-building", "fas fa-bullseye", "fas fa-calendar", "far fa-compass"]
  for (i = 0; i < list.length; i++) {
    if ($('.listoficon2').attr('icon-selected') == list[i]) {

      string += `<div class="col-2 icons"><a href="#" ><i class="${list[i]} listoficons" style="font-size:1rem;color: white;font-size: 1rem;background: var(--primary-color);padding: 5px;border-radius: 5px;" ></i>&nbsp&nbsp</a></div>`
    }
    else {
      string += `<div class="col-2 icons"><a href="#" ><i class="${list[i]} listoficons" style="font-size:1rem;color: black;font-size: 1rem;background: #fff;padding: 5px;border-radius: 5px;" ></i>&nbsp&nbsp</a></div>`
    }
  }

  for (i = 0; i < list.length; i++) {

  }
  string += `</div>`
  $('.listoficon').append(string)
  $('.listoficons').on("click", function () {
    $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
    $('.listoficons').each(function () {
      $(this).css("color", "black");
      $(this).css("background", "#fff");
    });
    $(this).attr("id", "selected")
    $(this).css("color", "white");
    $(this).css("background", "var(--primary-color)");
    var selectedIcon = $(this).attr("class").split(" ")[1]
    var app_preview_icon_class = "fas " + selectedIcon;
    $("#app_preview_icon").attr("class", app_preview_icon_class);
    $("#app_preview_icon_design").attr("class", app_preview_icon_class);
    $("#link_preview_icon").attr("class", app_preview_icon_class);
    $("#template4_appIcon").attr("class", app_preview_icon_class);
    $("#appdesigntemplate4_appIcon").attr("class", app_preview_icon_class);
    $("#linktemplate4_appIcon").attr("class", app_preview_icon_class);
    picked_icon = app_preview_icon_class
    if("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
      if (icon_color && card_background && text_color && picked_icon) {
      $("#appDesignsave").prop("disabled", false);
      }
      else {
        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      }
    }
    else if("{{app_template}}" == "template2"){
      if (icon_color && card_background && text_color && text_description_color && picked_icon) {
      $("#appDesignsave").prop("disabled", false);
      }
      else {
        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      }
    }
    else if("{{app_template}}" == "template3"){
      if (icon_color && card_background && text_color && picked_icon && t3_app_size) {
      $("#appDesignsave").prop("disabled", false);
      }
      else {
        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      }
    }
    else if("{{app_template}}" == "template4" || "{{app_template}}" == "template5"){
      if("{{app_template}}" == "template4"){
        if (icon_color && card_background && text_color && picked_icon) {
          $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }else{
        if (icon_color && text_color && picked_icon) {
          $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
    }

  });

  $('.listoficon2').append(string)

  $('.listoficons').on("click", function () {
    $('.listoficons').each(function () {

      $(this).css("color", "black");
      $(this).css("background", "#fff");
    });
    $(this).css("color", "white");
    $(this).css("background", "var(--primary-color)");

    $(".icon_a").each(function(){
      $(this).removeAttr("selected_a");
      $(this).css("background-color", "#f9f9f9");
      $(this).css("color","black");
    })
  });

  function searchIcons() {
    var input, filter, ul, div, li, a, i, txtValue, h5;
    input = document.getElementById("search-icons");
    if (input.value.length > 0) {
      $("#icons_category").css("display", "none")
      $("#icons_without_category").css("display", "block")
      filter = input.value.toUpperCase();
      div = document.getElementById("icons_without_category");
      ul = document.getElementsByTagName("ul");
      li = div.getElementsByTagName("li");
      for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByTagName("a")[0];
        txtValue = a.getAttribute("data-class");
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          li[i].style.display = "";
        } else {
          li[i].style.display = "none";
        }
      }
    }
    else {
      $("#icons_category").css("display", "block")
      $("#icons_without_category").css("display", "none")
    }
  }

  $(".icon_a").click(function () {
    $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");

    $(".icon_a").attr("selected_a", "false");
    $(".icon_a").css("background-color", "#f9f9f9");
    $(".icon_a").css("color", "black");

    $(this).attr("selected_a", "true");
    $(this).css("background-color", "var(--primary-color)");
    $(this).css("color", "white");

    var selectedIcon = $(this).attr("data-class")

    picked_icon = selectedIcon
    if("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
      if (icon_color && card_background && text_color && picked_icon) {
      $("#appDesignsave").prop("disabled", false);
      }
      else {
        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      }
    }
    else if("{{app_template}}" == "template2"){
      if (icon_color && card_background && text_color && text_description_color && picked_icon) {
      $("#appDesignsave").prop("disabled", false);
      }
      else {
        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      }
    }
    else if("{{app_template}}" == "template3"){
      if (icon_color && card_background && text_color && picked_icon && t3_app_size) {
      $("#appDesignsave").prop("disabled", false);
      }
      else {
        $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      }
    }
    else if("{{app_template}}" == "template4" || "{{app_template}}" == "template5"){
      if("{{app_template}}" == "template4"){
        if (icon_color && card_background && text_color && picked_icon) {
          $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }else{
        if (icon_color && text_color && picked_icon) {
          $("#appDesignsave").prop("disabled", false);
        }
        else {
          $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        }
      }
    }

    $("#app_preview_icon_design").attr("class", selectedIcon);
    $("#app_preview_icon").attr("class", selectedIcon);
    $("#link_preview_icon").attr("class", selectedIcon);
    $("#template4_appIcon").attr("class", selectedIcon);
    $("#appdesigntemplate4_appIcon").attr("class", selectedIcon);
    $("#linktemplate4_appIcon").attr("class", selectedIcon);
    var list_icons = document.querySelectorAll(".icons a .listoficons")
    list_icons.forEach(element => {
      id = element.id
      element.removeAttribute('id')
      element.style.backgroundColor = "white"
      element.style.color = "black"
    })
  })

  $("#cloneAppModal1 select").on("change",function(){

    var isEmpty = false;
    $("#cloneAppModal1 select").each(function() {
        if ($(this).val() == null) {
            isEmpty = true;
        }
    });
    if (isEmpty) {
      $('#cloneApplication').prop('disabled', true);
    } else {
      $('#cloneApplication').removeAttr('disabled');
    }
  })

  $("#close_appdesign, #cancel_appDetails, #cancel_backup").click(function () {

    $('.app_icon_color_code #selected').empty()
    $(".app_icon_color_code #selected").attr("id", " ");
    $("#app_preview_icon").css("color", "black");
    $("#link_preview_icon").css("color", "black");
    $("#app_preview_icon_design").css("color", "black");
    $('.app_card_color_code #selected').empty()
    $(".app_card_color_code #selected").attr("id", " ");
    $(".name_app_preview").css("background", "#f7f7f7");

    $('.app_text_color_code #selected').empty()
    $(".app_text_color_code #selected").attr("id", " ");
    $('.app_text_description_color_code #selected').empty()
    $(".app_text_description_color_code #selected").attr("id", " ");
    $(".app_preview h5").css("color", "black");

    $(".listoficons#selected").css("color", "black");
    $(".listoficons#selected").css("background-color", "white");
    $(".listoficons#selected").attr("id", " ");
    $("#app_preview_icon").attr("class", "fas fa-laptop-code");
    $("#app_preview_icon_design").attr("class", "fas fa-laptop-code");
    $("#link_preview_icon").attr("class", "fas fa-laptop-code");
    $("#applicationDesign + #check-tick").css("color", "white");
    $(".name_app_preview.row").css("background", "unset");
    $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
    $("#appDesignsave").prop("disabled",true)

    icon_color = ""
    card_background = ""
    text_color = ""
    picked_icon = ""
    text_description_color = ""
    t3_app_size = ""
    icon_morecolor = false
    card_morecolor = false
    text_morecolor = false
    text_description_morecolor = false

    if(this.id=="cancel_appDetails"){
      $("#applicationName").val("");
      $("#applicationDesc").val("");
      $("#hyperlinkDesc").val("");
      $("#hyperlinkDesc").val("");
      $(".desc_app_preview .info-box-text").text("Description");
      $(".name_app_preview h5").text("Name");
      $(".app-name.template4").text("App Name");
      var check = document.querySelectorAll("#newAppdetails #check-tick");
      for (var i = 0, len = check.length; i < len; i++) {
          check[i].style.color="white";
      }
      $(".remaining-count-name, .remaining-count-desc").text(`0/24`);
      fresh = false
      edit = false
      edit_appname = null
      $('#alertSpanApp').css("display", "none");
      $('#div_id_application_name').css("margin-bottom", "1em");

      $("#newAppdetails #applicationName, #newAppdetails #applicationDesc").each(function(){
        $(this).css("border-color","#c5c5c0");
      })

      $("#div_id_application_database").css("display","")
      $(".app_preview .more-options").css("display","")
      sys_edit = false


      $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      $("#appDesignsave").prop("disabled",true);
      $("#goback").css("display","none");
      $("#close_appdesign").css("visibility","visible");
      $("#close_appdesign").prop("disabled",false);

      $("#saveDatabaseModal").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      $("#saveDatabaseModal").prop("disabled",true);
      $("#goback_appdatabase").css("display","none");
      $("#close_appDatabase").css("visibility","visible");
      $("#close_appDatabase").prop("disabled",false);

      $("#div_id_business_model_name").css("display", "none")
      $("#saveDatabaseModal").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      $("#saveDatabaseModal").prop("disabled", true);
    }
    if(this.id=="cancel_backup"){
      backup = false
      $("#applicationNameBackup").val("");
      $("#applicationDescBackup").val("");
      $('#appAstheticInput').prop('checked', false);
      $(".container-backup").css("display", "none")
      $("#c").text("Choose app config file")
      $("#c1").text("Choose app data file")

      $("#datafile-check-tick").css("color","white")

      $('#alertSpanAppBackup').css("display", "none");
      $('#div_id_application_name_backup').css("margin-bottom", "1em");

      $("#backup #applicationNameBackup, #backup #applicationDescBackup").each(function(){
        $(this).css("border-color","#c5c5c0");
      })

      var check = document.querySelectorAll("#backup #check-tick");
      for (var i = 0, len = check.length; i < len; i++) {
          check[i].style.color="white";
      }

      $("#backupApplication").prop("disabled",true)

      icon_color =""
      card_background=""
      text_color=""
      picked_icon = ""
      text_description_color = ""
      t3_app_size = ""
      $("#appDesignsave").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      $("#appDesignsave").prop("disabled",true);
      $("#goback").css("display","none");
      $("#close_appdesign").css("visibility","visible");
      $("#close_appdesign").prop("disabled",false);

      $("#saveDatabaseModal").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      $("#saveDatabaseModal").prop("disabled",true);
      $("#goback_appdatabase").css("display","none");
      $("#close_appDatabase").css("visibility","visible");
      $("#close_appDatabase").prop("disabled",false);

      $("#div_id_business_model_name").css("display", "none")
      $("#saveDatabaseModal").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
      $("#saveDatabaseModal").prop("disabled", true);
    }

  })

  $("#close_appDatabase").click(function(){
    $("#div_id_business_model_name").css("display", "none");
    $("#saveDatabaseModal").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
    $("#saveDatabaseModal").prop("disabled", true);
    $(document.getElementById('selectDatabase')).selectize()[0].selectize.clear();
  })

  $("#cancel_app_create_excel").click(function(){
    app_create_excel = false
    $("#ac1").text("Upload file")
    $("#app_create_excel #check-tick").css("color","white")
    $("#app_create_excel #excel-check-tick").css("color","white")
    $("#createAppfromTemplate").prop("disabled",true)

    $("#saveDatabaseModal").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
    $("#saveDatabaseModal").prop("disabled",true);
    $("#goback_appdatabase").css("display","none");
    $("#close_appDatabase").css("visibility","visible");
    $("#close_appDatabase").prop("disabled",false);

    $("#div_id_business_model_name").css("display", "none")
    $("#saveDatabaseModal").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
    $("#saveDatabaseModal").prop("disabled", true);
  })

  $("#cancel_cloneapp").click(function(){

    $("#cloneAppModal1 select").each(function() {
        $(this).selectize()[0].selectize.clear();
    });

  })

  $("#closeCreateOptions").click(function(){
    app_create_excel = false
    fresh = false
    backup = false
  })

  $("#saveDatabaseModal").click(function () {
    var modal_id = ""
    var button_id = ""
    var tick_id = ""

    $(this).prop("disabled", true);
    $(this).html('Saved <i class="fa-solid fa-check pl-3" style="margin-top: 6px;margin-left: 1px;"></i>');

    $("#goback_appdatabase").html("<i class='fa-solid fa-arrow-left-long'></i> Go back");
    $("#goback_appdatabase").css("display", "block");

    $("#close_appDatabase").prop("disabled",true)
    $("#close_appDatabase").css("visibility","hidden")

    if(fresh == true){
      tick_id = "#applicationDatabase + #check-tick"
      modal_id = "#newAppdetails #check-tick"
      button_id = "#saveNewApplication"
    }
    else if(app_create_excel == true){
      tick_id = "#applicationDatabaseExcel + #check-tick"
      modal_id = "#app_create_excel #excel-check-tick"
      button_id = "#createAppfromTemplate"
    }
    else if(backup == true){
      tick_id = "#applicationDatabaseBackup + #check-tick"
      if($("#appAstheticInput").prop("checked")){
        modal_id = "#backup #check-tick"
      }else{
        modal_id = ".required-backup-container #check-tick"
      }

      button_id = "#backupApplication"
    }
    else{
      tick_id = "#hyperlinkDatabase + #check-tick"
      modal_id = "#newHyperlinkdetails #check-tick"
      button_id = "#saveNewHyperlink"
    }

    $(tick_id).css("color", "green");
    display_button(modal_id,button_id)

  })


  $("#appDesignsave").click(function () {
    var modal_id = ""
    var button_id = ""
    var tick_id = ""
    $(this).prop("disabled", true);
    $(this).html('Saved <i class="fa-solid fa-check pl-3"></i>');
    $("#close_appdesign").prop("disabled",true)
    $("#close_appdesign").css("visibility","hidden")

    $("#goback").css("display","block");
    $("#goback").html("<i class='fa-solid fa-arrow-left-long'></i> Go back");

    if(fresh){
      tick_id = "#applicationDesign + #check-tick"
      modal_id = "#newAppdetails #check-tick"
      button_id = "#saveNewApplication"
    }
    else if(backup){
      tick_id = "#applicationDesignBackup + #check-tick"
      if($("#appAstheticInput").prop("checked")){
        modal_id = "#backup #check-tick"
      }else{
        modal_id = ".required-backup-container #check-tick"
      }
      button_id = "#backupApplication"
    }
    else if(!edit){
      tick_id = "#hyperlinkDesign + #check-tick"
      modal_id = "#newHyperlinkdetails #check-tick"
      button_id = "#saveNewHyperlink"
    }
    if("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
      if (icon_color && card_background && text_color) {
      $(tick_id).css("color", "green")
    }
      else {
        $(tick_id).css("color", "white")
      }
    }
    else if("{{app_template}}" == "template2"){
      if (icon_color && card_background && text_color && text_description_color) {
      $(tick_id).css("color", "green")
      }
      else {
        $(tick_id).css("color", "white")
      }
    }
    if("{{app_template}}" == "template3"){
      if (icon_color && card_background && text_color && t3_app_size) {
      $(tick_id).css("color", "green")
    }
      else {
        $(tick_id).css("color", "white")
      }
    }
    if("{{app_template}}" == "template4" || "{{app_template}}" == "template5"){
      if("{{app_template}}" == "template4"){
        if (icon_color && card_background && text_color) {
          $(tick_id).css("color", "green")
        }
        else {
          $(tick_id).css("color", "white")
        }
      }else{
        if (icon_color && text_color) {
          $(tick_id).css("color", "green")
        }
        else {
          $(tick_id).css("color", "white")
        }
      }

    }

    display_button(modal_id,button_id)
  })


  $('#searchApplication').on('keyup change', function () {
    const value = $(this).val().toLowerCase();

    $(".myAppsContainer .sortableItem").filter(function() {
      $(this).toggle($(this).attr("data-info").toLowerCase().indexOf(value) > -1);
    })

  });




  $(".selectAppCard").on("click", selectApp)
  function selectApp() {
    var appCode = $(this).attr("data-app_code");
    var appName = $(this).attr("data-app_name");
    $.ajax({
      url: '/users/selectApplication/',
      data: {
        'app_code': appCode,
        'operation': "application_selected",
      },
      type: "POST",
      dataType: "json",
      success: function (data) {
        let url_string = window.location.pathname
        let f_occ = url_string.indexOf('/', url_string.indexOf('/') + 1)
        let s_occ = url_string.indexOf('/', url_string.indexOf('/') + f_occ + 1)
        let t_occ = url_string.indexOf('/', url_string.indexOf('/') + s_occ + 1)
        let app_code2 = url_string.substring(f_occ + 1, s_occ)
        let current_dev_mode2 = url_string.substring(s_occ + 1, t_occ)
        if (current_dev_mode2 != "Build" && current_dev_mode2 != "Edit") {
          current_dev_mode2 = "User"
        }
        let loc = window.location.href.replace("selectApplication/", `${appCode}/${current_dev_mode2}/homePage/`);
        window.location.href = loc;
      },
      error: function () {
        Swal.fire({text:"Error",icon:"error"});
      }
    });
  };

  function user_mode(appName, appCode){
    if ('{{is_user_dev}}' != 'true' && '{{is_user_superuser}}' != 'true'){
      $.ajax({
        url: '/users/selectApplication/',
        data: {
          'app_code': appCode,
          'operation': "application_selected",
        },
        type: "POST",
        dataType: "json",
        success: function (data) {
          let loc = `/users/${appCode}/User/homePage/`
          window.location.href = loc;
        },
        error: function () {
          Swal.fire({text:"Error",icon:"error"});
        }
      });
    }
  }

  var enable_the_id=(...ids)=> {
    ids.forEach(id => {
      $(`#${id}`).css("visibility","visible");
      $(`#${id}`).prop("disabled",false);

      if(id=="saveDatabaseModal"){
        $("#saveDatabaseModal").html("Save <i class='fa-solid fa-floppy-disk pl-3' style='color: white;'>");
        $("#saveDatabaseModal").prop("disabled", false);
      }
    });
  }


  $("#saveNewHyperlink").click(function(){
    var hyperlinkName = ($("#hyperlinkName").val());
    var hyperlinkDesc = ($("#hyperlinkDesc").val());
    var hyperlinkUrl = ($("#hyperlinkUrl").val());
    if (hyperlinkName != "" && hyperlinkUrl != "") {
      if ("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
          var appIcon = $("#link_preview_icon").attr("class");
          var iconColor = rgb2hex($("#link_preview_icon").css("color"));
          var cardColor = rgb2hex($(".name_app_preview").css("background-color"));
          var textColor = rgb2hex($(".app_preview h5").css("color"));
          var hyperlink_description_text_color = ""
          var hyperlink_t3_app_size = ""
        }
        else if ("{{app_template}}" == "template2"){
          var appIcon = $("#link_preview_icon").attr("class");
          var iconColor = rgb2hex($("#link_preview_icon").css("color"));
          var cardColor = String($(".app_workspace.app_preview.HLtemplate2_preview").css("background"));
          var textColor = rgb2hex($(".app_preview h5").css("color"));
          var hyperlink_description_text_color = rgb2hex($(".HLt2appDescription").css("color"));
          var hyperlink_t3_app_size = ""
        }
        else if ("{{app_template}}" == "template3"){
          var appIcon = $("#link_preview_icon").attr("class");
          var iconColor = rgb2hex($("#link_preview_icon").css("color"));
          var cardColor = String($(".app_workspace.app_preview.HLtemplate3_preview").css("background"));
          var textColor = rgb2hex($(".app_preview h5").css("color"));
          var hyperlink_description_text_color = '';
          var hyperlink_t3_app_size = $('#selectAppSizes').val();
        }
        if ("{{app_template}}" == "template4" || "{{app_template}}" == "template5"){
          var appIcon = $("#linktemplate4_appIcon").attr("class");
          var iconColor = rgb2hex($("#linktemplate4_appIcon").css("color"));
          if ("{{app_template}}" == "template4"){
            var cardColor = String($(".app-container.template4_preview").css("background"));
          }else{
            var cardColor = ""
          }
          var textColor = rgb2hex($(".app-name.template4").css("color"));
          var hyperlink_description_text_color = ""
          var hyperlink_t3_app_size = ""
        }


        var operation = 'createHyperlink'
        var external_app_ui_config = {
                'hyperlink_name' : hyperlinkName,
                'hyperlink_desc' : hyperlinkDesc,
                'hyperlink_url' : hyperlinkUrl,
                'hyperlink_icon' : appIcon,
                'hyperlink_icon_color' : iconColor,
                'hyperlink_card_color' : cardColor,
                'hyperlink_text_color' : textColor,
                'hyperlink_description_text_color' : hyperlink_description_text_color,
                'hyperlink_t3_app_size' : hyperlink_t3_app_size,
              }

        data = {
                operation,
                'hyperlink_name' : hyperlinkName,
                'hyperlink_desc' : hyperlinkDesc,
                'hyperlink_url' : hyperlinkUrl,
                'hyperlink_icon' : appIcon,
                'hyperlink_icon_color' : iconColor,
                'hyperlink_card_color' : cardColor,
                'hyperlink_text_color' : textColor,
                'hyperlink_description_text_color' : hyperlink_description_text_color,
                'hyperlink_t3_app_size' : hyperlink_t3_app_size,
                'db_connection_name': $("#selectDatabase").val(),
              }

        if(edit){
          data["operation"] = "editHyperlink"
          data["hyperlink_code"] = edit_appcode
        }

        $.ajax({
              url:window.location.pathname,
              data: data,
              type: 'POST',
              dataType: 'json',
              success: function (data) {

              switch (data.icon) {
                  case "warning":
                  Swal.fire({text:data.response,icon:"warning"});
                  break;

                  default:
                  Swal.fire({text:data.response,icon:"success"})
                  .then((result) => {
                    if (result.isConfirmed) {
                      location.reload()
                    }
                  })
                  break;
              }

              },
              error: (data)=>{
              Swal.fire({text:"Error! Please Try again.",icon:"error"});
              }
          });

    }
      else {
        Swal.fire({text:'Please fill in all the details.',icon:"info"});
      }
    })

  $('#saveNewApplication').on('click', function () {
    if($(this).attr("data-save") == "saveDashboardUi"){
      saveSysAppUiConfig("dashboard")
    }
    else if($(this).attr("data-save") == "savePlannerUi"){
      saveSysAppUiConfig("planner")
    }

    else{

    if (fresh == true) {
      var applicationName = ($("#applicationName").val());
      var applicationDesc = ($("#applicationDesc").val());
      var business_model_name = $('#selectBusinessModelNewApp option:selected').html();
      var business_model_code = $('#selectBusinessModelNewApp option:selected').val();
      if (applicationName != "" && applicationDesc != "") {
        if ("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
          var appIcon = $("#app_preview_icon").attr("class");
          var iconColor = rgb2hex($("#app_preview_icon").css("color"));
          var cardColor = rgb2hex($(".name_app_preview").css("background"));
          var textColor = rgb2hex($(".app_preview h5").css("color"));
          var descriptionTextColor = "";
          var t3_app_size = "";
        }
        else if ("{{app_template}}" == "template2"){
          var appIcon = $("#app_preview_icon").attr("class");
          var iconColor = rgb2hex($("#app_preview_icon").css("color"));
          var cardColor = String($(".app_workspace.app_preview.template2_preview").css("background"));
          var textColor = rgb2hex($(".app_preview h5").css("color"));
          var descriptionTextColor = rgb2hex($(".t2appDescription").css("color"));
          var t3_app_size = "";
        }
        else if ("{{app_template}}" == "template3"){
          var appIcon = $("#app_preview_icon").attr("class");
          var iconColor = rgb2hex($("#app_preview_icon").css("color"));
          var cardColor = String($(".app_workspace.app_preview.template3_preview").css("background"));
          var textColor = rgb2hex($(".app_preview h5").css("color"));
          var descriptionTextColor = "";
          var t3_app_size = $('#selectAppSizes').val()
        }
        else if ("{{app_template}}" == "template4" || "{{app_template}}" == "template5"){
          var appIcon = $("#template4_appIcon").attr("class");
          var iconColor = rgb2hex($("#template4_appIcon").css("color"));
          if ("{{app_template}}" == "template4"){
            var cardColor = String($(".app-container.template4_preview").css("background"));
          }else{
            var cardColor = ""
          }
          var textColor = rgb2hex($(".app-name.template4").css("color"));
          var descriptionTextColor = "";
          var t3_app_size = "";
        }

        $.ajax({
          url: `/users/Create_new/Dev/application/`,
          data: {
            'applicationName': applicationName,
            'applicationDesc': applicationDesc,
            'appIcon': appIcon,
            'iconColor': iconColor,
            'cardColor': cardColor,
            'textColor': textColor,
            't3_app_size':t3_app_size,
            'descriptionTextColor':descriptionTextColor,
            'business_model_name': business_model_name,
            'business_model_code': business_model_code,
            'db_connection_name': $("#selectDatabase").val(),
            'operation': 'createApplication',
          },
          type: "POST",
          dataType: "json",
          success: function (data) {
            if (data['response'] == "success") {
              $("#newAppdetails").modal('hide');
              Swal.fire({text:"New Application Created",icon:"success"})
              .then((result) => {
                if (result.isConfirmed) {

                  var app_theme_html = `
                  <div id="div_id_application_theme" class="form-group-expand-flex col-md-12">
                    <label for="applicationTheme" style="width:47%">
                      App Theme <span class="optional">(Optional)</span>
                    </label>
                    <div class="expand-check-group">
                      <button name="applicationTheme" class="fuller-button" required
                        id="applicationTheme" data-toggle="modal" data-target="#AppThemeModal" data-backdrop="static" data-keyboard="false"> Expand <i
                          class="fa-solid fa-share"></i> </button>
                    </div>
                  </div>
                  `
                  $("#newAppdetails").find("#div_id_application_theme").remove()
                  $("#newAppdetails #div_id_application_database").after(app_theme_html)

                  if( !mobileview.matches){
                    $("#applicationTheme").click(function(){
                      $("#nav-global-tab").trigger("click")
                    })
                  }

                  $("#AppThemeModal").attr("data-appcode", data.final_code)

                  $("#newAppdetails").modal("show")

                  button_html = `<button type="button" class="btn buttonfooter" style="background-color: var(--primary-color) !important" id="enterApplication" onclick="window.location.href='/users/${data.final_code}/Build/homePage/'">Enter App <i class="fas fa-right-to-bracket pl-3"></i></button>`

                  $("#cancel_appDetails").css("visibility", "hidden")
                  $("#saveNewApplication").after(button_html)
                  $("#saveNewApplication").remove()

                }
              });
            }
            else if(data['icon'] == "warning"){
              Swal.fire({text:data['response'],icon:"warning"})

            }
             else {
              Swal.fire({text:data['response'],icon:"error"})
            }
          },
          error: function () {
            Swal.fire({text:"Error",icon:"error"});
          }
        });
      }
      else {
        Swal.fire({text:'Please fill the application name and application description.',icon:"info"});
      }
    }


    else if(edit == true){
      if("{{app_template}}" == "default" || "{{app_template}}" == null || "{{app_template}}" == ""){
        var applicationName = ($("#applicationName").val());
        var applicationDesc = ($("#applicationDesc").val());
        var appIcon = $("#app_preview_icon").attr("class");
        var iconColor = rgb2hex($("#app_preview_icon").css("color"));
        var cardColor = String($(".name_app_preview").css("background"));
        var textColor = rgb2hex($(".app_preview h5").css("color"));
        var descriptionTextColor = ""
        var t3_app_size = "";
      }
      else if("{{app_template}}" == "template2"){
        var applicationName = ($("#applicationName").val());
        var applicationDesc = ($("#applicationDesc").val());
        var appIcon = $("#app_preview_icon").attr("class");
        var iconColor = rgb2hex($("#app_preview_icon").css("color"));
        var cardColor = String($(".app_workspace.app_preview.template2_preview").css("background"));
        var textColor = rgb2hex($(".app_preview h5").css("color"));
        var descriptionTextColor = rgb2hex($(".t2appDescription").css("color"));
        var t3_app_size = "";
      }
      else if("{{app_template}}" == "template3"){
        var applicationName = ($("#applicationName").val());
        var applicationDesc = ($("#applicationDesc").val());
        var appIcon = $("#app_preview_icon").attr("class");
        var iconColor = rgb2hex($("#app_preview_icon").css("color"));
        var cardColor = String($(".app_workspace.app_preview.template3_preview").css("background"));
        var textColor = rgb2hex($(".app_preview h5").css("color"));
        var descriptionTextColor = "";
        var t3_app_size = $('#selectAppSizes').val();
      }
      else if ("{{app_template}}" == "template4" || "{{app_template}}" == "template5"){
        var applicationName = ($("#applicationName").val());
        var applicationDesc = ($("#applicationDesc").val());
          var appIcon = $("#template4_appIcon").attr("class");
          var iconColor = rgb2hex($("#template4_appIcon").css("color"));
          if ("{{app_template}}" == "template4"){
            var cardColor = String($(".app-container.template4_preview").css("background"));
          }else{
            var cardColor = ""
          }
          var textColor = rgb2hex($(".app-name.template4").css("color"));
          var descriptionTextColor = "";
          var t3_app_size = "";
        }
      if (applicationName) {
        if (applicationDesc != "") {
          $('#alertSpanAppDesc').css("display", "none");
          $.ajax({
            url: `/users/Create_new/Dev/application/`,
            data: {
              'applicationCode': edit_appcode,
              'applicationDesc': applicationDesc,
              'applicationName': applicationName,
              'appIcon': appIcon,
              'iconColor': iconColor,
              'cardColor': cardColor,
              'textColor': textColor,
              'descriptionTextColor':descriptionTextColor,
              't3_app_size':t3_app_size,
              'operation': 'configApplicationStyle',
            },
            type: "POST",
            dataType: "json",
            success: function (data) {
              Swal.fire({text:`App Style Updated`,icon:"success"})
              .then((result) => {
                if (result.isConfirmed) {
                  window.location.reload()
                }
              })
            },
            error: function () {
              Swal.fire({text:"Error",icon:"error"});
            }
          });
        }

        else {
          $('#alertSpanAppDesc').css("display", "block");
          $('#alertSpanAppDesc').css("margin-bottom", "1em");
        }
      }
      else {
        $('#alertSpanAppName').css("display", "block");
        $('#alertSpanAppName').css("margin-bottom", "1em");
        $('.standard_button_click').prop('disabled', false)
      }
    }
  }
  })

  $("#createAppfromTemplate").click(function(){
    if ($("#appCreationFile").val() != ""){
        let formData = new FormData($("#AppCreationFileForm")[0]);
        formData.append("operation", "AppCreationExcel");
        formData.append("db_connection_name", $("#selectDatabase").val());

        $.ajax({
          url:`/users/Create_new/Dev/application/`,
          data: formData,
          type: 'POST',
          cache: false,
          contentType: false,
          processData: false,
          success: function (data) {
            if(data.icon == "warning"){
              Swal.fire({text:data.response,icon:"warning"});
            }
            else{
            if(data.hasOwnProperty('FinalSuccess')){
              Swal.fire({text:'Application Created Successfully!!',icon:"success"})
              let loc = window.location.href.split("users")[0];
              loc = loc + `users/selectApplication/`;
              window.location.href = loc;
            }else if(data.hasOwnProperty('Error')){
              Swal.fire({text:data.Error,icon:"error"});
            }
          }

          },
          error: ()=>{
              Swal.fire({text:"Error while creating application!",icon:"error"});
          }
        });
      }else{
        Swal.fire({text:"File not found!",icon:"error"});
      }
  })

  $("#backupApplication").click(function(){
    if ($("#c").text() != "" && $("#selectDatabase").val() != "") {
        $("#backupApplication").prop('disabled', true);
        let formData = new FormData($("#backupFileForm")[0]);
        formData.append("operation", "loadAppFromBackup");
        formData.append("db_connection_name", $("#selectDatabase").val());
        formData.append("appAstheticInput", $("#appAstheticInput").prop("checked"));
        formData.append("skipIfAssetExists", $("#skipIfAssetExists").prop("checked"));
        formData.append("customAppName", $("#applicationNameBackup").val());
        formData.append("customAppDesc", $("#applicationDescBackup").val());
        var appIcon = $("#app_preview_icon").attr("class");
        var iconColor = rgb2hex($("#app_preview_icon").css("color"));
        var cardColor = rgb2hex($(".name_app_preview").css("background"));
        var textColor = rgb2hex($(".app_preview h5").css("color"));
        var descriptionTextColor = $(".t2appDescription").css("color");
        var hyperlink_description_text_color = $(".HLt2appDescription").css("color");
        formData.append("appIcon", appIcon);
        formData.append("iconColor", iconColor);
        formData.append("cardColor", cardColor);
        formData.append("textColor", textColor);
        formData.append("descriptionTextColor", descriptionTextColor);

        $.ajax({
          url:`/users/Create_new/Dev/application/`,
          data: formData,
          type: 'POST',
          cache: false,
          contentType: false,
          processData: false,
          success: function (data) {
            if(data.icon == "warning"){
              Swal.fire({text:data.response,icon:"warning"});
            }
            else{
              Swal.fire({text:data.response,icon:"success"});
              if (!data["response"].startsWith("Error loading the app")){
                window.location.reload();
              }
            }
            $("#backupApplication").prop('disabled', false);
          },
          error: ()=>{
            $("#backupApplication").prop('disabled', false);
            Swal.fire({text:"Error loading the app from backup!",icon:"error"});
          }
        });
      } else {
        Swal.fire({text:"File or database not selected!",icon:"warning"});
      }
  })

  $(".devMode").on('click', function () {
    let app_code = $(this).attr("data-app_code");
    let system_dev_mode = $(this).attr('data-system_dev_mode')
    $.ajax({
      url: '/users/selectApplication/',
      data: {
        'app_code': app_code,
        'system_dev_mode': system_dev_mode,
        'operation': "select_developer_mode",
      },
      type: "POST",
      dataType: "json",
      success: function (data) {
        let loc = window.location.pathname.split("users")[0];
        loc = loc + `users/${app_code}/${data.dev_mode}/homePage/`;
        window.location.href = loc;
      },
      error: function () {
        Swal.fire({text:"Error",icon:"error"});
      }
    });
  });

  function delete_link(element){
    var hyperlink_code = $(element).attr("data-app_code")
    var hyperlink_name = $(element).attr("data-app_name")
    var confirmDel = null
    Swal.fire({
      icon:'question',
      text: `Do you wish to delete  ${hyperlink_name}? \n\nClick 'Yes' to confirm or click 'No' if you do not wish to delete it.`,
              showDenyButton: true,
              showCancelButton: true,
              confirmButtonText: 'Yes',
              denyButtonText: 'No',
    }).then((result) => {
      if (result.isConfirmed) {
        confirmDel = true
        if(confirmDel){
          $.ajax({
              url: window.location.pathname,
              data: {
              'hyperlink_name': hyperlink_name,
              'hyperlink_code': hyperlink_code,
              'operation': 'deleteHyperlink',
              },
              type: "POST",
              dataType: "json",
              success: function (data) {
                  $(this).remove();
                  Swal.fire({text:"Hyperlink deleted successfully!",icon:"success"})
                  .then((result) => {
                    if (result.isConfirmed) {
                      location.reload();
                    }
                  })

              },
              error: function (data) {
                  Swal.fire({text:data["response"],icon:"error"})
              }
          });
        }
      }
    })


  };

  $(".delete_app").on('click',function(){
    var appCode = $(this).attr("data-app_code")
    var appName = $(this).attr("data-app_name")
    var confirmDel = null
    Swal.fire({
      icon:'question',
      text: `Do you wish to delete  ${appName}? \n\nClick 'Yes' to confirm or click 'No' if you do not wish to delete it.`,
              showDenyButton: true,
              showCancelButton: true,
              confirmButtonText: 'Yes',
              denyButtonText: 'No',
    }).then((result) => {
      if (result.isConfirmed) {
        confirmDel = true
        let url_string = window.location.pathname
        let f_occ = url_string.indexOf('/', url_string.indexOf('/') + 1)
        let s_occ = url_string.indexOf('/', url_string.indexOf('/') + f_occ +1)
        let t_occ = url_string.indexOf('/', url_string.indexOf('/') + s_occ +1)
        let app_code2 = url_string.substring(f_occ+1,s_occ)
        let current_dev_mode2 = url_string.substring(s_occ+1,t_occ)
        if(app_code2 == "application" || app_code2 == "selectApplication"){
            app_code2 = "Create_new"
            current_dev_mode2 = "Dev"
        }
        if(confirmDel == true){
          $.ajax({
              url: `/users/${app_code2}/${current_dev_mode2}/application/`,
              data: {
              'applicationName': appName,
              'applicationCode': appCode,
              'operation': 'deleteApplication',
              },
              type: "POST",
              dataType: "json",
              success: function (data) {
                  $(this).remove();
                  Swal.fire({text:"Application deleted successfully!",icon:"success"})
                  .then((result) => {
                    if (result.isConfirmed) {
                      location.reload();
                    }
                  })

              },
              error: function (data) {
                  Swal.fire({text:data["response"],icon:"error"})
              }
          });
        }
      }
    })


  });

  $(".update_app").on('click', function () {
    var appCode = $(this).attr("data-app_code")
    var appName = $(this).attr("data-app_name")
    let url_string = window.location.pathname
    let f_occ = url_string.indexOf('/', url_string.indexOf('/') + 1)
    let s_occ = url_string.indexOf('/', url_string.indexOf('/') + f_occ + 1)
    let t_occ = url_string.indexOf('/', url_string.indexOf('/') + s_occ + 1)
    let app_code2 = url_string.substring(f_occ + 1, s_occ)
    let current_dev_mode2 = url_string.substring(s_occ + 1, t_occ)
    if (app_code2 == "application" || app_code2 == "selectApplication") {
      app_code2 = "Create_new"
      current_dev_mode2 = "Dev"
    }
    $.ajax({
      url: `/users/${appCode}/Build/application/`,
      data: {
        'applicationName': appName,
        'applicationCode': appCode,
        'operation': 'updateApplication',
      },
      type: "POST",
      dataType: "json",
      success: function (data) {
        Swal.fire({text:data["response"],icon:data["icon"]});

      },
      error: function () {
        Swal.fire({text:"Error",icon:"error"});
      }
    });
  });


  $("#updateDatabase").on('click', function () {
    let url_string = window.location.pathname
    let f_occ = url_string.indexOf('/', url_string.indexOf('/') + 1)
    let s_occ = url_string.indexOf('/', url_string.indexOf('/') + f_occ + 1)
    let t_occ = url_string.indexOf('/', url_string.indexOf('/') + s_occ + 1)
    let app_code2 = url_string.substring(f_occ + 1, s_occ)
    let current_dev_mode2 = url_string.substring(s_occ + 1, t_occ)
    if (app_code2 == "application" || app_code2 == "selectApplication") {
      app_code2 = "Create_new"
      current_dev_mode2 = "Dev"
    }
    $.ajax({
      url: `/users/${app_code2}/${current_dev_mode2}/application/`,
      data: {
        'operation': 'updateDatabase',
      },
      type: "POST",
      dataType: "json",
      success: function (data) {
        Swal.fire({text:"Connected database updated successfully.",icon:'success'});
      },
      error: function () {
        Swal.fire({text:"Error",icon:"error"})
      }
    });
  });


</script>

{% if is_user_dev == 'true' or is_user_superuser == 'true' %}
<script>

  // ! Developer mode options
  function devModeOptions() {

    let devAppNames = {{ dev_applications| safe}};
  for (const dev of devAppNames) {
    $("#appContainer").find(".info-box").each(function () {
      let app_code = $(this).find(".info-box-content").find(".info-box-text").attr("data-app_code");
      if (app_code === dev.application_code) {
        $(this).find('span.badge > div.dropdown-menu').append(`
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item devMode" data-app_code="${dev.application_code}" data-app_name="${dev.application_name}"
                                    data-system_dev_mode="{{system_dev_mode}}"
                        style="padding-left:5%;padding-top:5%;padding-bottom: 5%;font-size:85%;">
                        <i class="fas fa-tools mr-2"></i> Login in {{system_dev_mode}} mode
                        </a>
                    `);
        $(this).find('span.badge > div.dropdown-menu').append(`
                        <div class="dropdown-divider"></div>
                        <a class="update_app dropdown-item" data-app_code="${dev.application_code}" data-app_name="${dev.application_name}" style="padding-left:5%;padding-top:5%;padding-bottom: 5%">
                            <i class="fa fa-refresh mr-2" data-toggle="tooltip"></i><span>Update Application</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a class="delete_app dropdown-item" data-app_code="${dev.application_code}" data-app_name="${dev.application_name}"
                        data-system_dev_mode="{{system_dev_mode}}" style="padding-left:5%;padding-top:5%;padding-bottom: 5%">
                            <i class="far fa-trash-alt mr-2" data-toggle="tooltip"></i><span>Delete Application</span>
                        </a>
                    `)
      }
    });
  }

  }

</script>
{% endif %}


{% endblock %}


{% block platform-footer %}
  {% with custom_footer=custom_footer %}
    {{ block.super }}
  {% endwith %}
{% endblock %}